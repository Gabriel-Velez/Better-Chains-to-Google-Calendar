"use strict";(self.webpackChunkNG_FOH=self.webpackChunkNG_FOH||[]).push([[792],{4437:(X,R,s)=>{s.d(R,{G:()=>f});var i=s(316),t=s(8559);let f=(()=>{class O{static \u0275fac=function(v){return new(v||O)};static \u0275mod=t.$C({type:O});static \u0275inj=t.G2t({imports:[i.MD]})}return O})()},8698:(X,R,s)=>{s.d(R,{s:()=>d});var i=s(2630),t=s(9109),f=s(3474),O=s(8559),n=s(112);let d=(()=>{class v{t;multiple=!0;maxWidth=1200;maxHeight=1200;actionSheetOptions=[];constructor(k){this.t=k,this.actionSheetOptions=[{title:this.t.translate("Camera")},{title:this.t.translate("Picture Gallery")},{title:this.t.translate("Cancel"),style:i.JN.Destructive}]}RunAsync(k,T=0,M=0){return new Promise((m,g)=>{this.multiple=k,T>0&&(this.maxWidth=T),M>0&&(this.maxHeight=M),i.Ee.showActions({title:this.t.translate("Pick image source"),options:this.actionSheetOptions}).then(I=>{switch(I.index){case 0:t.i7.getPhoto({quality:100,allowEditing:!1,resultType:t.LK.Base64,correctOrientation:!0,width:this.maxWidth,height:this.maxHeight,source:t.ru.Camera}).then(x=>{m([{data:x.base64String,filename:(new Date).getTime()+".jpg"}])}).catch(x=>g(x));break;case 1:t.i7.pickImages({quality:100,limit:this.multiple?10:1,width:this.maxWidth,height:this.maxHeight}).then(x=>{const W=[];let j=0,Y=x.photos.length;for(let q=0;q<x.photos.length;q++)f.YA.readFile({path:x.photos[q].path}).then(V=>{W.push({data:V.data.toString(),filename:x.photos[q].path.substring(x.photos[q].path.lastIndexOf("/")+1)})}).finally(()=>{j++,j==Y&&m(W)})})}})})}dataURLtoFile(k,T){const M=k.split(","),m=M[0].match(/:(.*?);/)[1],g=atob(M[1]);let I=g.length;const x=new Uint8Array(I);for(;I--;)x[I]=g.charCodeAt(I);return new File([x],T,{type:m})}static \u0275fac=function(T){return new(T||v)(O.KVO(n.JO))};static \u0275prov=O.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},6576:(X,R,s)=>{s.d(R,{b:()=>m});var i=s(8559),t=s(3942),f=s(8165),O=s(316),n=s(112);function d(g,I){1&g&&(i.j41(0,"div",13),i.nrm(1,"div",14),i.k0s())}function v(g,I){if(1&g&&(i.j41(0,"div",10),i.DNE(1,d,2,0,"div",11),i.j41(2,"span",12),i.EFF(3),i.nI1(4,"transloco"),i.k0s()()),2&g){const x=i.XpG();i.R7$(),i.Y8G("ngIf",x.showSuccessIcon),i.R7$(2),i.JRh(i.bMT(4,2,x.message))}}function e(g,I){if(1&g){const x=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(x);const j=i.XpG();return i.Njj(j.okEvent())}),i.EFF(1),i.nI1(2,"transloco"),i.k0s()}if(2&g){const x=i.XpG();i.R7$(),i.JRh(i.bMT(2,1,x.okText))}}function k(g,I){if(1&g){const x=i.RV6();i.j41(0,"button",16),i.bIt("click",function(){i.eBV(x);const j=i.XpG();return i.Njj(j.additionalEvent())}),i.EFF(1),i.nI1(2,"transloco"),i.k0s()}if(2&g){const x=i.XpG();i.Y8G("ngClass",x.additionalButtonAddClass?x.additionalButtonAddClass:""),i.R7$(),i.JRh(i.bMT(2,2,x.additionalText))}}function T(g,I){if(1&g){const x=i.RV6();i.j41(0,"button",17),i.bIt("click",function(){i.eBV(x);const j=i.XpG();return i.Njj(j.closeDialog())}),i.EFF(1),i.nI1(2,"transloco"),i.k0s()}if(2&g){const x=i.XpG();i.R7$(),i.JRh(i.bMT(2,1,x.closeText))}}let M=(()=>{class g{ref;confirmEvent=new i.bkB;confirmCloseEvent=new i.bkB;additionalEventRise=new i.bkB;title="";message="";closeText="";okText="";additionalText="";showClose=!0;okBeforeClose=!0;additionalButton=!1;additionalButtonAddClass;additionalStyle="";showSuccessIcon=!1;constructor(x){this.ref=x}ngOnInit(){}closeDialogTop(){this.showClose?this.closeDialog():this.ref.hide()}closeDialog(){this.confirmCloseEvent.emit(),this.ref.hide()}okEvent(){this.confirmEvent.emit()}additionalEvent(){this.additionalEventRise.emit()}static \u0275fac=function(W){return new(W||g)(i.rXU(f.Y$))};static \u0275cmp=i.VBU({type:g,selectors:[["foh-plain-dialog"]],decls:14,vars:8,consts:[[1,"modal-dialog-wrapper"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","modal-dialog-close-button"],["aria-hidden","true",3,"click"],[1,"modal-title","modal-dialog-title"],["class","modal-body modal-dialog-content",4,"ngIf"],[1,"modal-footer","modal-dialog-footer",3,"ngStyle"],["class","modal-dialog-button",3,"click",4,"ngIf"],["class","modal-dialog-button",3,"ngClass","click",4,"ngIf"],["class","modal-dialog-button modal-secondary-button",3,"click",4,"ngIf"],[1,"modal-body","modal-dialog-content"],["class","modal-icon-holder",4,"ngIf"],[1,"message-container"],[1,"modal-icon-holder"],[1,"modal-icon-container"],[1,"modal-dialog-button",3,"click"],[1,"modal-dialog-button",3,"click","ngClass"],[1,"modal-dialog-button","modal-secondary-button",3,"click"]],template:function(W,j){1&W&&(i.j41(0,"div",0)(1,"div",1)(2,"button",2)(3,"span",3),i.bIt("click",function(){return j.closeDialogTop()}),i.EFF(4,"\xd7"),i.k0s()(),i.nrm(5,"br"),i.j41(6,"h4",4),i.EFF(7),i.nI1(8,"transloco"),i.k0s()(),i.DNE(9,v,5,4,"div",5),i.j41(10,"div",6),i.DNE(11,e,3,3,"button",7)(12,k,3,4,"button",8)(13,T,3,3,"button",9),i.k0s()()),2&W&&(i.R7$(7),i.JRh(i.bMT(8,6,j.title)),i.R7$(2),i.Y8G("ngIf",j.message||j.showSuccessIcon),i.R7$(),i.Y8G("ngStyle",j.additionalStyle),i.R7$(),i.Y8G("ngIf",j.okText&&j.okBeforeClose),i.R7$(),i.Y8G("ngIf",j.additionalButton&&j.additionalText),i.R7$(),i.Y8G("ngIf",j.closeText&&j.showClose))},dependencies:[O.YU,O.bT,O.B3,n.Kj],styles:[".modal-secondary-button[_ngcontent-%COMP%]{background-color:#fff!important;color:#4a4a4a!important}.modal-icon-holder[_ngcontent-%COMP%]{text-align:center}.modal-icon-holder[_ngcontent-%COMP%]   .modal-icon-container[_ngcontent-%COMP%]{height:71px;width:71px;background-repeat:no-repeat;background-position:center;background-size:contain;vertical-align:center;text-align:center;background-image:url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2/green-checkmark.fc17acea2349bd2c.gif);display:inline-block}",".modal-content{margin:20px 10px!important;border:none;background-color:var(--foh-card-bg-color)}.modal-dialog-button[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;border:solid 1px #dae8ed;background-color:var(--foh-color-main);padding:15px;display:inline-block;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-.16px;text-align:center;color:#fff;margin:0 3px 3px}.modal-secondary-button[_ngcontent-%COMP%]{background-color:#fff!important;color:#4a4a4a!important}.modal-dialog-button-transparent[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;background-color:#fff}.modal-dialog-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-.2px;color:#000}.modal-dialog-content[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.64;letter-spacing:-.16px;color:#4a4a4a;padding:10px 32px}.modal-dialog-close-button[_ngcontent-%COMP%]{font-size:24px}.modal-icon-holder[_ngcontent-%COMP%]{text-align:center}.modal-icon-holder[_ngcontent-%COMP%]   .modal-icon-container[_ngcontent-%COMP%]{height:71px;width:71px;background-repeat:no-repeat;background-position:center;background-size:contain;vertical-align:center;text-align:center;background-image:url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2/green-checkmark.fc17acea2349bd2c.gif);display:inline-block}"]})}return g})(),m=(()=>{class g{modal;showSignDialog=new i.bkB;showFormDialog=new i.bkB;closedFormDialog=new i.bkB;hideSignDialog=new i.bkB;signatureIsNotEmpty=new i.bkB;dialogVisibleStatus=!1;MOBILE_WIDTH=720;ALERT_OK=1;ALERT_CLOSE=2;ADDITIONAL_EVENT_RISE=3;constructor(x){this.modal=x}showSignDialogPopup(){this.showSignDialog.emit()}showFormPopup(x){this.showFormDialog.emit(x)}formDialogClosed(x){this.closedFormDialog.emit(x)}hideSignDialogPopup(){this.hideSignDialog.emit()}riseSignatureIsNotEmpty(){this.signatureIsNotEmpty.emit()}confirm(x,W={animated:!0,class:""}){return W.initialState={title:x?.title??"Confirm",message:x?.message??"Are you sure?",okText:x?.okText??"Ok",closeText:x?.closeText??"Cancel",okBeforeClose:x?.okBeforeClose??!0,additionalButton:x?.additionalButton??!1,additionalButtonAddClass:x?.additionalButtonAddClass??"",additionalText:x?.additionalButton&&x?.additionalText?x?.additionalText:"",showClose:!0!==x?.showClose&&!1!==x?.showClose||x?.showClose,additionalStyle:x?.additionalStyle??"",showSuccessIcon:x?.showSuccessIcon??""},new t.c(j=>{const Y=this.modal.show(M,W);Y.content.confirmEvent.subscribe(()=>{j.next(this.ALERT_OK),Y.hide()}),Y.content.confirmCloseEvent.subscribe(()=>{j.next(this.ALERT_CLOSE),Y.hide()}),Y.content.additionalEventRise.subscribe(()=>{j.next(this.ADDITIONAL_EVENT_RISE),Y.hide()})})}static \u0275fac=function(W){return new(W||g)(i.KVO(f.I8))};static \u0275prov=i.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},5553:(X,R,s)=>{s.d(R,{h:()=>e});var i=s(316),t=s(112),f=s(1683),O=s(3721),n=s(8165),d=s(4437),v=s(8559);let e=(()=>{class k{static \u0275fac=function(m){return new(m||k)};static \u0275mod=v.$C({type:k});static \u0275inj=v.G2t({imports:[d.G,i.MD,t.Q8,f.Y,O.h,n.Q_.forRoot()]})}return k})()},4594:(X,R,s)=>{s.d(R,{d:()=>t});var i=s(8559);let t=(()=>{class f{password;minPasswordLength=8;colors=[];strengthChange=new i.bkB;passwordStrength=null;prevPasswordStrength=null;defaultColours=["darkred","orangered","orange","yellowgreen","green"];constructor(){}ngOnInit(){}ngOnChanges(n){n.password&&this.calculatePasswordStrength()}calculatePasswordStrength(){this.passwordStrength=this.password?this.score(this.password):null,this.prevPasswordStrength!==this.passwordStrength&&(this.strengthChange.emit(this.passwordStrength),this.prevPasswordStrength=this.passwordStrength)}score(n){let d=-1;n.length>=8&&d++;const v=n.match(/.*[a-z]/);v&&v.length>0&&d++;const e=n.match(/.*[A-Z]/);e&&e.length>0&&d++;const k=n.match(/.*[0-9]/);k&&k.length>0&&d++;const T=n.match(/.*[!@#$%^&*]/);return T&&T.length>0&&d++,d}getMeterFillColor(n){return!n||n<0||n>5?this.colors[0]?this.colors[0]:this.defaultColours[0]:this.colors[n]?this.colors[n]:this.defaultColours[n]}static \u0275fac=function(d){return new(d||f)};static \u0275cmp=i.VBU({type:f,selectors:[["foh-password-meter"]],inputs:{password:"password",minPasswordLength:"minPasswordLength",colors:"colors"},outputs:{strengthChange:"strengthChange"},features:[i.OA$],decls:3,vars:3,consts:[[1,"strength-meter"],[1,"strength-meter-fill"]],template:function(d,v){1&d&&(i.j41(0,"div")(1,"div",0),i.nrm(2,"div",1),i.k0s()()),2&d&&(i.R7$(2),i.xc7("background",v.getMeterFillColor(v.passwordStrength)),i.BMQ("data-strength",v.passwordStrength))},styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}.strength-meter[_ngcontent-%COMP%]{position:relative;height:3px;background:#ddd;margin:10px auto;border-radius:3px}.strength-meter[_ngcontent-%COMP%]:before, .strength-meter[_ngcontent-%COMP%]:after{content:"";height:inherit;background:transparent;display:block;border-color:#fff;border-style:solid;border-width:0 5px 0 5px;position:absolute;width:calc((100% - 20px)/5 + 10px);z-index:10}.strength-meter[_ngcontent-%COMP%]:before{left:calc((100% - 20px)/5)}.strength-meter[_ngcontent-%COMP%]:after{right:calc((100% - 20px)/5)}.strength-meter-fill[_ngcontent-%COMP%]{background:transparent;height:inherit;position:absolute;width:0;border-radius:inherit;transition:width .5s ease-in-out,background .25s}.strength-meter-fill[data-strength="0"][_ngcontent-%COMP%]{background:#8b0000;width:20%}.strength-meter-fill[data-strength="1"][_ngcontent-%COMP%]{background:#ff4500;width:40%}.strength-meter-fill[data-strength="2"][_ngcontent-%COMP%]{background:orange;width:60%}.strength-meter-fill[data-strength="3"][_ngcontent-%COMP%]{background:#9acd32;width:80%}.strength-meter-fill[data-strength="4"][_ngcontent-%COMP%]{background:green;width:100%}.password-feedback[_ngcontent-%COMP%], .password-suggetion[_ngcontent-%COMP%]{font-size:70%;font-weight:400;color:#6c757d!important;display:block;margin-top:.25rem}']})}return f})()},6458:(X,R,s)=>{s.d(R,{B:()=>f});var i=s(8559);const t=["*"];let f=(()=>{class O{hostElement;flexDirection="column";foregroundColor=null;backgroundColor=null;shadow="0 7px 12px 0 rgba(0, 0, 0, 0.08)";set direction(d){this.flexDirection=d}set setShadow(d){this.shadow=d}set background(d){this.backgroundColor=d}set color(d){this.foregroundColor=d}constructor(d){this.hostElement=d}ngOnInit(){}isInViewport(){const d=this.hostElement.nativeElement.getBoundingClientRect(),v=document.documentElement;return d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||v.clientHeight)&&d.right<=(window.innerWidth||v.clientWidth)}static \u0275fac=function(v){return new(v||O)(i.rXU(i.aKT))};static \u0275cmp=i.VBU({type:O,selectors:[["foh-card"]],hostVars:8,hostBindings:function(v,e){2&v&&i.xc7("flex-direction",e.flexDirection)("color",e.foregroundColor)("background-color",e.backgroundColor)("box-shadow",e.shadow)},inputs:{direction:"direction",setShadow:"setShadow",background:"background",color:"color"},ngContentSelectors:t,decls:1,vars:0,template:function(v,e){1&v&&(i.NAR(),i.SdG(0))},styles:["[_nghost-%COMP%]{display:flex;padding:15px;width:100%;border-radius:10px;box-shadow:0 7px 12px #00000014;background-color:var(--foh-card-bg-color);margin-bottom:15px;align-content:stretch}\n\n/*# sourceMappingURL=foh-card.component.ts-angular-inline--1.css.map*/"]})}return O})()},9035:(X,R,s)=>{s.d(R,{G:()=>k});var i=s(5312),t=s(4070),f=s(8559),O=s(6710),n=s(680),d=s(963),v=s(436);const e=["*"];let k=(()=>{class T{route;ngZone;ls;shared;sanitizer;hasMargin="\"calc(env(safe-area-inset-top, 'auto') + 41px)\"";notMargin="0";subs=[];hiddenMainMenuByParam=!1;marginTop="calc(env(safe-area-inset-top, 'auto') + 41px)";set pageTitle(m){setTimeout(()=>this.ngZone.run(()=>this.ls.pagetitle.emit(m)),100)}set dontShowMenuAtAll(m){setTimeout(()=>this.ngZone.run(()=>this.ls.dontShowMenuAtAll.emit(m)),0)}set showBurger(m){setTimeout(()=>this.ngZone.run(()=>this.ls.showBurger.emit(m)),0)}set showBack(m){setTimeout(()=>this.ngZone.run(()=>this.ls.showBack.emit(m)),0)}set backLink(m){setTimeout(()=>this.ngZone.run(()=>this.ls.backLink.emit(m)),0)}set showClose(m){setTimeout(()=>this.ngZone.run(()=>this.ls.showClose.emit(m)),0)}set closeLink(m){setTimeout(()=>this.ngZone.run(()=>this.ls.closeLink.emit(m)),0)}set showSearch(m){setTimeout(()=>this.ngZone.run(()=>this.ls.showSearch.emit(m)),0)}set searchPlaceholder(m){setTimeout(()=>this.ngZone.run(()=>this.ls.searchPlaceholder.emit(m)),0)}set searchFilters(m){setTimeout(()=>this.ngZone.run(()=>this.ls.showSearchFilters.emit(m)),0)}constructor(m,g,I,x,W){this.route=m,this.ngZone=g,this.ls=I,this.shared=x,this.sanitizer=W,this.subs.push(this.shared.onChangeHeaderVisibility.subscribe(j=>{this.hiddenMainMenuByParam=j,this.checkMargin()})),this.checkMargin()}checkMargin(){"true"===this.route.snapshot.queryParamMap.get("hideMainMenu")||!0===this.ls.hideMainMenu||!0===this.hiddenMainMenuByParam?this.marginTop=this.notMargin:(this.hasMargin=i.c.isApp&&"ios"===t.Ii.getPlatform()?this.sanitizer.bypassSecurityTrustStyle("calc(env(safe-area-inset-top, 'auto') + 41px)"):"41px",this.ls.headerstate.subscribe(g=>{this.marginTop=g?this.hasMargin:this.notMargin}))}static \u0275fac=function(g){return new(g||T)(f.rXU(O.nX),f.rXU(f.SKi),f.rXU(n.Y),f.rXU(d.d),f.rXU(v.up))};static \u0275cmp=f.VBU({type:T,selectors:[["foh-container"]],hostVars:2,hostBindings:function(g,I){2&g&&f.xc7("margin-top",I.marginTop)},inputs:{pageTitle:"pageTitle",dontShowMenuAtAll:"dontShowMenuAtAll",showBurger:"showBurger",showBack:"showBack",backLink:"backLink",showClose:"showClose",closeLink:"closeLink",showSearch:"showSearch",searchPlaceholder:"searchPlaceholder",searchFilters:"searchFilters"},ngContentSelectors:e,decls:1,vars:0,template:function(g,I){1&g&&(f.NAR(),f.SdG(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;justify-content:center}\n\n/*# sourceMappingURL=foh-container.component.ts-angular-inline--2.css.map*/"]})}return T})()},1841:(X,R,s)=>{s.d(R,{e:()=>O});var i=s(8559),t=s(680);const f=["*"];let O=(()=>{class n{layout;subs=[];constructor(v){this.layout=v}ngOnInit(){this.subscribeOpenedSearch(),this.subscribeShowSearchStatusChanging()}subscribeShowSearchStatusChanging(){this.subs.push(this.layout.showSearchStatusChanging.subscribe(v=>{0==v&&this.setFohContentMargin(0)}))}subscribeOpenedSearch(){this.subs.push(this.layout.searchOpened.subscribe(()=>{console.log("foh-content searchResults - searchOpened"),this.setFohContentMargin("51px")}))}setFohContentMargin(v){let e=document.getElementsByTagName("foh-content")[0];e&&(e.style.marginTop=v)}ngOnDestroy(){this.subs.forEach(v=>v.unsubscribe())}static \u0275fac=function(e){return new(e||n)(i.rXU(t.Y))};static \u0275cmp=i.VBU({type:n,selectors:[["foh-content"]],ngContentSelectors:f,decls:1,vars:0,template:function(e,k){1&e&&(i.NAR(),i.SdG(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin:0;padding:15px}[no-padding][_nghost-%COMP%]{padding:0}@media screen and (max-width: 479px){[_nghost-%COMP%]{width:100%}}@media screen and (min-width: 480px) and (max-width: 639px){[_nghost-%COMP%]{width:100%;max-width:640px}}@media screen and (min-width: 640px) and (max-width: 959px){[_nghost-%COMP%]{width:100%;max-width:959px}}@media screen and (min-width: 960px){[_nghost-%COMP%]{width:100%;max-width:960px}}\n\n/*# sourceMappingURL=foh-content.component.ts-angular-inline--3.css.map*/"]})}return n})()},3734:(X,R,s)=>{s.d(R,{y:()=>T});var i=s(8559),t=s(316);const f=["*"],O=(M,m,g,I,x,W,j,Y)=>({color:M,padding:m,backgroundColor:g,borderRadius:I,marginLeft:x,marginRight:W,marginTop:j,marginBottom:Y}),n=M=>({color:M});function d(M,m){if(1&M&&i.nrm(0,"i"),2&M){const g=i.XpG();i.HbH(g.icon)}}function v(M,m){1&M&&i.nrm(0,"i",7)}function e(M,m){if(1&M&&(i.j41(0,"div",8),i.nrm(1,"i",9),i.k0s()),2&M){const g=i.XpG();i.R7$(),i.ZvI("fa-light fa-angle-",g.isRTL?"left":"right",""),i.Y8G("ngStyle",i.eq3(4,n,g.arrowColor))}}function k(M,m){if(1&M&&(i.j41(0,"div",10)(1,"bdo",11),i.EFF(2),i.k0s()()),2&M){const g=i.XpG();i.R7$(2),i.JRh(g.counter<100?g.counter:"99+")}}let T=(()=>{class M{isRTL="rtl"===document.body.parentElement.getAttribute("dir");foregroundColor=null;backgroundColor=null;mainPadding="15px";loading=!1;icon="fa-light fa-file";icons={};iconColor="black";arrowColor="#aab7c9";iconColors={};iconBackgroundColor="white";iconBackgroundColors={};counter=0;routerLink=null;showArrow=null;queryParams=null;href=null;set padding(g){this.mainPadding=g}set statuses(g){for(let I in g)g[I]&&(this.icons.hasOwnProperty(I)&&(this.icon=this.icons[I]),this.iconColors.hasOwnProperty(I)&&(this.iconColor=this.iconColors[I]),this.iconBackgroundColors.hasOwnProperty(I)&&(this.iconBackgroundColor=this.iconBackgroundColors[I]))}iconBorderRadius=this.isRTL?"0 10px 10px 0":"10px 0 0 10px";iconMarginRight=this.isRTL?"-"+this.mainPadding:this.mainPadding;iconMarginLeft=this.isRTL?this.mainPadding:"-"+this.mainPadding;restyle(){this.isRTL="rtl"===document.body.parentElement.getAttribute("dir"),this.iconBorderRadius=this.isRTL?"0 10px 10px 0":"10px 0 0 10px",this.iconMarginRight=this.isRTL?"-"+this.mainPadding:this.mainPadding,this.iconMarginLeft=this.isRTL?this.mainPadding:"-"+this.mainPadding}set background(g){this.backgroundColor=g}set color(g){this.foregroundColor=g}onClick(){this.href&&!this.routerLink&&(window.location.href=this.href)}constructor(){new MutationObserver(g=>{for(let I of g)"attributes"===I.type&&"dir"===I.attributeName&&this.restyle()}).observe(document.getElementsByTagName("html")[0],{attributes:!0,childList:!1,subtree:!1})}ngOnInit(){this.restyle()}static \u0275fac=function(I){return new(I||M)};static \u0275cmp=i.VBU({type:M,selectors:[["foh-icon-card"]],hostVars:6,hostBindings:function(I,x){1&I&&i.bIt("click",function(j){return x.onClick(j)}),2&I&&i.xc7("color",x.foregroundColor)("background-color",x.backgroundColor)("padding",x.mainPadding)},inputs:{loading:"loading",icon:"icon",icons:"icons",iconColor:"iconColor",arrowColor:"arrowColor",iconColors:"iconColors",iconBackgroundColor:"iconBackgroundColor",iconBackgroundColors:"iconBackgroundColors",counter:"counter",routerLink:"routerLink",showArrow:"showArrow",queryParams:"queryParams",href:"href",padding:"padding",statuses:"statuses",background:"background",color:"color"},ngContentSelectors:f,decls:9,vars:14,consts:[[1,"icon",3,"ngStyle"],[3,"class",4,"ngIf"],["class","fa-light fa-refresh fa-spin fa-fw",4,"ngIf"],[1,"sr-only"],[1,"content"],["class","arrow",4,"ngIf"],["class","counter",4,"ngIf"],[1,"fa-light","fa-refresh","fa-spin","fa-fw"],[1,"arrow"],["aria-hidden","true",3,"ngStyle"],[1,"counter"],["dir","ltr"]],template:function(I,x){1&I&&(i.NAR(),i.j41(0,"div",0),i.DNE(1,d,1,3,"i",1)(2,v,1,0,"i",2),i.j41(3,"span",3),i.EFF(4,"Loading..."),i.k0s()(),i.j41(5,"div",4),i.SdG(6),i.k0s(),i.DNE(7,e,2,6,"div",5)(8,k,3,1,"div",6)),2&I&&(i.Y8G("ngStyle",i.lV(5,O,x.iconColor,x.mainPadding,x.iconBackgroundColor,x.iconBorderRadius,x.iconMarginLeft,x.iconMarginRight,"-"+x.mainPadding,"-"+x.mainPadding)),i.R7$(),i.Y8G("ngIf",!x.loading),i.R7$(),i.Y8G("ngIf",x.loading),i.R7$(5),i.Y8G("ngIf",x.href||x.routerLink||x.showArrow),i.R7$(),i.Y8G("ngIf",x.counter&&x.counter>0))},dependencies:[t.bT,t.B3],styles:["[_nghost-%COMP%]{display:flex;flex-shrink:0;flex-direction:row;width:100%;border-radius:10px;box-shadow:0 7px 12px #00000014;background-color:var(--foh-card-bg-color);margin-bottom:15px;align-content:stretch;cursor:pointer;position:relative;outline:none}[_nghost-%COMP%] > div.icon[_ngcontent-%COMP%]{margin-top:-15px;margin-bottom:-15px;display:flex;align-items:center;justify-content:center;width:48px;font-size:22px}[_nghost-%COMP%] > div.content[_ngcontent-%COMP%]{font-size:14px;flex-grow:1;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%] > div.arrow[_ngcontent-%COMP%]{display:flex;align-items:center;color:#aab7c9}[_nghost-%COMP%] > div.arrow[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{width:16px;font-size:22px}[_nghost-%COMP%] > div.counter[_ngcontent-%COMP%]{position:absolute;top:-9px;left:-9px;right:auto;background-color:#000;width:20px;height:20px;border-radius:10px;color:#fff;font-size:10px;border:none;display:flex;align-items:center;justify-content:center}html[dir=rtl]   [_nghost-%COMP%] > div.counter[_ngcontent-%COMP%]{right:-9px;left:auto}\n\n/*# sourceMappingURL=foh-icon-card.component.ts-angular-inline--4.css.map*/"]})}return M})()},3265:(X,R,s)=>{s.d(R,{a:()=>ut});var i=s(9204),t=s(8559);class f{startPoint;control1;control2;endPoint;constructor(_,u,E,w){this.startPoint=_,this.control1=u,this.control2=E,this.endPoint=w}length(){let E,w,L,z,Q,it,u=0,st=0,nt=0;for(E=0;E<=10;E++)w=E/10,L=this._point(w,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),z=this._point(w,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),E>0&&(Q=L-st,it=z-nt,u+=Math.sqrt(Q*Q+it*it)),st=L,nt=z;return u}_point(_,u,E,w,L){return u*(1-_)*(1-_)*(1-_)+3*E*(1-_)*(1-_)*_+3*w*(1-_)*_*_+L*_*_*_}}class O{x;y;time;constructor(_,u,E){this.x=_,this.y=u,this.time=E||(new Date).getTime()}velocityFrom(_){return this.time!==_.time?this.distanceTo(_)/(this.time-_.time):1}distanceTo(_){return Math.sqrt(Math.pow(this.x-_.x,2)+Math.pow(this.y-_.y,2))}}class n{velocityFilterWeight;minWidth;maxWidth;dotSize;penColor;backgroundColor;onEnd;onBegin;_canvas;_ctx;_mouseButtonDown=!1;_isEmpty;_lastVelocity;_lastWidth;points=[];constructor(_,u){const E=u||{};this.velocityFilterWeight=E.velocityFilterWeight||.7,this.minWidth=E.minWidth||.5,this.maxWidth=E.maxWidth||2.5,this.dotSize=E.dotSize||(this.minWidth+this.maxWidth)/2,this.penColor=E.penColor||"black",this.backgroundColor=E.backgroundColor||"rgba(0,0,0,0)",this.onEnd=E.onEnd,this.onBegin=E.onBegin,this._canvas=_,this._ctx=_.getContext("2d"),this.clear(),this._handleMouseEvents(),this._handleTouchEvents()}_handleMouseDown(_){1===_.which&&(this._mouseButtonDown=!0,this._strokeBegin(_))}_handleMouseMove(_){this._mouseButtonDown&&this._strokeUpdate(_)}_handleMouseUp(_){1===_.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(_))}_handleTouchStart(_){1===_.targetTouches.length&&this._strokeBegin(_.changedTouches[0])}_handleTouchMove(_){_.preventDefault(),this._strokeUpdate(_.targetTouches[0])}_handleTouchEnd(_){_.target===this._canvas&&(_.preventDefault(),this._strokeEnd(_))}clear(){const _=this._ctx,u=this._canvas;_.fillStyle=this.backgroundColor,_.clearRect(0,0,u.width,u.height),_.fillRect(0,0,u.width,u.height),this._reset()}_strokeUpdate(_){this._addPoint(this._createPoint(_))}_strokeBegin(_){this._reset(),this._strokeUpdate(_),"function"==typeof this.onBegin&&this.onBegin(_)}_strokeDraw(_){const u="function"==typeof this.dotSize?this.dotSize():this.dotSize;this._ctx.beginPath(),this._drawPoint(_.x,_.y,u),this._ctx.closePath(),this._ctx.fill()}_strokeEnd(_){const E=this.points[0];!(this.points.length>2)&&E&&this._strokeDraw(E),"function"==typeof this.onEnd&&this.onEnd(_)}_handleMouseEvents(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",_=>this._handleMouseDown(_)),this._canvas.addEventListener("mousemove",_=>this._handleMouseMove(_)),document.addEventListener("mouseup",_=>this._handleMouseUp(_))}_handleTouchEvents(){this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",_=>this._handleTouchStart(_)),this._canvas.addEventListener("touchmove",_=>this._handleTouchMove(_)),document.addEventListener("touchend",_=>this._handleTouchEnd(_))}on(){this._handleMouseEvents(),this._handleTouchEvents()}off(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),document.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}_reset(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor}_createPoint(_){const u=this._canvas.getBoundingClientRect();return new O(_.clientX-u.left,_.clientY-u.top)}_addPoint(_){let u,E,w,L;this.points.push(_),this.points.length>2&&(3===this.points.length&&this.points.unshift(this.points[0]),L=this._calculateCurveControlPoints(this.points[0],this.points[1],this.points[2]),u=L.c2,L=this._calculateCurveControlPoints(this.points[1],this.points[2],this.points[3]),E=L.c1,w=new f(this.points[1],u,E,this.points[2]),this._addCurve(w),this.points.shift())}_calculateCurveControlPoints(_,u,E){const w=_.x-u.x,L=_.y-u.y,z=u.x-E.x,st=u.y-E.y,nt_x=(_.x+u.x)/2,nt_y=(_.y+u.y)/2,Q_x=(u.x+E.x)/2,Q_y=(u.y+E.y)/2,it=Math.sqrt(w*w+L*L),lt=Math.sqrt(z*z+st*st),pt=lt/(it+lt),dt=u.x-(Q_x+(nt_x-Q_x)*pt),Mt=u.y-(Q_y+(nt_y-Q_y)*pt);return{c1:new O(nt_x+dt,nt_y+Mt),c2:new O(Q_x+dt,Q_y+Mt)}}_addCurve(_){let w,L;w=_.endPoint.velocityFrom(_.startPoint),w=this.velocityFilterWeight*w+(1-this.velocityFilterWeight)*this._lastVelocity,L=this._strokeWidth(w),this._drawCurve(_,this._lastWidth,L),this._lastVelocity=w,this._lastWidth=L}_drawPoint(_,u,E){this._ctx.moveTo(_,u),this._ctx.arc(_,u,E,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(_,u,E){const w=this._ctx,L=E-u;let z,nt,Q,it,lt,ct,gt,pt,ht,dt,st=0;for(z=Math.floor(_.length()),w.beginPath(),nt=0;nt<z;nt++)Q=nt/z,it=Q*Q,lt=it*Q,ct=1-Q,gt=ct*ct,pt=gt*ct,ht=pt*_.startPoint.x,ht+=3*gt*Q*_.control1.x,ht+=3*ct*it*_.control2.x,ht+=lt*_.endPoint.x,dt=pt*_.startPoint.y,dt+=3*gt*Q*_.control1.y,dt+=3*ct*it*_.control2.y,dt+=lt*_.endPoint.y,st=u+lt*L,this._drawPoint(ht,dt,st);w.closePath(),w.fill()}_strokeWidth(_){return Math.max(this.maxWidth/(_+1),this.minWidth)}}class d{signaturePad;textContext;canvas;isEmptySignature=!0;signatureBackGroundColor;constructor(_,u,E){this.signatureBackGroundColor=typeof _<"u"&&"transparent"===_?"rgba(255,255,255,0)":"rgba(255,255,255, 0)",this.canvas=u,this.signaturePad=new n(this.canvas,{backgroundColor:this.signatureBackGroundColor,onBegin:()=>{this.isEmptySignature=!1,typeof E<"u"&&E.riseSignatureIsNotEmpty()},onEnd:()=>{this.isEmptySignature=!1,typeof E<"u"&&E.riseSignatureIsNotEmpty()}}),this.signaturePad.minWidth=1,this.signaturePad.maxWidth=3,this.textContext=this.canvas.getContext("2d")}isEmpty(){return this.isEmptySignature}text(_){""!==_.trim()&&(this.isEmptySignature=!1,this.textContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.textContext.fillStyle=this.signatureBackGroundColor,this.textContext.fillRect(0,0,this.canvas.width,this.canvas.height),this.textContext.fillStyle="black",this.textContext.textBaseline="middle",this.textContext.textAlign="start",this.fitTextOnCanvas(_.trim(),"Pinyon Script"))}fitTextOnCanvas(_,u){let E=100;const w=document.body.parentElement,z=typeof w.attributes.getNamedItem("lang")<"u"&&w.attributes.getNamedItem("lang").value&&"he"===w.attributes.getNamedItem("lang").value?.95*this.canvas.width:this.canvas.width-.95*this.canvas.width,st=this.canvas.height/2,nt=this.canvas.width-.15*this.canvas.width;do{E--,this.textContext.font=E+"pt "+u}while(this.textContext.measureText(_).width>nt);this.textContext.fillText(_,z,st,this.canvas.width)}}var v=s(5312),e=s(8165),k=s(7172),T=s(3366),M=s(112),m=s(8295),g=s(6576),I=s(316);const x=["typeInput"],W=["canvasWrapper"],j=$=>({width:$}),Y=($,_)=>({"margin-left":$,"margin-right":_});function q($,_){if(1&$){const u=t.RV6();t.j41(0,"img",34),t.bIt("click",function(){t.eBV(u);const w=t.XpG(2);return t.Njj(w.changeMode())}),t.k0s()}if(2&$){const u=t.XpG(2);t.Mz_("src","",u.deployUrl,"/assets/menu.v3/arrow-backward.svg",t.B4B)}}function V($,_){if(1&$){const u=t.RV6();t.j41(0,"img",34),t.bIt("click",function(){t.eBV(u);const w=t.XpG(2);return t.Njj(w.changeMode())}),t.k0s()}if(2&$){const u=t.XpG(2);t.Mz_("src","",u.deployUrl,"/assets/menu.v3/arrow-forward.svg",t.B4B)}}function Z($,_){if(1&$&&(t.j41(0,"div",32),t.DNE(1,q,1,2,"img",33)(2,V,1,2,"img",33),t.k0s()),2&$){const u=t.XpG();t.R7$(),t.Y8G("ngIf",!u.isRtl),t.R7$(),t.Y8G("ngIf",u.isRtl)}}function et($,_){if(1&$){const u=t.RV6();t.j41(0,"div",16),t.EFF(1),t.nI1(2,"transloco"),t.j41(3,"a",27),t.bIt("click",function(){t.eBV(u);const w=t.XpG();return t.Njj(w.changeMode())}),t.EFF(4),t.nI1(5,"transloco"),t.k0s()()}2&$&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"Click"),"\xa0"),t.R7$(3),t.JRh(t.bMT(5,4,"to type your name instead")))}function rt($,_){if(1&$){const u=t.RV6();t.j41(0,"div",16),t.EFF(1),t.nI1(2,"transloco"),t.j41(3,"a",27),t.bIt("click",function(){t.eBV(u);const w=t.XpG();return t.Njj(w.changeMode())}),t.EFF(4),t.nI1(5,"transloco"),t.k0s()()}2&$&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"Click to"),"\xa0"),t.R7$(3),t.JRh(t.bMT(5,4,"type your name instead")))}function at($,_){if(1&$){const u=t.RV6();t.j41(0,"div",35),t.bIt("click",function(){t.eBV(u);const w=t.XpG();return t.Njj(w.clearSignature())}),t.k0s()}if(2&$){const u=t.XpG();t.Y8G("ngClass",u.isRtl?"clear-signature-icon-rtl":"clear-signature-icon-ltr")}}function vt($,_){if(1&$){const u=t.RV6();t.j41(0,"button",36),t.bIt("click",function(){t.eBV(u);const w=t.XpG();return t.Njj(w.submitSign())}),t.EFF(1),t.nI1(2,"transloco"),t.k0s()}if(2&$){const u=t.XpG();t.Y8G("disabled",!0===u.isEmptySignature),t.R7$(),t.JRh(t.bMT(2,2,"Submit"))}}function Pt($,_){if(1&$){const u=t.RV6();t.j41(0,"button",37),t.bIt("click",function(){t.eBV(u);const w=t.XpG();return t.Njj(w.showESignAct=!w.showESignAct)}),t.EFF(1),t.nI1(2,"transloco"),t.k0s()}2&$&&(t.R7$(),t.JRh(t.bMT(2,1,"Close")))}let ut=(()=>{class ${host;api;t;ngZone;deviceService;modalService;componentService;cd;_isShowing=!1;canvas;DEFAULT_WIDTH=640;DEFAULT_HEIGHT=360;drawCanvasWidth=this.DEFAULT_WIDTH;drawCanvasHeight=this.DEFAULT_HEIGHT;canvasWidth=this.DEFAULT_WIDTH;canvasHeight=this.DEFAULT_HEIGHT;textValue="";signatureDataUrl="";signatureWidth=this.DEFAULT_WIDTH;signatureHeight=this.DEFAULT_HEIGHT;tapIsVisible=!0;isEmptySignature=!0;DRAW_MODE_CANVAS_CLASS="draw-mode-canvas";TYPE_MODE_CANVAS_CLASS="type-mode-canvas";deployUrl=v.c.deployUrl;drawMode=!0;subscription;subscription1;subscription2;showESignAct=!1;agreeOnTerms=!1;transparency="transparent";isRtl="rtl"===document.body.parentElement.getAttribute("dir");isPhone=!1;submitUrl="/api/user/setSign?v=3";submitRedirect="/";hiddenTerms=!1;dialogClose=new t.bkB;signatureSubmit=new t.bkB;signatureSubmitted=new t.bkB;signatureWithoutTermsSubmitted=new t.bkB;signaturePadClosedManually=new t.bkB;get isShowing(){return this._isShowing}set isShowing(u){document.body.style.overflow=u?"hidden":"auto",!0===u&&(window.removeEventListener("resize",this.windowResizeListener),window.addEventListener("resize",this.windowResizeListener)),this._isShowing=u}typeInputRef;canvasWrapper;modal;changeMode(){!0===this.showESignAct?this.changeShowTermsInfo():(this.drawMode=!this.drawMode,this.prepareMode().then(),this.checkTapVisible())}onClosedModal(){document.body.style.overflow="auto",this.closeModal(),this.closeDialog()}focusInput(){this.drawMode||this.showESignAct?setTimeout(()=>this.ngZone.run(()=>{document.getElementById("type-sign").blur(),this.cd.detectChanges()}),0):setTimeout(()=>this.ngZone.run(()=>{document.getElementById("type-sign").focus(),this.cd.detectChanges()}),0)}prepareMode(){var u=this;return(0,i.A)(function*(){u.clearSignature(),!0===u.drawMode?(u.tapIsVisible=!0,u.setSizeDraw()):(yield u.setSizeType(),yield u.focusInput())})()}initiateCanvas(){if(typeof this.canvas>"u"){const E=document.getElementById("cnvs");this.canvas=new d("transparency",E,this.componentService)}}windowResizeListener=()=>{this.ngZone.run(()=>{!0===this.drawMode?this.calculateSizeDraw():this.setSizeType().then()})};constructor(u,E,w,L,z,st,nt,Q){this.host=u,this.api=E,this.t=w,this.ngZone=L,this.deviceService=z,this.modalService=st,this.componentService=nt,this.cd=Q,this.isRtl="rtl"===document.body.parentElement.getAttribute("dir"),this.getSubscription()}getSubscription(){this.subscription=this.componentService.showSignDialog.subscribe(()=>{this.openModal()}),this.subscription1=this.componentService.hideSignDialog.subscribe(()=>{this.closeModal()}),this.subscription2=this.componentService.signatureIsNotEmpty.subscribe(()=>{this.isEmptySignature=!1,this.tapIsVisible=!1})}init(){this.initiateCanvas(),this.checkTerms()}openModal(){this.closeModal(),this.clearSignature(),this.modal.show()}closeModal(){!0===this.modal.isShown&&this.modal.hide()}checkTerms(){!0===this.hiddenTerms&&(this.agreeOnTerms=!0)}changeShowTermsInfo(){this.showESignAct=!this.showESignAct,this.focusInput()}closeDialog(){this.dialogClose.emit(!0),this.signaturePadClosedManually.emit()}setCopyCanvas(){const E=document.createElement("canvas");E.width=this.canvasWidth,E.height=this.canvasHeight;const w=E.getContext("2d");w.fillStyle="rgba(255, 255, 255, 1)",typeof w.canvas<"u"&&w.canvas?(w.fillRect(0,0,w.canvas.width,w.canvas.height),w.drawImage(this.canvas.canvas,0,0),this.signatureDataUrl=w.canvas.toDataURL("image/png")):this.signatureDataUrl=this.canvas.canvas.toDataURL("image/png")}submitSign(){var u=this;return(0,i.A)(function*(){if("transparent"===u.transparency?u.signatureDataUrl=u.canvas.canvas.toDataURL("image/png"):yield u.setCopyCanvas(),u.canvas.isEmptySignature)alert(u.t.translate("Please draw your signature or type it in the field.")),u.clearSignature();else if(u.agreeOnTerms){if(!0===u.hiddenTerms)return u.signatureWithoutTermsSubmitted.emit({sign:u.signatureDataUrl,width:u.signatureWidth,height:u.signatureHeight}),!0;u.signatureSubmit.emit(),u.api.setSign(u.signatureDataUrl).subscribe(()=>{u.dialogClose.emit(!0),u.signatureSubmitted.emit(),u.closeModal()})}else alert(u.t.translate("You must agree with the terms to submit."));return!0})()}chAgree(u){this.agreeOnTerms=u.target.checked}textChanged(u){const E=u.target;""!==E.value.trim()?this.canvas.text(E.value):this.clearSignature(),this.textValue=E.value,this.isEmptySignature=!1}resetSignature(){this.textValue="",this.signatureDataUrl="",typeof this.canvas<"u"&&(this.canvas.signaturePad.clear(),this.canvas.isEmptySignature=!0,this.isEmptySignature=!0,this.tapIsVisible=!0),this.isEmptySignature=!0}clearSignature(){this.resetSignature()}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>this.ngZone.run(()=>{this.calculateSizeDraw(),this.init()}))}ngOnDestroy(){this.subscription.unsubscribe(),this.subscription1.unsubscribe(),this.subscription2.unsubscribe()}setSizeDraw(){this.canvasWidth=this.drawCanvasWidth,this.canvasHeight=this.drawCanvasHeight}calculateSizeDraw(){this.drawCanvasWidth=this.DEFAULT_WIDTH,this.drawCanvasHeight=this.DEFAULT_HEIGHT;const u=9/16;screen.availWidth<=this.drawCanvasWidth-86&&(this.drawCanvasWidth=screen.availWidth-86,this.drawCanvasHeight=this.drawCanvasWidth*u<this.DEFAULT_HEIGHT?this.drawCanvasWidth*u:this.DEFAULT_HEIGHT),this.setSizeDraw()}onShowCallBack(){this.tapIsVisible=!0}onShownCallBack(){var u=this;return(0,i.A)(function*(){u.checkTapVisible()})()}setSizeType(){var u=this;return(0,i.A)(function*(){yield u.clearSignature();const L=u.DEFAULT_WIDTH*(9/16);u.canvasWidth=u.DEFAULT_WIDTH,u.canvasHeight=L})()}checkTapVisible(){setTimeout(()=>this.ngZone.run(()=>{this.tapIsVisible=!1}),1e3)}static \u0275fac=function(E){return new(E||$)(t.rXU(t.aKT),t.rXU(T.G),t.rXU(M.JO),t.rXU(t.SKi),t.rXU(m.Kg),t.rXU(e.I8),t.rXU(g.b),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:$,selectors:[["app-sign-pad-v4"]],viewQuery:function(E,w){if(1&E&&(t.GBs(x,5),t.GBs(W,5),t.GBs(e.hZ,5)),2&E){let L;t.mGM(L=t.lsd())&&(w.typeInputRef=L.first),t.mGM(L=t.lsd())&&(w.canvasWrapper=L.first),t.mGM(L=t.lsd())&&(w.modal=L.first)}},inputs:{transparency:"transparency",isPhone:"isPhone",submitUrl:"submitUrl",submitRedirect:"submitRedirect",hiddenTerms:"hiddenTerms",isShowing:"isShowing"},outputs:{dialogClose:"dialogClose",signatureSubmit:"signatureSubmit",signatureSubmitted:"signatureSubmitted",signatureWithoutTermsSubmitted:"signatureWithoutTermsSubmitted",signaturePadClosedManually:"signaturePadClosedManually"},decls:52,vars:42,consts:[["canvasWrapper",""],["typeInput",""],["bsModal","","tabindex","-1","role","dialog","aria-labelledby","dialog-events-name",1,"modal","fade","inmodal-window-class",3,"onShown","onShow","onHidden"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-dialog-wrapper",3,"dir"],[1,"modal-header",3,"ngClass"],["class","arrow-holder",4,"ngIf"],[1,"modal-title","modal-dialog-title",3,"ngStyle"],["type","button","data-dismiss","modal","aria-label","Close",1,"close","modal-dialog-close-button",3,"hidden"],["aria-hidden","true",3,"click"],[1,"modal-body","modal-dialog-content"],[3,"hidden"],[1,"draw-content"],["class","type-label",4,"ngIf"],[1,"type-content"],[1,"type-label"],["type","text","id","type-sign",1,"type-input",3,"keyup","value","placeholder"],["id","main-dialog-content",3,"hidden"],["class","clear-signature-icon",3,"ngClass","click",4,"ngIf"],[1,"tap-icon"],["id","cnvs",2,"background-color","transparent",3,"width","height","ngClass"],[1,"terms-block-container",3,"hidden"],[1,"terms-block"],["type","checkbox",1,"terms-checkbox",3,"change","value"],[1,"checkmark"],[1,"terms-text",3,"ngStyle"],["href","javascript:void(0)",3,"click"],[1,"term-rules"],[1,"modal-footer","modal-dialog-footer"],["class","modal-dialog-button",3,"disabled","click",4,"ngIf"],["class","modal-dialog-button",3,"click",4,"ngIf"],[1,"arrow-holder"],["class","back-to-draw","alt","Back",3,"src","click",4,"ngIf"],["alt","Back",1,"back-to-draw",3,"click","src"],[1,"clear-signature-icon",3,"click","ngClass"],[1,"modal-dialog-button",3,"click","disabled"],[1,"modal-dialog-button",3,"click"]],template:function(E,w){if(1&E){const L=t.RV6();t.j41(0,"div",2),t.bIt("onShown",function(){return t.eBV(L),t.Njj(w.onShownCallBack())})("onShow",function(){return t.eBV(L),t.Njj(w.onShowCallBack())})("onHidden",function(){return t.eBV(L),t.Njj(w.onClosedModal())}),t.j41(1,"div",3)(2,"div",4)(3,"div",5,0)(5,"div",6),t.DNE(6,Z,3,2,"div",7),t.j41(7,"h4",8),t.EFF(8),t.nI1(9,"transloco"),t.k0s(),t.j41(10,"button",9)(11,"span",10),t.bIt("click",function(){return t.eBV(L),t.Njj(w.closeModal())}),t.EFF(12,"\xd7"),t.k0s()()(),t.j41(13,"div",11)(14,"div",12)(15,"div",13),t.DNE(16,et,6,6,"div",14)(17,rt,6,6,"div",14),t.k0s()(),t.j41(18,"div",12)(19,"div",15)(20,"div",16),t.EFF(21),t.nI1(22,"transloco"),t.k0s(),t.j41(23,"input",17,1),t.nI1(25,"transloco"),t.bIt("keyup",function(st){return t.eBV(L),t.Njj(w.textChanged(st))}),t.k0s()()(),t.j41(26,"div",18),t.DNE(27,at,1,1,"div",19),t.nrm(28,"div",20)(29,"canvas",21),t.k0s(),t.j41(30,"div",22)(31,"label",23)(32,"input",24),t.bIt("change",function(st){return t.eBV(L),t.Njj(w.chAgree(st))}),t.k0s(),t.nrm(33,"span",25),t.j41(34,"span",26),t.EFF(35),t.nI1(36,"transloco"),t.j41(37,"a",27),t.bIt("click",function(){return t.eBV(L),t.Njj(w.changeShowTermsInfo())}),t.EFF(38),t.nI1(39,"transloco"),t.k0s()()()(),t.j41(40,"div",12)(41,"div",28),t.EFF(42," Before signing, please be aware of your rights under the Electronic Signatures in Global and National Commerce (E-Sign) Act, specifically that: Your electronic signature will only ever be applied to the document you have just reviewed. "),t.nrm(43,"br"),t.EFF(44," You have the right to submit this document with your signature in a paper format if you wish. "),t.nrm(45,"br")(46,"br"),t.EFF(47," PLEASE NOTE THAT YOUR ELECTRONIC SIGNATURE IS LEGALLY BINDING UNDER FEDERAL LAW IN THE PLACE OF ANY LEGALLY REQUIRED PHYSICAL SIGNATURE, AND CANNOT BE DENIED LEGAL EFFECT OR ENFORCEABILITY SOLELY BECAUSE IT IS IN ELECTRONIC FORMAT. "),t.k0s()()(),t.j41(48,"div",29),t.qex(49),t.DNE(50,vt,3,4,"button",30)(51,Pt,3,3,"button",31),t.bVm(),t.k0s()()()()()}2&E&&(t.R7$(3),t.Y8G("dir",w.isRtl?"rtl":"ltr"),t.R7$(2),t.Y8G("ngClass",w.drawMode&&!w.showESignAct?"row-reverse":""),t.R7$(),t.Y8G("ngIf",!w.drawMode||w.showESignAct),t.R7$(),t.Y8G("ngStyle",t.eq3(37,j,w.drawMode&&!w.showESignAct?"100%":"93%")),t.R7$(),t.JRh(t.bMT(9,27,"My Signature")),t.R7$(2),t.Y8G("hidden",!w.drawMode||w.showESignAct),t.R7$(4),t.Y8G("hidden",!w.drawMode||w.showESignAct),t.R7$(2),t.Y8G("ngIf",w.isRtl),t.R7$(),t.Y8G("ngIf",!w.isRtl),t.R7$(),t.Y8G("hidden",w.drawMode||w.showESignAct),t.R7$(3),t.JRh(t.bMT(22,29,"Full name")),t.R7$(2),t.FS9("placeholder",t.bMT(25,31,"Full name Placeholder")),t.Y8G("value",w.textValue),t.R7$(3),t.Y8G("hidden",!(w.drawMode&&!w.showESignAct)),t.R7$(),t.Y8G("ngIf",!w.isEmptySignature),t.R7$(),t.Y8G("@openClose",w.tapIsVisible?"open":"closed"),t.R7$(),t.Y8G("width",w.canvasWidth)("height",w.canvasHeight)("ngClass",w.drawMode&&!w.showESignAct?w.DRAW_MODE_CANVAS_CLASS:w.TYPE_MODE_CANVAS_CLASS),t.R7$(),t.Y8G("hidden",w.showESignAct||!1!==w.hiddenTerms),t.R7$(2),t.Y8G("value",w.agreeOnTerms),t.R7$(2),t.Y8G("ngStyle",t.l_i(39,Y,w.isRtl?"auto":"34px",w.isRtl?"34px":"auto")),t.R7$(),t.SpI(" ",t.bMT(36,33,"I agree to the term of 1")," "),t.R7$(3),t.JRh(t.bMT(39,35,"E-Sign Act 1")),t.R7$(2),t.Y8G("hidden",!w.showESignAct),t.R7$(10),t.Y8G("ngIf",!w.showESignAct),t.R7$(),t.Y8G("ngIf",w.showESignAct))},dependencies:[I.YU,I.bT,I.B3,e.hZ,M.Kj],styles:['.modal-content{margin:20px 10px!important;border:none;background-color:var(--foh-card-bg-color)}.row-reverse[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.modal-header[_ngcontent-%COMP%]{padding-bottom:10px}.modal-dialog-button[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;border:solid 1px #dae8ed;background-color:var(--foh-color-main);padding:15px;display:inline-block;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-.16px;text-align:center;color:#fff;margin:0 3px 3px;width:100%;opacity:1}button.modal-dialog-button[disabled][_ngcontent-%COMP%]{opacity:.6}.modal-secondary-button[_ngcontent-%COMP%]{background-color:#fff!important;color:#4a4a4a!important}.modal-dialog-button-transparent[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;background-color:#fff}.back-to-draw[_ngcontent-%COMP%]{cursor:pointer}.arrow-holder[_ngcontent-%COMP%]{display:inline-block;width:5%;min-width:20px}.modal-dialog-title[_ngcontent-%COMP%]{display:inline-block;text-align:center;font-size:18px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-.2px;color:#000}.modal-dialog-content[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.64;letter-spacing:-.16px;color:#4a4a4a;padding:3px 20px}.modal-dialog-content[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px #c3c3c3;background-color:#f9f9f9;margin-bottom:32px}.modal-dialog-content[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]   .type-label[_ngcontent-%COMP%]{font-weight:700;text-align:center;padding-top:6px}.modal-dialog-content[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]   .type-input[_ngcontent-%COMP%]{vertical-align:middle;background-color:transparent;border:none;font-size:14px;font-weight:400;width:100%}.modal-dialog-content[_ngcontent-%COMP%]   .type-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.modal-dialog-content[_ngcontent-%COMP%]   .draw-content[_ngcontent-%COMP%]{margin-bottom:19px}.modal-dialog-content[_ngcontent-%COMP%]   .draw-content[_ngcontent-%COMP%]   .draw-label[_ngcontent-%COMP%]{font-weight:700;font-size:13px}.modal-dialog-content[_ngcontent-%COMP%]   .draw-content[_ngcontent-%COMP%]   .type-label[_ngcontent-%COMP%]{font-weight:700;text-align:center;font-size:13px}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]{vertical-align:middle;display:block;position:relative;margin-bottom:0;cursor:pointer;font-size:22px;-webkit-user-select:none;user-select:none}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .terms-text[_ngcontent-%COMP%]{font-size:13px;font-weight:700;display:inline-block;vertical-align:middle;height:26px}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{position:absolute;top:3px;border-radius:2px;border:solid 1px #808ba2;background-color:#fff;height:24px;width:24px}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#4a90e2}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#4a90e2}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:9px;top:5px;width:5px;height:10px;border:solid white;border-width:0 3px 3px 0;transform:rotate(45deg)}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%], .modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{cursor:pointer}.modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%], .modal-dialog-content[_ngcontent-%COMP%]   .terms-block[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%]{cursor:pointer}.modal-dialog-content[_ngcontent-%COMP%]   .term-rules[_ngcontent-%COMP%]{text-align:justify}.modal-dialog-content[_ngcontent-%COMP%]   .draw-mode-canvas[_ngcontent-%COMP%]{position:relative}.modal-dialog-content[_ngcontent-%COMP%]   .draw-mode-canvas-default[_ngcontent-%COMP%], .modal-dialog-content[_ngcontent-%COMP%]   .type-mode-canvas[_ngcontent-%COMP%]{position:absolute;left:-50000px}.modal-dialog-content[_ngcontent-%COMP%]   .default-picture-block[_ngcontent-%COMP%]{overflow:hidden}.modal-dialog-close-button[_ngcontent-%COMP%]{font-size:24px}.modal-window-class[_ngcontent-%COMP%]{position:relative}.clear-signature-icon[_ngcontent-%COMP%]{position:absolute;background-image:url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2/clear.9f605a6146e26eae.svg);background-position:center;background-repeat:no-repeat;background-size:contain;top:11px;z-index:999;height:24px;width:24px;cursor:pointer!important}.clear-signature-icon-rtl[_ngcontent-%COMP%]{left:5px}.clear-signature-icon-ltr[_ngcontent-%COMP%]{right:5px}.tap-icon[_ngcontent-%COMP%]{position:absolute;background-image:url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2/tap.4306af9c9d2ac004.svg);background-position:center;background-repeat:no-repeat;background-size:contain;top:calc(50% - 24px);left:calc(50% - 24px);z-index:999;height:49px;width:46px;cursor:pointer!important}#main-dialog-content[_ngcontent-%COMP%]{background-color:#f9f9f9;width:100%;max-width:664px;position:relative;margin-bottom:8px;overflow:hidden}.modal-footer[_ngcontent-%COMP%]{padding:16px 20px 20px;border-top:0}@media (min-width: 768px){.modal-dialog[_ngcontent-%COMP%]{width:auto;max-width:704px;margin:30px auto}}@media screen and (max-width: 600px){.modal-window-class[_ngcontent-%COMP%]{width:100%}}'],data:{animation:[(0,k.hZ)("openClose",[(0,k.wk)("open",(0,k.iF)({opacity:1,display:"block"})),(0,k.wk)("closed",(0,k.iF)({opacity:0,display:"none"})),(0,k.kY)("open => closed",[(0,k.i0)("0.5s")]),(0,k.kY)("closed => open",[(0,k.i0)("0.005s")])])]}})}return $})()},3973:(X,R,s)=>{s.d(R,{z:()=>f});var i=s(4205),t=s(8559);let f=(()=>{class O{snackService=new i.B;get(){return this.snackService.asObservable()}add(d){this.snackService.next({action:"add",data:d})}remove(d){this.snackService.next({action:"remove",id:d})}clear(){this.snackService.next({action:"clear"})}static \u0275fac=function(v){return new(v||O)};static \u0275prov=t.jDH({token:O,factory:O.\u0275fac})}return O})()},3721:(X,R,s)=>{s.d(R,{h:()=>t});var i=s(8559);let t=(()=>{class f{static \u0275fac=function(d){return new(d||f)};static \u0275mod=i.$C({type:f});static \u0275inj=i.G2t({})}return f})()},1899:(X,R,s)=>{s.d(R,{Q:()=>t});var i=s(8559);let t=(()=>{class f{el;set superhtml(n){this.setHtml(this.el.nativeElement,n)}constructor(n){this.el=n}setHtml(n,d){n.innerHTML=d,Array.from(n.querySelectorAll("script")).forEach(v=>{const e=document.createElement("script");Array.from(v.attributes).forEach(k=>e.setAttribute(k.name,k.value)),e.appendChild(document.createTextNode(v.innerHTML)),v.parentNode.replaceChild(e,v)})}static \u0275fac=function(d){return new(d||f)(i.rXU(i.aKT))};static \u0275dir=i.FsC({type:f,selectors:[["","superhtml",""]],inputs:{superhtml:"superhtml"}})}return f})()},680:(X,R,s)=>{s.d(R,{Y:()=>t});var i=s(8559);let t=(()=>{class f{hideMainMenu=!1;headerFullWidth=!1;menustate=new i.bkB;headerstate=new i.bkB;showSearch=new i.bkB;searchPlaceholder=new i.bkB;showSearchFilters=new i.bkB;closeSearch=new i.bkB;searchOpened=new i.bkB;searchClosed=new i.bkB;selectedItem=new i.bkB;showSearchStatusChanging=new i.bkB;searchTextChange=new i.bkB;showBurger=new i.bkB;pagetitle=new i.bkB;showBack=new i.bkB;backLink=new i.bkB;showClose=new i.bkB;closeLink=new i.bkB;menuLoaded=new i.bkB;notificationsCount=new i.bkB;searchLoading=new i.bkB;dontShowMenuAtAll=new i.bkB;fullWidth=new i.bkB;constructor(){this.fullWidth.subscribe(n=>{this.headerFullWidth=n})}static \u0275fac=function(d){return new(d||f)};static \u0275prov=i.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},9862:(X,R,s)=>{s.d(R,{E:()=>v});var i=s(316),t=s(6710),f=s(3366),O=s(9733),n=s(112),d=s(8559);let v=(()=>{class e{static \u0275fac=function(M){return new(M||e)};static \u0275mod=d.$C({type:e});static \u0275inj=d.G2t({providers:[f.G],imports:[i.MD,t.iI,O.zE,n.Q8]})}return e})()},1994:(X,R,s)=>{s.d(R,{O:()=>j});var i=s(8559),t=s(6710),f=s(7749),O=s(680),n=s(8756),d=s(3366),v=s(2083),e=s(6576),k=s(3265),T=s(6458),M=s(9035),m=s(1841),g=s(112),I=s(8637);const x=Y=>({user_name:Y});function W(Y,q){if(1&Y){const V=i.RV6();i.j41(0,"div",4)(1,"h2"),i.EFF(2),i.nI1(3,"transloco"),i.k0s(),i.nrm(4,"br"),i.j41(5,"p",5),i.EFF(6),i.k0s(),i.j41(7,"p",5),i.nrm(8,"span",6),i.nI1(9,"transloco"),i.nI1(10,"safe"),i.EFF(11,"\xa0 "),i.k0s(),i.j41(12,"h4",7),i.EFF(13),i.nI1(14,"transloco"),i.k0s(),i.j41(15,"p",5),i.EFF(16),i.nI1(17,"transloco"),i.k0s(),i.nrm(18,"br"),i.j41(19,"div",2)(20,"button",8),i.bIt("click",function(){i.eBV(V);const et=i.XpG();return i.Njj(et.clickChangeSignature())}),i.EFF(21),i.nI1(22,"transloco"),i.k0s()(),i.j41(23,"app-sign-pad-v4",9),i.bIt("signatureSubmitted",function(){i.eBV(V);const et=i.XpG();return i.Njj(et.signatureSubmitted())})("signatureSubmit",function(){i.eBV(V);const et=i.XpG();return i.Njj(et.signatureSubmit())})("dialogClose",function(){i.eBV(V);const et=i.XpG();return i.Njj(et.closeSignatureDialog())}),i.k0s()()}if(2&Y){const V=q.$implicit,Z=i.XpG();i.R7$(2),i.JRh(i.bMT(3,8,"Welcome to Better Chains!")),i.R7$(4),i.JRh(V("Hello {user_name}, welcome to the Better Chains online management system.",i.eq3(21,x,Z.firstName))),i.R7$(2),i.Y8G("innerHTML",i.i5U(10,12,i.bMT(9,10,"This simple mobile-friendly platform will allow you to connect to the materials needed to begin right away. You can access your account from any smartphone, tablet or computer. The first step is to create your electronic signature."),"html"),i.npT),i.R7$(5),i.JRh(i.bMT(14,15,"Create Your Electronic Signature")),i.R7$(3),i.SpI(" ",i.bMT(17,17,"In order to start using the system you need to create your digital signature. Please click the \u201cStart\u201d button to generate your signature sample. This sample will be used to digitally sign all documents.")," "),i.R7$(5),i.JRh(i.bMT(22,19,"Start")),i.R7$(2),i.Y8G("isShowing",Z.showSignatureDialog)("transparency",0)}}let j=(()=>{class Y{router;loader;layout;language;api;state;componentService;firstName="";showSignatureDialog=!1;subs=[];constructor(V,Z,et,rt,at,vt,Pt){this.router=V,this.loader=Z,this.layout=et,this.language=rt,this.api=at,this.state=vt,this.componentService=Pt,document.title="Better Chains - Introduction";const ut=this.state.getUserData();ut&&(this.firstName=ut.first_name,this.subs.push(this.api.getChainCached(!0).subscribe($=>{this.api.getUserCached(!0).then(_=>{_.branches.forEach(u=>{Number(u.branch_id)===Number(_.current_branch_id)&&this.language.setupLanguageFromSettings($,u,_)})})})))}ngOnInit(){this.layout.headerstate.emit(!1)}clickChangeSignature(){this.showSignatureDialog=!0,this.componentService.showSignDialogPopup()}closeSignatureDialog(){this.showSignatureDialog=!1}signatureSubmitted(){this.state.delUserData(),this.showSignatureDialog=!1,this.state.updateUser.emit(),this.subs.push(this.api.getNextToSign().subscribe(V=>{this.subs.push(this.api.getPendingFormsCount().subscribe(Z=>{Number(V.data.unsignedCount)>0||Number(Z.data)>0?this.router.navigateByUrl("/signDocs").then(()=>this.loader.hideLoader()):this.router.navigateByUrl("/dashboard").then(()=>this.loader.hideLoader())}))}))}signatureSubmit(){this.loader.showLoader()}logout(){return this.subs.push(this.api.logout().subscribe(()=>{this.router.navigateByUrl("/user/login")})),!1}ngOnDestroy(){this.subs.forEach(V=>V.unsubscribe())}static \u0275fac=function(Z){return new(Z||Y)(i.rXU(t.Ix),i.rXU(f.Z),i.rXU(O.Y),i.rXU(n.g),i.rXU(d.G),i.rXU(v.d),i.rXU(e.b))};static \u0275cmp=i.VBU({type:Y,selectors:[["app-introduction"]],decls:9,vars:6,consts:[[3,"pageTitle"],["id","introduction-page-view",4,"transloco"],[1,"text-center"],[1,"logout-button",3,"click"],["id","introduction-page-view"],[1,"lead"],[3,"innerHTML"],[1,"title"],[1,"sign-button",3,"click"],[3,"signatureSubmitted","signatureSubmit","dialogClose","isShowing","transparency"]],template:function(Z,et){1&Z&&(i.j41(0,"foh-container",0),i.nI1(1,"transloco"),i.j41(2,"foh-content")(3,"foh-card"),i.DNE(4,W,24,23,"div",1),i.k0s(),i.j41(5,"div",2)(6,"button",3),i.bIt("click",function(){return et.logout()}),i.EFF(7),i.nI1(8,"transloco"),i.k0s()()()()),2&Z&&(i.FS9("pageTitle",i.bMT(1,2,"Introduction Page")),i.R7$(7),i.JRh(i.bMT(8,4,"Log Out")))},dependencies:[k.a,T.B,M.G,m.e,g.bA,g.Kj,I.m],styles:["[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;border:none;color:#fff}[_nghost-%COMP%]   button.logout-button[_ngcontent-%COMP%]{width:240px;background-color:#4a4a4a;height:50px}[_nghost-%COMP%]   button.sign-button[_ngcontent-%COMP%]{width:240px;background-color:var(--foh-color-main);height:50px}[_nghost-%COMP%]   #introduction-page-view[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{text-align:justify}"]})}return Y})()},1391:(X,R,s)=>{s.r(R),s.d(R,{UserLoginModule:()=>Wt});var i=s(316),t=s(4456),f=s(9862),O=s(6710),n=s(112),d=s(5312),v=s(3653),e=s(8559),k=s(2083),T=s(7749),M=s(3366),m=s(8756);let g=(()=>{class h{t;state;router;loader;api;language;ls;chainBeenSet=new e.bkB;defaultLogo="https://d1mcyggarp14he.cloudfront.net/img/touch/bc-logo-144.png";logo=this.defaultLogo;chains=[];branches=[];user=null;chainId;currentChainId=null;selectedChainId=null;branchId;currentLanguage;loginCodeRequestedTo="";constructor(l,P,p,U,K,wt,Ot){this.t=l,this.state=P,this.router=p,this.loader=U,this.api=K,this.language=wt,this.ls=Ot,this.currentChainId=null,this.selectedChainId=null,this.currentLanguage=this.ls.getLanguage(),window.hasOwnProperty("BOHChainId")&&(this.chainId=Number(window.BOHChainId),this.currentChainId=Number(this.chainId)),d.c.domainMode?this.logo=window.hasOwnProperty("NGFOHChainLogoUrl")?window.NGFOHChainLogoUrl:this.defaultLogo:localStorage.getItem("chainLogo")}getUser(){return new Promise((l,P)=>{this.api.getUser().subscribe({next:p=>{this.user=p,l()},error:()=>P()})})}getEmailHint(){let P=this.user.email.split("@");return P[0][0]+"***@"+P[1]}getPhoneHint(){let l="";return this.user.Applicant&&(l=this.user.Applicant.phone),this.user.applicant&&(l=this.user.applicant.phone),"***"+l.substring(l.length-4,l.length)}setLogo(l){this.logo=null!=l&&"string"==typeof l&&""!=l.trim()&&"undefined"!=l?l:this.defaultLogo}setChain(l,P=!1){this.selectedChainId=null,void 0!==l&&(this.loader.showLoader(),this.api.setChain(l).subscribe(p=>{if(void 0===p.message||void 0===p.code||void 0!==p.quick_login_url){this.chainId=l,this.selectedChainId=l,this.state.setScheduleAvailabilityTab(p.schedule_availability_tab),this.state.setChain(p);const U=localStorage.getItem("chainLogo");if(this.setLogo(U),this.chainBeenSet.emit(),!P&&p.hasOwnProperty("enable_2fa")&&1==Number(p.enable_2fa))return this.loader.hideLoader(),void this.router.navigateByUrl("/user/login/code-prompt").then();if(p.branches&&p.branches.length>1)this.loader.hideLoader(),this.branches=p.branches,this.router.navigateByUrl("/user/login/select-branch").then();else{const K=this.state.getChain();this.language.setupLanguageFromSettings(K,this.branches[0],this.user),d.c.domainMode?window.location.replace(p.quick_login_url+"&rememberMe=1"):this.router.navigateByUrl("/").then(()=>{this.loader.hideLoader()})}}},()=>{this.loader.hideLoader()}))}static \u0275fac=function(P){return new(P||h)(e.KVO(n.JO),e.KVO(k.d),e.KVO(O.Ix),e.KVO(T.Z),e.KVO(M.G),e.KVO(m.g),e.KVO(m.g))};static \u0275prov=e.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})();var I=s(8165),x=s(5606),W=s(8295);function j(h,B){if(1&h&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.SpI("(",l.timeZoneId,")")}}function Y(h,B){if(1&h&&(e.j41(0,"div")(1,"span",7),e.EFF(2),e.k0s()()),2&h){const l=e.XpG();e.R7$(2),e.Lme(" ",l.testEnv,": ",l.testDomain," ")}}let q=(()=>{class h{userLoginService;modalService;api;router;t;loader;push;ngZone;language;state;cd;_elementRef;deviceDetector;domainSelectTimer;bLoading=!1;apiUrl="";LinkLists=[];rememberMe=1;chainId=0;showSelectChain=!1;showSelectBranch=!1;forgotPasswordEmail="";forgotPasswordEmailError="";timeZoneId="";version="";currentLanguage="";FOHversion=v.r;modalRef;subs=[];isTestDomain=!1;testDomain="";testEnv="";currentChainId=null;allChains;currentComponentClass="";ADDITIONAL_BODY_CLASS="height-100";setClass="";get hostElement(){return this._elementRef.nativeElement}constructor(l,P,p,U,K,wt,Ot,Ft,Dt,Ht,zt,Zt,Qt){this.userLoginService=l,this.modalService=P,this.api=p,this.router=U,this.t=K,this.loader=wt,this.push=Ot,this.ngZone=Ft,this.language=Dt,this.state=Ht,this.cd=zt,this._elementRef=Zt,this.deviceDetector=Qt,window.addEventListener("resize",this.windowResizeListener),this.addSetClass(),this.setComponentClass("login"),document.title="Better Chains - "+this.t.translate("Sign In"),this.timeZoneId=this.state.getTimeZoneId(),this.subs.push(this.state.updateTimeZone.subscribe(()=>{this.timeZoneId=this.state.getTimeZoneId()})),d.c.domainMode?this.FOHversion=window.BOHAPIVersion+" / "+v.r:d.c.isApp&&(this.FOHversion=this.state.version),this.subs.push(this.userLoginService.chainBeenSet.subscribe({next:()=>zt.detectChanges()}))}addSetClass(){this.setClass=this.deviceDetector.isMobile()?window.innerHeight>window.innerWidth?this.ADDITIONAL_BODY_CLASS:"":this.ADDITIONAL_BODY_CLASS,this.setBodyClass(this.setClass)}windowResizeListener=()=>{this.ngZone.run(()=>{this.addSetClass()})};setBodyClass(l){document.getElementsByTagName("body")[0].className=l}setComponentClass(l){""!==this.currentComponentClass&&this.hostElement.classList.remove(this.currentComponentClass),""!==l&&this.hostElement.classList.add(l),this.currentComponentClass=l}ngOnInit(){}ngOnDestroy(){this.setBodyClass(""),window.removeEventListener("resize",this.windowResizeListener),this.subs.forEach(l=>l.unsubscribe())}domainSelectStart(){d.c.isApp&&(clearTimeout(this.domainSelectTimer),this.domainSelectTimer=setTimeout(()=>{clearTimeout(this.domainSelectTimer),this.router.navigateByUrl("/user/login/select-domain").then()},5e3))}domainSelectEnd(){d.c.isApp&&clearTimeout(this.domainSelectTimer)}static \u0275fac=function(P){return new(P||h)(e.rXU(g),e.rXU(I.I8),e.rXU(M.G),e.rXU(O.Ix),e.rXU(n.JO),e.rXU(T.Z),e.rXU(x.T),e.rXU(e.SKi),e.rXU(m.g),e.rXU(k.d),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(W.Kg))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login"]],decls:17,vars:10,consts:[[1,"login-page"],[1,"login-page-center"],[1,"login-page-center-white-box"],[1,"wrapper","login-logo-wrapper"],["alt","Home",3,"mousedown","mouseup","touchstart","touchend","src"],["href","http://www.betterchains.com","target","_blank"],[4,"ngIf"],[2,"background-color","red","color","white","padding","4px"]],template:function(P,p){1&P&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"img",4),e.bIt("mousedown",function(){return p.domainSelectStart()})("mouseup",function(){return p.domainSelectEnd()})("touchstart",function(){return p.domainSelectStart()})("touchend",function(){return p.domainSelectEnd()}),e.k0s()(),e.nrm(5,"router-outlet"),e.k0s()(),e.j41(6,"footer")(7,"div")(8,"a",5),e.EFF(9,"Better Chains\xae"),e.k0s(),e.EFF(10),e.nI1(11,"transloco"),e.DNE(12,j,2,1,"span",6),e.nrm(13,"span"),e.EFF(14),e.nI1(15,"transloco"),e.k0s(),e.DNE(16,Y,3,2,"div",6),e.k0s()()),2&P&&(e.R7$(4),e.Y8G("src",p.userLoginService.logo,e.B4B),e.R7$(6),e.Lme(". ",e.bMT(11,6,"All Rights Reserved. Version:")," ",p.FOHversion," "),e.R7$(2),e.Y8G("ngIf",p.timeZoneId),e.R7$(2),e.SpI(" ",e.bMT(15,8,"This page is secured")," "),e.R7$(2),e.Y8G("ngIf",p.isTestDomain))},dependencies:[O.n3,i.bT,n.Kj],styles:["[_ngcontent-%COMP%]:root{--foh-color-main: #ff5132;--foh-color-additional: #808ba3;--foh-color-primary: #4a90e2;--foh-color-secondary: #808ba3;--foh-color-success: #19b971;--foh-color-danger: #ff5132;--foh-color-warning: #faad13;--foh-color-info: #17a2b8;--foh-body-bg-color: #F9F9F9;--foh-body-color: #333;--foh-body-font-family: system-ui, sans-serif;--foh-card-bg-color: white;--foh-header-bg-color: white;--foh-header-color: #333;--foh-login-bg-image: url(https://d1mcyggarp14he.cloudfront.net/themes/foh_theme/img/login-bg-2.jpg);--foh-dashboard-bg-image: url(https://d1mcyggarp14he.cloudfront.net/themes/foh_theme/img/dashboard-restaurant-2.jpg);--foh-swiper-default-item-top-color: rgba(255, 81, 50, .6);--foh-swiper-default-item-bottom-color: var(--foh-card-bg-color);--progress-less-25: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/1-25-b.gif);--progress-from-25-to-50: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/25_50.gif);--progress-from-50-to-75: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/50_75.gif);--progress-from-75-to-100: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/75_100.gif);--progress-100: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/100.gif);--foh-btn-primary-color: white;--foh-btn-primary-background-color: var(--foh-color-primary);--foh-btn-primary-border-color: var(--foh-color-primary);--foh-btn-secondary-color: white;--foh-btn-secondary-background-color: var(--foh-color-secondary);--foh-btn-secondary-border-color: var(--foh-color-secondary);--foh-btn-success-color: white;--foh-btn-success-background-color: var(--foh-color-success);--foh-btn-success-border-color: var(--foh-color-success);--foh-btn-danger-color: white;--foh-btn-danger-background-color: var(--foh-color-danger);--foh-btn-danger-border-color: var(--foh-color-danger);--foh-btn-warning-color: white;--foh-btn-warning-background-color: var(--foh-color-warning);--foh-btn-warning-border-color: var(--foh-color-warning);--side-menu-bg: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/side-menu/side_menu.png);--sat: env(safe-area-inset-top)}.login-page[_ngcontent-%COMP%]{min-height:-webkit-fill-available;height:100%;width:-webkit-fill-available;padding:0;display:flex;flex-direction:column;justify-content:center;align-items:center;font-style:normal;font-weight:700;font-size:14px;line-height:24px}.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]{padding:calc(env(safe-area-inset-top,0) + 30px) 20px 30px 20px;background-color:transparent;width:100%;max-width:400px;height:100%;display:flex;min-height:444px;justify-content:center;align-items:center}.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]{width:100%;max-width:400px;display:flex;flex-direction:column;height:100%;background:var(--foh-card-bg-color);border-radius:10px;padding:20px;position:relative;overflow:hidden}.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]   .login-logo-wrapper[_ngcontent-%COMP%]{margin:20px auto;text-align:center;width:100%;height:100%;max-height:100px;flex-grow:0}.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]   .login-logo-wrapper[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;max-height:100px;-webkit-touch-callout:none}.login-page[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{text-align:center;width:100%;background:#333;color:#fff}.login-page[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}@media screen and (min-height: 1px) and (max-height: 500px){.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]   .login-logo-wrapper[_ngcontent-%COMP%]{margin:0 0 10px;max-height:75px;display:none}.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]   .login-logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:75px}}@media screen and (min-width: 1px) and (max-width: 499px){.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]{height:100%}}@media screen and (min-width: 500px) and (max-width: 10000px){.login-page[_ngcontent-%COMP%]   .login-page-center[_ngcontent-%COMP%]   .login-page-center-white-box[_ngcontent-%COMP%]{height:auto}}",".modal-content{margin:20px 10px!important;border:none;background-color:var(--foh-card-bg-color)}.modal-dialog-button[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;border:solid 1px #dae8ed;background-color:var(--foh-color-main);padding:15px;display:inline-block;font-size:14px;font-weight:700;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-.16px;text-align:center;color:#fff;margin:0 3px 3px}.modal-secondary-button[_ngcontent-%COMP%]{background-color:#fff!important;color:#4a4a4a!important}.modal-dialog-button-transparent[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 7px 12px #00000014;background-color:#fff}.modal-dialog-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;font-stretch:normal;font-style:normal;line-height:normal;letter-spacing:-.2px;color:#000}.modal-dialog-content[_ngcontent-%COMP%]{font-size:14px;font-weight:400;font-stretch:normal;font-style:normal;line-height:1.64;letter-spacing:-.16px;color:#4a4a4a;padding:10px 32px}.modal-dialog-close-button[_ngcontent-%COMP%]{font-size:24px}.modal-icon-holder[_ngcontent-%COMP%]{text-align:center}.modal-icon-holder[_ngcontent-%COMP%]   .modal-icon-container[_ngcontent-%COMP%]{height:71px;width:71px;background-repeat:no-repeat;background-position:center;background-size:contain;vertical-align:center;text-align:center;background-image:url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2/green-checkmark.fc17acea2349bd2c.gif);display:inline-block}"]})}return h})();const V=h=>({"text-align":h});function Z(h,B){if(1&h&&(e.j41(0,"div",16),e.EFF(1),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.JRh(l.sEmailError)}}function et(h,B){if(1&h){const l=e.RV6();e.j41(0,"i",17),e.bIt("click",function(){e.eBV(l);const p=e.XpG();return e.Njj(p.showPassword())}),e.k0s()}if(2&h){const l=e.XpG();e.Y8G("ngClass",l.userLoginService.currentLanguage==l.LANGUAGE_HE_IL?"view-password-icon-rtl":"view-password-icon-ltr")}}function rt(h,B){if(1&h){const l=e.RV6();e.j41(0,"i",18),e.bIt("click",function(){e.eBV(l);const p=e.XpG();return e.Njj(p.showPassword())}),e.k0s()}if(2&h){const l=e.XpG();e.Y8G("ngClass",l.userLoginService.currentLanguage==l.LANGUAGE_HE_IL?"view-password-icon-rtl":"view-password-icon-ltr")}}function at(h,B){if(1&h&&(e.j41(0,"div",16),e.EFF(1),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.JRh(l.sPasswordError)}}function vt(h,B){if(1&h&&(e.j41(0,"div",16),e.EFF(1),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.JRh(l.sError)}}function Pt(h,B){1&h&&(e.j41(0,"div",19),e.nrm(1,"i",20),e.j41(2,"a",21),e.nrm(3,"span"),e.EFF(4),e.nI1(5,"transloco"),e.k0s()()),2&h&&(e.R7$(4),e.SpI(" ",e.bMT(5,1,"Open Positions")," "))}let ut=(()=>{class h{userLoginService;api;router;t;ls;loader;push;ngZone;language;state;subs=[];username="";password="";sError="";sEmailError="";sPasswordError="";showPasswordStatus=!1;LANGUAGE_HE_IL="he";isApp=d.c.isApp;constructor(l,P,p,U,K,wt,Ot,Ft,Dt,Ht){this.userLoginService=l,this.api=P,this.router=p,this.t=U,this.ls=K,this.loader=wt,this.push=Ot,this.ngZone=Ft,this.language=Dt,this.state=Ht,this.showPasswordStatus=!1}clearLoginErrors(){this.sError="",this.sEmailError="",this.sPasswordError=""}login(){this.loader.showLoader(),this.clearLoginErrors(),typeof this.username<"u"&&typeof this.password<"u"&&this.username.length>0&&this.username.trim().length>0&&this.password.length>0&&this.password.trim().length>0?this.subs.push(this.api.login(this.username.trim(),this.password.trim()).subscribe({next:l=>this.loginNext(l),error:()=>{this.loader.hideLoader(),this.sError=this.t.translate("Something went wrong, please try again later.")}})):(this.loader.hideLoader(),(typeof this.username>"u"||this.username.length<=0)&&(this.sEmailError=this.t.translate("Email field cannot be blank.")),(typeof this.password>"u"||this.password.length<=0)&&(this.sPasswordError=this.t.translate("Password cannot be blank.")))}loginNext(l){if(void 0!==l.message&&void 0!==l.code)this.loader.hideLoader(),this.sError=this.t.translate(l.message);else if(d.c.isApp&&this.push.register().then(()=>console.log("PUSH Registered")),l.css&&this.state.setCss(l.css),this.userLoginService.chains=l.chains,this.userLoginService.branches=l.branches,this.userLoginService.user=l.user,this.state.clear(),this.state.setApiToken(l.token),this.state.setTimeZone(l.timeZone),this.state.setTimeZoneId(l.timeZoneId),this.state.setScheduleSettings(l.scheduleSettings),l.chains&&0==l.chains.length&&0==l.user.chain_id)this.userLoginService.setChain(0,!0);else{if(l.chains&&l.chains.length>1)return this.loader.hideLoader(),void this.router.navigateByUrl("/user/login/select-chain").then();{this.userLoginService.chainId=Number(l.user.chain_id),this.userLoginService.selectedChainId=Number(l.user.chain_id);const P=l.chains[0];this.state.setScheduleAvailabilityTab(P.schedule_availability_tab),this.userLoginService.setChain(P.chain_id)}}}formKeyUp(l){13===l.keyCode&&this.login()}showPassword(){this.showPasswordStatus=!this.showPasswordStatus}ngOnDestroy(){}ngOnInit(){}static \u0275fac=function(P){return new(P||h)(e.rXU(g),e.rXU(M.G),e.rXU(O.Ix),e.rXU(n.JO),e.rXU(m.g),e.rXU(T.Z),e.rXU(x.T),e.rXU(e.SKi),e.rXU(m.g),e.rXU(k.d))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-email-password"]],decls:27,vars:25,consts:[[1,"form-wrapper"],[1,"wrapper","login-wrapper"],["aria-hidden","true",1,"fa-light","fa-envelope","login-icon"],["name","username","type","email","required","",1,"text-field",3,"keyup","ngModelChange","dir","ngStyle","placeholder","ngModel"],["class","error",4,"ngIf"],[1,"wrapper","password-wrapper"],["aria-hidden","true",1,"fa-light","fa-key","password-icon"],["name","password","required","",1,"text-field",3,"keyup","ngModelChange","placeholder","type","ngModel"],["class","fa-light fa-eye view-password-icon",3,"ngClass","click",4,"ngIf"],["class","fa-light fa-eye-slash view-password-icon",3,"ngClass","click",4,"ngIf"],[1,"wrapper","actions-wrapper"],[1,"action","forgot-password"],["routerLink","restore-password","href","#",2,"font-weight","700","text-decoration","none"],[1,"wrapper"],["type","button",1,"submit-button",3,"click"],["class","wrapper jobs-wrapper",4,"ngIf"],[1,"error"],[1,"fa-light","fa-eye","view-password-icon",3,"click","ngClass"],[1,"fa-light","fa-eye-slash","view-password-icon",3,"click","ngClass"],[1,"wrapper","jobs-wrapper"],[1,"fa-light","fa-briefcase","positions-icon"],["href","/vacancy/search"]],template:function(P,p){1&P&&(e.j41(0,"form",0)(1,"div",1),e.nrm(2,"i",2),e.j41(3,"div")(4,"input",3),e.nI1(5,"transloco"),e.bIt("keyup",function(K){return p.formKeyUp(K)}),e.mxI("ngModelChange",function(K){return e.DH7(p.username,K)||(p.username=K),K}),e.k0s()(),e.DNE(6,Z,2,1,"div",4),e.k0s(),e.j41(7,"div",5),e.nrm(8,"i",6),e.j41(9,"div")(10,"input",7),e.nI1(11,"transloco"),e.bIt("keyup",function(K){return p.formKeyUp(K)}),e.mxI("ngModelChange",function(K){return e.DH7(p.password,K)||(p.password=K),K}),e.k0s()(),e.DNE(12,et,1,1,"i",8)(13,rt,1,1,"i",9)(14,at,2,1,"div",4)(15,vt,2,1,"div",4),e.k0s(),e.j41(16,"div",10)(17,"div",11)(18,"a",12),e.EFF(19),e.nI1(20,"transloco"),e.k0s()()(),e.j41(21,"div",13)(22,"button",14),e.bIt("click",function(){return p.login()}),e.nrm(23,"span"),e.EFF(24),e.nI1(25,"transloco"),e.k0s()(),e.DNE(26,Pt,6,3,"div",15),e.k0s()),2&P&&(e.R7$(4),e.FS9("placeholder",e.bMT(5,15,"Email")),e.Y8G("dir",p.userLoginService.currentLanguage!=p.LANGUAGE_HE_IL||p.username?"ltr":"rtl")("ngStyle",e.eq3(23,V,p.userLoginService.currentLanguage==p.LANGUAGE_HE_IL?"right":"left")),e.R50("ngModel",p.username),e.R7$(2),e.Y8G("ngIf",p.sEmailError),e.R7$(4),e.FS9("placeholder",e.bMT(11,17,"Password")),e.Y8G("type",p.showPasswordStatus?"text":"password"),e.R50("ngModel",p.password),e.R7$(2),e.Y8G("ngIf",!p.showPasswordStatus),e.R7$(),e.Y8G("ngIf",p.showPasswordStatus),e.R7$(),e.Y8G("ngIf",p.sPasswordError),e.R7$(),e.Y8G("ngIf",p.sError),e.R7$(4),e.JRh(e.bMT(20,19,"Forgot password?")),e.R7$(5),e.SpI(" ",e.bMT(25,21,"Sign In")," "),e.R7$(2),e.Y8G("ngIf",p.userLoginService.chainId>0))},dependencies:[O.Wk,i.YU,i.bT,i.B3,t.qT,t.me,t.BC,t.cb,t.YS,t.vS,t.cV,n.Kj],styles:["[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{height:inherit;max-height:99%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .select-chain-branch[_ngcontent-%COMP%]{width:77%;height:75%;margin-left:10%;margin-right:10%;overflow:hidden;text-align:center;box-sizing:border-box}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .select-chain-branch[_ngcontent-%COMP%]   .foh-login-form-list-link[_ngcontent-%COMP%]{color:var(--foh-color-secondary);cursor:pointer}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:inherit;margin-bottom:20px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:var(--foh-color-secondary);opacity:.5}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]{padding:12px 48px;width:100%;height:48px;border:1px solid var(--foh-color-secondary);border-radius:5px;background-color:#fff!important;font-size:14px;color:var(--foh-color-secondary)!important}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{padding:8px 32px;grid-gap:10px;gap:10px;width:100%;height:50px;background:var(--foh-color-main);border-radius:10px;text-align:center;letter-spacing:.15px;color:#fff;border:none}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]:disabled{opacity:.5}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .password-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon[_ngcontent-%COMP%]{color:var(--foh-color-secondary);position:absolute;padding:12px;font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon[_ngcontent-%COMP%]{top:0;cursor:pointer}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon-rtl[_ngcontent-%COMP%]{left:0}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon-ltr[_ngcontent-%COMP%]{right:0}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .login-icon[_ngcontent-%COMP%]{color:var(--foh-color-secondary);position:absolute;padding:12px;font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:17px;text-align:center;color:#333}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]{font-style:normal;text-align:center;width:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]   .positions-icon[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle;padding-top:2px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-weight:400;font-size:14px;vertical-align:middle;padding-top:2px}"]})}return h})();function $(h,B){if(1&h&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&h){const l=e.XpG().$implicit;e.Y8G("ngValue",l.chain_id),e.R7$(),e.JRh(l.name)}}function _(h,B){if(1&h&&(e.qex(0),e.DNE(1,$,2,2,"option",16),e.bVm()),2&h){const l=B.$implicit,P=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",P==l.chain_id)}}function u(h,B){if(1&h&&(e.qex(0),e.DNE(1,_,2,1,"ng-container",15),e.bVm()),2&h){const l=e.XpG(3);e.R7$(),e.Y8G("ngForOf",l.chainsAvailable)}}function E(h,B){if(1&h&&(e.j41(0,"div",18),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&h){const l=e.XpG(3);e.R7$(),e.SpI(" ",e.bMT(2,1,l.messageValidateChain)," ")}}function w(h,B){if(1&h){const l=e.RV6();e.j41(0,"div",10)(1,"label",11),e.EFF(2),e.nI1(3,"transloco"),e.j41(4,"span",12),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div")(7,"select",13),e.mxI("ngModelChange",function(p){e.eBV(l);const U=e.XpG(2);return e.DH7(U.userLoginService.currentChainId,p)||(U.userLoginService.currentChainId=p),e.Njj(p)}),e.j41(8,"option",14),e.EFF(9),e.nI1(10,"transloco"),e.k0s(),e.DNE(11,u,2,1,"ng-container",15),e.k0s(),e.DNE(12,E,3,3,"div",9),e.k0s()()}if(2&h){const l=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,6,"Chain")," "),e.R7$(5),e.R50("ngModel",l.userLoginService.currentChainId),e.R7$(),e.Y8G("value",null),e.R7$(),e.JRh(e.bMT(10,8,"Select...")),e.R7$(2),e.Y8G("ngForOf",l.chainSet),e.R7$(),e.Y8G("ngIf",!l.userLoginService.chainId&&!l.userLoginService.currentChainId)}}function L(h,B){if(1&h&&(e.qex(0),e.EFF(1),e.nI1(2,"transloco"),e.bVm()),2&h){const l=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,l)," ")}}function z(h,B){if(1&h&&(e.qex(0),e.DNE(1,L,3,3,"ng-container",1),e.bVm()),2&h){const l=B.$implicit,P=e.XpG(3);e.R7$(),e.Y8G("ngIf",l!=P.informationMessage)}}function st(h,B){if(1&h&&(e.j41(0,"div",18),e.DNE(1,z,2,1,"ng-container",15),e.k0s()),2&h){const l=e.XpG(2);e.R7$(),e.Y8G("ngForOf",l.forgotEmailErrors)}}function nt(h,B){if(1&h){const l=e.RV6();e.j41(0,"form",4),e.DNE(1,w,13,10,"div",5),e.j41(2,"div",6),e.nrm(3,"i",7),e.j41(4,"div")(5,"input",8),e.nI1(6,"transloco"),e.mxI("ngModelChange",function(p){e.eBV(l);const U=e.XpG();return e.DH7(U.forgotPasswordEmail,p)||(U.forgotPasswordEmail=p),e.Njj(p)}),e.bIt("keyup",function(p){e.eBV(l);const U=e.XpG();return e.Njj(U.formKeyUp(p))}),e.k0s(),e.DNE(7,st,2,1,"div",9),e.k0s()()()}if(2&h){const l=e.XpG();e.R7$(),e.Y8G("ngIf",!l.userLoginService.chainId&&l.showChainSelector),e.R7$(4),e.Y8G("placeholder",e.bMT(6,4,"Email")),e.R50("ngModel",l.forgotPasswordEmail),e.R7$(2),e.Y8G("ngIf",(null==l.forgotEmailErrors?null:l.forgotEmailErrors.length)>1)}}function Q(h,B){if(1&h&&(e.qex(0),e.j41(1,"div",19)(2,"div",20)(3,"button",21)(4,"span",22),e.EFF(5,"\xd7"),e.k0s()(),e.EFF(6),e.nI1(7,"transloco"),e.k0s()(),e.bVm()),2&h){const l=e.XpG();e.R7$(6),e.SpI(" ",e.bMT(7,1,l.informationMessage)," ")}}function it(h,B){if(1&h){const l=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(l);const p=e.XpG();return e.Njj(p.sendForgotPassword())}),e.EFF(1),e.nI1(2,"transloco"),e.k0s()}2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Send")))}let lt=(()=>{class h{api;router;userLoginService;subs=[];forgotPasswordSubmitPressed=!1;forgotPasswordEmail="";forgotPasswordEmailError="";forgotEmailErrors=[];informationMessage=null;messageValidateChain="";showChainSelector=!1;showFinalMessageOnly=!1;chainSet=[];chainsAvailable=[];constructor(l,P,p){this.api=l,this.router=P,this.userLoginService=p}sendForgotPassword(){if(this.messageValidateChain="",this.informationMessage="Information has been sent if the account exists",this.forgotEmailErrors=[],window.hasOwnProperty("BOHChainId")&&Number(window.BOHChainId)>0&&(this.userLoginService.currentChainId=Number(window.BOHChainId)),""===this.forgotPasswordEmail.trim())return this.forgotEmailErrors.push(this.informationMessage),void this.forgotEmailErrors.push("Email field cannot be empty.");this.showChainSelector&&0===Number(this.userLoginService.currentChainId)?this.messageValidateChain="Chain should be set":this.subs.push(this.api.forgotPassword(this.forgotPasswordEmail,this.userLoginService.currentChainId).subscribe(l=>{if(this.forgotPasswordSubmitPressed=!0,"object"==typeof l&&"data"in l&&"chains"in l.data&&(this.chainsAvailable=l.data.chains),!1===l.status){if(this.forgotEmailErrors=typeof l.errors.email<"u"&&l.errors.email.length>0&&Array.isArray(l.errors.email)?l.errors.email:[],0===Number(this.userLoginService.currentChainId)&&this.forgotEmailErrors.length>0&&(this.forgotEmailErrors.forEach(P=>{Array.isArray(P)&&(this.showChainSelector=!0,this.chainSet=P)}),!0===this.showChainSelector))return this.userLoginService.currentChainId=null,void(this.userLoginService.chainId=0);this.showFinalMessageOnly=this.forgotEmailErrors?.length<=1}else this.showFinalMessageOnly=!0},l=>{this.forgotPasswordEmailError=l.statusText}))}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}goBack(){this.router.navigateByUrl("/user/login").then()}formKeyUp(l){13===l.keyCode&&this.sendForgotPassword()}static \u0275fac=function(P){return new(P||h)(e.rXU(M.G),e.rXU(O.Ix),e.rXU(g))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-restore-password"]],decls:9,vars:9,consts:[["class","form-wrapper",4,"ngIf"],[4,"ngIf"],["type","button","class","btn btn-lg btn-danger","style","margin-bottom: 10px",3,"click",4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-lg","btn-primary",3,"click"],[1,"form-wrapper"],["class","wrapper chain-wrapper",4,"ngIf"],[1,"wrapper","login-wrapper"],["aria-hidden","true",1,"fa-light","fa-envelope","login-icon"],["name","email","id","fp-email","type","text",1,"text-field",3,"ngModelChange","keyup","placeholder","ngModel"],["class","errorMessage",4,"ngIf"],[1,"wrapper","chain-wrapper"],[1,"control-label","required"],[1,"required"],["name","currentChainId",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[4,"ngFor","ngForOf"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[1,"errorMessage"],["id","flash-messages",1,"col-md-12"],["role","alert",1,"alert","alert-success","alert-dismissible"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"],["type","button",1,"btn","btn-lg","btn-danger",2,"margin-bottom","10px",3,"click"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.DNE(3,nt,8,6,"form",0)(4,Q,8,3,"ng-container",1)(5,it,3,3,"button",2),e.j41(6,"button",3),e.bIt("click",function(){return p.goBack()}),e.EFF(7),e.nI1(8,"transloco"),e.k0s()),2&P&&(e.R7$(),e.JRh(e.bMT(2,5,"Reset Password")),e.R7$(2),e.Y8G("ngIf",!p.showFinalMessageOnly),e.R7$(),e.Y8G("ngIf",p.showFinalMessageOnly),e.R7$(),e.Y8G("ngIf",!p.showFinalMessageOnly),e.R7$(2),e.JRh(e.bMT(8,7,"Back")))},dependencies:[i.Sq,i.bT,t.qT,t.xH,t.y7,t.me,t.wz,t.BC,t.cb,t.vS,t.cV,n.Kj],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--foh-color-main);font-size:18pt;text-align:center}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%] > button.btn-danger[_ngcontent-%COMP%]{background:var(--foh-color-main);border-color:var(--foh-color-main);color:#fff}[_nghost-%COMP%] > button.btn-primary[_ngcontent-%COMP%]{background:#fff;border-color:var(--foh-color-main);color:var(--foh-color-main)}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{height:inherit;max-height:99%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .select-chain-branch[_ngcontent-%COMP%]{width:77%;height:75%;margin-left:10%;margin-right:10%;overflow:hidden;text-align:center;box-sizing:border-box}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .select-chain-branch[_ngcontent-%COMP%]   .foh-login-form-list-link[_ngcontent-%COMP%]{color:var(--foh-color-secondary);cursor:pointer}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:inherit;margin-bottom:20px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:var(--foh-color-secondary);opacity:.5}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]{padding:12px 48px;width:100%;height:48px;border:1px solid var(--foh-color-secondary);border-radius:5px;background-color:#fff!important;font-size:14px;color:var(--foh-color-secondary)!important}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{padding:8px 32px;grid-gap:10px;gap:10px;width:100%;height:50px;background:var(--foh-color-main);border-radius:10px;text-align:center;letter-spacing:.15px;color:#fff;border:none}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]:disabled{opacity:.5}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .password-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon[_ngcontent-%COMP%]{color:var(--foh-color-secondary);position:absolute;padding:12px;font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon[_ngcontent-%COMP%]{top:0;cursor:pointer}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon-rtl[_ngcontent-%COMP%]{left:0}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon-ltr[_ngcontent-%COMP%]{right:0}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .login-icon[_ngcontent-%COMP%]{color:var(--foh-color-secondary);position:absolute;padding:12px;font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:17px;text-align:center;color:#333}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]{font-style:normal;text-align:center;width:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]   .positions-icon[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle;padding-top:2px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-weight:400;font-size:14px;vertical-align:middle;padding-top:2px}[_nghost-%COMP%]   form.form-wrapper[_ngcontent-%COMP%]   .chain-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:12px 16px;width:100%;height:48px;border:1px solid var(--foh-color-secondary);border-radius:5px;background-color:#fff!important;font-size:14px;color:var(--foh-color-secondary)!important}"]})}return h})();function ct(h,B){if(1&h){const l=e.RV6();e.j41(0,"article",1),e.bIt("click",function(){const p=e.eBV(l).$implicit,U=e.XpG();return e.Njj(U.setBranch(p.branch_id))}),e.EFF(1),e.k0s()}if(2&h){const l=B.$implicit;e.R7$(),e.SpI(" ",l.name," ")}}let gt=(()=>{class h{userLoginService;router;api;language;t;state;loader;subs=[];sError="";constructor(l,P,p,U,K,wt,Ot){this.userLoginService=l,this.router=P,this.api=p,this.language=U,this.t=K,this.state=wt,this.loader=Ot,0!=this.userLoginService.branches.length||this.router.navigateByUrl("/user/login").then()}setBranch(l){void 0!==l&&(this.loader.showLoader(),this.subs.push(this.api.setBranch(l,this.userLoginService.selectedChainId).subscribe(P=>{void 0!==P.message&&void 0!==P.code&&void 0===P.quick_login_url?(this.loader.hideLoader(),this.sError=this.t.translate(P.message)):(this.userLoginService.branches.forEach(p=>{const U=this.state.getChain();Number(l)===Number(p.branch_id)&&this.language.setupLanguageFromSettings(U,p,this.userLoginService.user)}),d.c.domainMode?window.location.replace(P.quick_login_url+"&rememberMe=1"):this.router.navigateByUrl("/").then(()=>{this.loader.hideLoader()}))},()=>{this.loader.hideLoader(),this.sError=this.t.translate("Something went wrong, please try again later.")})))}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}static \u0275fac=function(P){return new(P||h)(e.rXU(g),e.rXU(O.Ix),e.rXU(M.G),e.rXU(m.g),e.rXU(n.JO),e.rXU(k.d),e.rXU(T.Z))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-select-branch"]],decls:5,vars:4,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.j41(3,"section"),e.DNE(4,ct,2,1,"article",0),e.k0s()),2&P&&(e.R7$(),e.JRh(e.bMT(2,2,"Please select branch")),e.R7$(3),e.Y8G("ngForOf",p.userLoginService.branches))},dependencies:[i.Sq,n.Kj],styles:["[_nghost-%COMP%]{flex-grow:1;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:0;color:var(--foh-color-main);font-size:18pt;text-align:center}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{overflow:auto;height:240px;box-sizing:border-box;flex-grow:1}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:100%;border:solid 1px var(--foh-color-main);background-color:#fff;padding:10px;cursor:pointer;border-radius:5px;margin-bottom:5px;text-align:center}"]})}return h})();function pt(h,B){if(1&h){const l=e.RV6();e.j41(0,"article",1),e.bIt("click",function(){const p=e.eBV(l).$implicit,U=e.XpG();return e.Njj(U.userLoginService.setChain(p.chain_id))}),e.EFF(1),e.k0s()}if(2&h){const l=B.$implicit;e.R7$(),e.SpI(" ",l.name," ")}}let ht=(()=>{class h{userLoginService;router;subs=[];sError="";constructor(l,P){this.userLoginService=l,this.router=P,0!=this.userLoginService.chains.length||this.router.navigateByUrl("/user/login").then()}static \u0275fac=function(P){return new(P||h)(e.rXU(g),e.rXU(O.Ix))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-select-chain"]],decls:5,vars:4,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.j41(3,"section"),e.DNE(4,pt,2,1,"article",0),e.k0s()),2&P&&(e.R7$(),e.JRh(e.bMT(2,2,"Please select chain")),e.R7$(3),e.Y8G("ngForOf",p.userLoginService.chains))},dependencies:[i.Sq,n.Kj],styles:["[_nghost-%COMP%]{flex-grow:1;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:0;color:var(--foh-color-main);font-size:18pt;text-align:center}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{overflow:auto;height:240px;box-sizing:border-box;flex-grow:1}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:100%;border:solid 1px var(--foh-color-main);background-color:#fff;padding:10px;cursor:pointer;border-radius:5px;margin-bottom:5px;text-align:center}"]})}return h})(),dt=(()=>{class h{router;constructor(l){this.router=l}ngOnInit(){}cancel(){this.router.navigateByUrl("/user/login").then()}setDomain(l,P,p,U){d.c.apiUrl=l,d.c.staticUrl=P,d.c.production=U,U?(localStorage.removeItem("test-apiUrl"),localStorage.removeItem("test-staticUrl"),localStorage.removeItem("test-env")):(localStorage.setItem("test-apiUrl",l),localStorage.setItem("test-staticUrl",P),localStorage.setItem("test-env",p)),this.cancel()}testException(){throw new Error("This is test exception from NG-FOH")}static \u0275fac=function(P){return new(P||h)(e.rXU(O.Ix))};static \u0275cmp=e.VBU({type:h,selectors:[["app-user-login-select-domain"]],decls:15,vars:6,consts:[[1,"foh-login-form-list-link",3,"click"],[3,"click"],[1,"btn","btn-lg",3,"click"],[1,"btn","btn-lg","btn-danger",3,"click"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.j41(3,"section")(4,"article",0),e.bIt("click",function(){return p.setDomain("https://api.betterchains.com","https://d1mcyggarp14he.cloudfront.net","",!0)}),e.EFF(5," Production "),e.k0s(),e.j41(6,"article",1),e.bIt("click",function(){return p.setDomain("http://api.stage.betterchains.net","http://cdn.stage.betterchains.net","STAGE",!1)}),e.EFF(7," Staging "),e.k0s(),e.j41(8,"article",0),e.bIt("click",function(){return p.setDomain("http://api.dev.betterchains.net","http://cdn.dev.betterchains.net","DEV",!1)}),e.EFF(9," Development "),e.k0s()(),e.j41(10,"button",2),e.bIt("click",function(){return p.cancel()}),e.EFF(11),e.nI1(12,"transloco"),e.k0s(),e.j41(13,"button",3),e.bIt("click",function(){return p.testException()}),e.EFF(14,"Test Exception"),e.k0s()),2&P&&(e.R7$(),e.JRh(e.bMT(2,2,"Please select domain")),e.R7$(10),e.JRh(e.bMT(12,4,"Cancel")))},dependencies:[n.Kj],styles:["[_nghost-%COMP%]{flex-grow:1;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{flex-grow:0;color:var(--foh-color-main);font-size:18pt;text-align:center}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{overflow:auto;height:240px;box-sizing:border-box;flex-grow:1}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:100%;border:solid 1px var(--foh-color-main);background-color:#fff;padding:10px;cursor:pointer;border-radius:5px;margin-bottom:5px;text-align:center}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{width:100%}"]})}return h})();var Mt=s(7867);function jt(h,B){if(1&h&&(e.j41(0,"div",4)(1,"p",5),e.EFF(2),e.k0s()()),2&h){const l=e.XpG();e.R7$(2),e.JRh(l.errorMessage)}}function At(h,B){1&h&&(e.j41(0,"div",6),e.nrm(1,"i",7),e.k0s())}function Bt(h,B){1&h&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"transloco"),e.k0s()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"How would you like to receive your verification code?")))}function Gt(h,B){if(1&h){const l=e.RV6();e.j41(0,"section")(1,"input",8),e.mxI("ngModelChange",function(p){e.eBV(l);const U=e.XpG();return e.DH7(U.sendType,p)||(U.sendType=p),e.Njj(p)}),e.k0s(),e.nrm(2,"i",9),e.j41(3,"label",10),e.EFF(4),e.nI1(5,"transloco"),e.j41(6,"bdo",11),e.EFF(7),e.k0s()()()}if(2&h){const l=e.XpG();e.R7$(),e.Y8G("value","email"),e.R50("ngModel",l.sendType),e.R7$(3),e.SpI("",e.bMT(5,4,"Email it")," "),e.R7$(3),e.SpI("(",l.emailHint,")")}}function Nt(h,B){if(1&h){const l=e.RV6();e.j41(0,"section")(1,"input",12),e.mxI("ngModelChange",function(p){e.eBV(l);const U=e.XpG();return e.DH7(U.sendType,p)||(U.sendType=p),e.Njj(p)}),e.k0s(),e.nrm(2,"i",13),e.j41(3,"label",14)(4,"bdi"),e.EFF(5),e.nI1(6,"transloco"),e.k0s(),e.j41(7,"bdo",11),e.EFF(8),e.k0s()()()}if(2&h){const l=e.XpG();e.R7$(),e.Y8G("value","sms"),e.R50("ngModel",l.sendType),e.R7$(4),e.SpI("",e.bMT(6,4,"Text it"),"\xa0"),e.R7$(3),e.SpI("(",l.phoneHint,")")}}let $t=(()=>{class h{userLoginService;api;gql;router;subs=[];sendType="sms";hasError=!1;errorMessage="";emailHint="";phoneHint="";constructor(l,P,p,U){this.userLoginService=l,this.api=P,this.gql=p,this.router=U,this.userLoginService.user||this.router.navigateByUrl("/user/login",{replaceUrl:!0}).then(),this.userLoginService.getUser().then(()=>{this.emailHint=this.userLoginService.getEmailHint(),this.phoneHint=this.userLoginService.getPhoneHint()})}requestCode(){this.userLoginService.loginCodeRequestedTo=this.sendType,this.subs.push(this.api.requestLoginCode(this.sendType).subscribe({next:()=>{this.gql.trackUserAction("2FA code sent successfully",!0,0,this.sendType).then(),this.router.navigateByUrl("/user/login/verify-code").then()},error:l=>{this.gql.trackUserAction("2FA code send failed",!1,0,l.message).then(),this.hasError=!0,this.errorMessage=l.message}}))}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}static \u0275fac=function(P){return new(P||h)(e.rXU(g),e.rXU(M.G),e.rXU(Mt.jR),e.rXU(O.Ix))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-code-prompt"]],decls:12,vars:11,consts:[["class","alert alert-danger",4,"ngIf"],["class","user-check-icon",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-lg","btn-danger",3,"click"],[1,"alert","alert-danger"],[1,"text-danger"],[1,"user-check-icon"],[1,"fa-light","fa-user-check"],["type","radio","id","sendTypeEmail",3,"ngModelChange","value","ngModel"],[1,"fa-light","fa-envelope"],["for","sendTypeEmail"],["dir","ltr"],["type","radio","id","sendTypeSms",3,"ngModelChange","value","ngModel"],[1,"fa-light","fa-message"],["for","sendTypeSms"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.DNE(3,jt,3,1,"div",0)(4,At,2,0,"div",1)(5,Bt,3,3,"p",2)(6,Gt,8,6,"section",2)(7,Nt,9,6,"section",2),e.j41(8,"section")(9,"button",3),e.bIt("click",function(){return p.requestCode()}),e.EFF(10),e.nI1(11,"transloco"),e.k0s()()),2&P&&(e.R7$(),e.JRh(e.bMT(2,7,"We need to verify your identity")),e.R7$(2),e.Y8G("ngIf",p.hasError),e.R7$(),e.Y8G("ngIf",!p.hasError),e.R7$(),e.Y8G("ngIf",!p.hasError),e.R7$(),e.Y8G("ngIf",!p.hasError),e.R7$(),e.Y8G("ngIf",!p.hasError),e.R7$(3),e.JRh(e.bMT(11,9,"Send")))},dependencies:[i.bT,t.me,t.Fm,t.BC,t.vS,n.Kj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:20px}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--foh-color-main);font-size:16pt;text-align:center;margin:0}[_nghost-%COMP%]   div.user-check-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--foh-color-success);text-align:center;margin:0}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;margin:0}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{font-size:18px;font-weight:400;display:flex;gap:10px;margin:0;align-items:center}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-weight:400;margin:0}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;margin:0}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;background:var(--foh-color-main);border-color:var(--foh-color-main)}"]})}return h})();var It=s(4070);function Vt(h,B){1&h&&(e.qex(0),e.EFF(1),e.nI1(2,"transloco"),e.bVm()),2&h&&(e.R7$(),e.JRh(e.bMT(2,1,"Enter the code sent to")))}function kt(h,B){1&h&&(e.qex(0),e.EFF(1),e.nI1(2,"transloco"),e.bVm()),2&h&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Please enter verification code we have sent to")," "))}function Rt(h,B){if(1&h&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"transloco"),e.j41(3,"bdo",6),e.EFF(4),e.k0s(),e.EFF(5,") "),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.SpI(" (",e.bMT(2,2,"Email")," : "),e.R7$(3),e.JRh(l.emailHint)}}function Ut(h,B){if(1&h&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"transloco"),e.j41(3,"bdo",6),e.EFF(4),e.k0s(),e.EFF(5,") "),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.SpI(" (",e.bMT(2,2,"Phone ending with")," : "),e.R7$(3),e.JRh(l.phoneHint)}}function Xt(h,B){if(1&h&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&h){const l=e.XpG();e.R7$(),e.JRh(l.errorMessage)}}function C(h,B){1&h&&(e.qex(0),e.j41(1,"div",2)(2,"h3"),e.EFF(3),e.nI1(4,"transloco"),e.k0s()(),e.j41(5,"div",3)(6,"button",4),e.EFF(7),e.nI1(8,"transloco"),e.k0s()(),e.bVm()),2&h&&(e.R7$(3),e.JRh(e.bMT(4,2,"Your password has been successfully changed")),e.R7$(4),e.SpI(" ",e.bMT(8,4,"Proceed to login")," "))}function H(h,B){if(1&h&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&h){const l=B.$implicit;e.R7$(),e.JRh(l)}}function b(h,B){if(1&h&&(e.j41(0,"div",6)(1,"ul"),e.DNE(2,H,2,1,"li",7),e.k0s()()),2&h){const l=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",l.responseErrors)}}function A(h,B){if(1&h&&(e.j41(0,"p",13),e.EFF(1),e.k0s()),2&h){const l=e.XpG(3);e.R7$(),e.JRh(l.newPasswordError)}}function S(h,B){if(1&h&&(e.j41(0,"p",13),e.EFF(1),e.k0s()),2&h){const l=e.XpG(3);e.R7$(),e.JRh(l.newPasswordConfirmError)}}function tt(h,B){if(1&h){const l=e.RV6();e.qex(0),e.j41(1,"div",8),e.nrm(2,"i",9),e.j41(3,"div")(4,"input",10),e.nI1(5,"transloco"),e.mxI("ngModelChange",function(p){e.eBV(l);const U=e.XpG(2);return e.DH7(U.newPassword,p)||(U.newPassword=p),e.Njj(p)}),e.bIt("ngModelChange",function(){e.eBV(l);const p=e.XpG(2);return e.Njj(p.checkPass())})("keyup",function(p){e.eBV(l);const U=e.XpG(2);return e.Njj(U.formKeyUp(p))}),e.k0s()(),e.DNE(6,A,2,1,"p",11),e.k0s(),e.j41(7,"div",8),e.nrm(8,"i",9),e.j41(9,"div")(10,"input",10),e.nI1(11,"transloco"),e.mxI("ngModelChange",function(p){e.eBV(l);const U=e.XpG(2);return e.DH7(U.newPasswordConfirm,p)||(U.newPasswordConfirm=p),e.Njj(p)}),e.bIt("ngModelChange",function(){e.eBV(l);const p=e.XpG(2);return e.Njj(p.checkPass())})("keyup",function(p){e.eBV(l);const U=e.XpG(2);return e.Njj(U.formKeyUp(p))}),e.k0s()(),e.DNE(12,S,2,1,"p",11),e.k0s(),e.j41(13,"div",3)(14,"button",12),e.bIt("click",function(){e.eBV(l);const p=e.XpG(2);return e.Njj(p.sendChangePassword())}),e.nrm(15,"span"),e.EFF(16),e.nI1(17,"transloco"),e.k0s()(),e.bVm()}if(2&h){const l=e.XpG(2);e.R7$(4),e.Y8G("placeholder",e.bMT(5,10,"New Password"))("type","password"),e.R50("ngModel",l.newPassword),e.R7$(2),e.Y8G("ngIf",l.newPasswordError),e.R7$(4),e.Y8G("placeholder",e.bMT(11,12,"Confirm Password"))("type","password"),e.R50("ngModel",l.newPasswordConfirm),e.R7$(2),e.Y8G("ngIf",l.newPasswordConfirmError),e.R7$(2),e.Y8G("disabled",l.hasError),e.R7$(2),e.SpI(" ",e.bMT(17,14,"Change Password")," ")}}function ot(h,B){1&h&&(e.qex(0),e.j41(1,"div",3)(2,"button",14),e.EFF(3),e.nI1(4,"transloco"),e.k0s()(),e.bVm()),2&h&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Request Again")," "))}function mt(h,B){if(1&h&&(e.qex(0),e.DNE(1,b,3,1,"div",5)(2,tt,18,16,"ng-container",1)(3,ot,5,3,"ng-container",1),e.bVm()),2&h){const l=e.XpG();e.R7$(),e.Y8G("ngIf",l.hasResponseErrors),e.R7$(),e.Y8G("ngIf",!l.resetPasswordCodeIsExpired),e.R7$(),e.Y8G("ngIf",l.resetPasswordCodeIsExpired)}}const St=[{path:"",component:q,children:[{path:"",component:ut},{path:"select-domain",component:dt},{path:"select-chain",component:ht},{path:"select-branch",component:gt},{path:"restore-password",component:lt},{path:"code-prompt",component:$t},{path:"verify-code",component:(()=>{class h{api;userLoginService;gql;router;subs=[];hasError=!1;errorMessage="";code="";emailHint="";phoneHint="";isIos=!(!d.c.isApp||"ios"!==It.Ii.getPlatform());constructor(l,P,p,U){this.api=l,this.userLoginService=P,this.gql=p,this.router=U,this.userLoginService.user||this.router.navigateByUrl("/user/login",{replaceUrl:!0}).then(),this.emailHint=this.userLoginService.getEmailHint(),this.phoneHint=this.userLoginService.getPhoneHint()}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}verifyCode(){this.subs.push(this.api.verifyLoginCode(this.code).subscribe({next:l=>{1==l.status?(this.gql.trackUserAction("2FA code verified successfully").then(),this.hasError=!1,this.errorMessage="",this.userLoginService.branches.length>1?this.router.navigateByUrl("/user/login/select-branch").then():this.userLoginService.setChain(this.userLoginService.chainId,!0)):(this.gql.trackUserAction("2FA code verification failed",!1,0,l.errors[0]).then(),this.hasError=!0,this.errorMessage=l.errors[0])},error:l=>{this.hasError=!0,this.errorMessage=l.message,this.gql.trackUserAction("2FA code verification failed",!1,0,l.message).then()}}))}formKeyUp(l){13===l.keyCode&&""!=this.code.trim()&&this.verifyCode()}static \u0275fac=function(P){return new(P||h)(e.rXU(M.G),e.rXU(g),e.rXU(Mt.jR),e.rXU(O.Ix))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-code-verify"]],decls:23,vars:22,consts:[[1,"text-center"],[4,"ngIf"],["type","text",1,"form-control",3,"ngModelChange","keyup","ngModel","placeholder"],["class","text-danger",4,"ngIf"],[1,"btn","btn-lg","btn-danger",3,"click","disabled"],["routerLink","/user/login/code-prompt"],["dir","ltr"],[1,"text-danger"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.j41(3,"p",0),e.DNE(4,Vt,3,3,"ng-container",1)(5,kt,3,3,"ng-container",1),e.nrm(6,"br"),e.DNE(7,Rt,6,4,"span",1)(8,Ut,6,4,"span",1),e.k0s(),e.j41(9,"section")(10,"input",2),e.nI1(11,"transloco"),e.mxI("ngModelChange",function(K){return e.DH7(p.code,K)||(p.code=K),K}),e.bIt("keyup",function(K){return p.formKeyUp(K)}),e.k0s()(),e.DNE(12,Xt,2,1,"p",3),e.j41(13,"section")(14,"button",4),e.bIt("click",function(){return p.verifyCode()}),e.EFF(15),e.nI1(16,"transloco"),e.k0s()(),e.j41(17,"p",0),e.EFF(18),e.nI1(19,"transloco"),e.j41(20,"a",5),e.EFF(21),e.nI1(22,"transloco"),e.k0s()()),2&P&&(e.R7$(),e.JRh(e.bMT(2,12,"Enter Verification Code")),e.R7$(3),e.Y8G("ngIf",p.isIos),e.R7$(),e.Y8G("ngIf",!p.isIos),e.R7$(2),e.Y8G("ngIf","email"==p.userLoginService.loginCodeRequestedTo),e.R7$(),e.Y8G("ngIf","sms"==p.userLoginService.loginCodeRequestedTo),e.R7$(2),e.R50("ngModel",p.code),e.Y8G("placeholder",e.bMT(11,14,"Code")),e.R7$(2),e.Y8G("ngIf",p.hasError),e.R7$(2),e.Y8G("disabled",""==p.code),e.R7$(),e.JRh(e.bMT(16,16,"Sign In")),e.R7$(3),e.SpI(" ",e.bMT(19,18,"Didn't get the code?")," "),e.R7$(3),e.JRh(e.bMT(22,20,"Send again")))},dependencies:[O.Wk,i.bT,t.me,t.BC,t.vS,n.Kj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:20px}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--foh-color-main);font-size:16pt;text-align:center;margin:0}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;margin:0}[_nghost-%COMP%]   section[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;display:block;box-sizing:border-box;font-weight:400;font-size:18px;line-height:24px;border-radius:10px;padding:10px;height:46px}[_nghost-%COMP%]   section[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;background:var(--foh-color-main);border-color:var(--foh-color-main)}"]})}return h})()},{path:"reset-password",component:(()=>{class h{t;route;api;subs=[];newPassword="";newPasswordConfirm="";newPasswordError="";newPasswordConfirmError="";code="";hasError=!0;hasResponseErrors=!1;responseErrors=[];resetPasswordCodeIsExpired=!1;allWentGood=!1;constructor(l,P,p){this.t=l,this.route=P,this.api=p,this.code=P.snapshot.queryParamMap.get("code")}ngOnInit(){this.subs.push(this.api.newResetPasswordCheck(this.code).subscribe({next:l=>{0==l.status&&(this.resetPasswordCodeIsExpired=!0,this.hasResponseErrors=!0,this.responseErrors=l.errors.map(P=>this.t.translate(P)))}}))}sendChangePassword(){this.checkNewPass(),this.checkConfirmPass(),this.hasError||(this.hasResponseErrors=!1,this.responseErrors=[],this.subs.push(this.api.newResetPassword(this.code,this.newPassword).subscribe({next:l=>{!0===l.data&&!0===l.status?this.allWentGood=!0:(this.hasResponseErrors=!0,this.responseErrors=l.errors)}})))}checkNewPass(){this.newPasswordError="",""!=this.newPassword.trim()?this.newPassword.trim().length<6?this.newPasswordError=this.t.translate("New Password is too short (minimum is 6 characters)"):this.newPassword.trim()==this.newPasswordConfirm.trim()||(this.newPasswordError=this.t.translate("Passwords should match")):this.newPasswordError=this.t.translate("New Password cannot be blank")}checkConfirmPass(){this.newPasswordConfirmError="",""!=this.newPasswordConfirm.trim()?this.newPasswordConfirm.trim().length<6&&(this.newPasswordConfirmError=this.t.translate("Confirm Password is too short (minimum is 6 characters)")):this.newPasswordConfirmError=this.t.translate("Confirm Password cannot be blank")}checkPass(){this.checkNewPass(),this.checkConfirmPass(),this.hasError=""!=this.newPasswordError||""!=this.newPasswordConfirmError}ngOnDestroy(){this.subs.forEach(l=>l.unsubscribe())}formKeyUp(l){13===l.keyCode&&this.sendChangePassword()}static \u0275fac=function(P){return new(P||h)(e.rXU(n.JO),e.rXU(O.nX),e.rXU(M.G))};static \u0275cmp=e.VBU({type:h,selectors:[["foh-user-login-reset-password"]],decls:6,vars:5,consts:[[1,"form-wrapper"],[4,"ngIf"],[1,"alert","alert-success"],[1,"wrapper"],["type","button","routerLink","/user/login",1,"submit-button"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[1,"wrapper","password-wrapper"],["aria-hidden","true",1,"fa-light","fa-key","password-icon"],["name","password","required","",1,"text-field",3,"ngModelChange","keyup","placeholder","type","ngModel"],["class","error",4,"ngIf"],["type","button",1,"submit-button",3,"click","disabled"],[1,"error"],["type","button","routerLink","/user/login/restore-password",1,"submit-button"]],template:function(P,p){1&P&&(e.j41(0,"h1"),e.EFF(1),e.nI1(2,"transloco"),e.k0s(),e.j41(3,"form",0),e.DNE(4,C,9,6,"ng-container",1)(5,mt,4,3,"ng-container",1),e.k0s()),2&P&&(e.R7$(),e.JRh(e.bMT(2,3,"Reset Password")),e.R7$(3),e.Y8G("ngIf",p.allWentGood),e.R7$(),e.Y8G("ngIf",!p.allWentGood))},dependencies:[O.Wk,i.Sq,i.bT,t.qT,t.me,t.BC,t.cb,t.YS,t.vS,t.cV,n.Kj],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--foh-color-main);font-size:18pt;text-align:center}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;color:var(--foh-color-success);font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]{height:inherit;max-height:99%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .select-chain-branch[_ngcontent-%COMP%]{width:77%;height:75%;margin-left:10%;margin-right:10%;overflow:hidden;text-align:center;box-sizing:border-box}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .select-chain-branch[_ngcontent-%COMP%]   .foh-login-form-list-link[_ngcontent-%COMP%]{color:var(--foh-color-secondary);cursor:pointer}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{width:inherit;margin-bottom:20px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:var(--foh-color-secondary);opacity:.5}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]{padding:12px 48px;width:100%;height:48px;border:1px solid var(--foh-color-secondary);border-radius:5px;background-color:#fff!important;font-size:14px;color:var(--foh-color-secondary)!important}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{padding:8px 32px;grid-gap:10px;gap:10px;width:100%;height:50px;background:var(--foh-color-main);border-radius:10px;text-align:center;letter-spacing:.15px;color:#fff;border:none}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]:disabled{opacity:.5}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .password-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon[_ngcontent-%COMP%]{color:var(--foh-color-secondary);position:absolute;padding:12px;font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon[_ngcontent-%COMP%]{top:0;cursor:pointer}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon-rtl[_ngcontent-%COMP%]{left:0}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .password-wrapper[_ngcontent-%COMP%]   .view-password-icon-ltr[_ngcontent-%COMP%]{right:0}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .login-icon[_ngcontent-%COMP%]{color:var(--foh-color-secondary);position:absolute;padding:12px;font-size:24px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:17px;text-align:center;color:#333}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .actions-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]{font-style:normal;text-align:center;width:100%}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]   .positions-icon[_ngcontent-%COMP%]{font-size:24px;vertical-align:middle;padding-top:2px}[_nghost-%COMP%]   .form-wrapper[_ngcontent-%COMP%]   .jobs-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-weight:400;font-size:14px;vertical-align:middle;padding-top:2px}"]})}return h})()}]}];let Tt=(()=>{class h{static \u0275fac=function(P){return new(P||h)};static \u0275mod=e.$C({type:h});static \u0275inj=e.G2t({imports:[O.iI.forChild(St),O.iI]})}return h})(),Wt=(()=>{class h{static \u0275fac=function(P){return new(P||h)};static \u0275mod=e.$C({type:h});static \u0275inj=e.G2t({imports:[Tt,i.MD,t.YN,O.iI,f.E,n.Q8]})}return h})()},8836:(X,R,s)=>{s.r(R),s.d(R,{UserModule:()=>Yt});var i=s(316),t=s(6710),f=s(1391),O=s(5312),n=s(8559),d=s(3366),v=s(2083),e=s(7749),k=s(8756),T=s(112),M=s(680),m=s(3973),g=s(6576),I=s(3265),x=s(6458),W=s(9035),j=s(1841),Y=s(4594),q=s(4456),V=s(8698),Z=s(3734),et=s(8691);function rt(C,H){if(1&C&&(n.j41(0,"div",10),n.nrm(1,"img",11),n.k0s()),2&C){const b=n.XpG();n.R7$(),n.FS9("src",b.avatarUrl,n.B4B)}}function at(C,H){1&C&&(n.j41(0,"foh-icon-card",12),n.EFF(1),n.nI1(2,"transloco"),n.nrm(3,"br"),n.EFF(4),n.nI1(5,"transloco"),n.k0s()),2&C&&(n.R7$(),n.SpI(" ",n.bMT(2,2,"The Update button will be shown after picture uploading.")," "),n.R7$(3),n.SpI(" ",n.bMT(5,4,"Please, crop the Uploaded Image and click the Update Button to finish uploading process.")," "))}function vt(C,H){if(1&C){const b=n.RV6();n.j41(0,"image-cropper",13),n.bIt("imageCropped",function(S){n.eBV(b);const tt=n.XpG();return n.Njj(tt.imageCropped(S))}),n.k0s()}if(2&C){const b=n.XpG();n.Y8G("imageChangedEvent",b.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",200)("imageBase64",b.imageBase64)("output","base64")}}function Pt(C,H){if(1&C){const b=n.RV6();n.j41(0,"div",14)(1,"div",15)(2,"button",16),n.bIt("click",function(){n.eBV(b);const S=n.XpG();return n.Njj(S.updateAvatar())}),n.EFF(3),n.nI1(4,"transloco"),n.k0s()(),n.j41(5,"div",17)(6,"button",18),n.bIt("click",function(){n.eBV(b);const S=n.XpG();return n.Njj(S.cancelEditAvatar())}),n.EFF(7),n.nI1(8,"transloco"),n.k0s()()()}2&C&&(n.R7$(3),n.JRh(n.bMT(4,2,"Update")),n.R7$(4),n.JRh(n.bMT(8,4,"Cancel")))}function ut(C,H){if(1&C){const b=n.RV6();n.j41(0,"input",21),n.bIt("change",function(S){n.eBV(b);const tt=n.XpG(2);return n.Njj(tt.fileChangeEvent(S))}),n.k0s()}}function $(C,H){if(1&C&&(n.j41(0,"div",1)(1,"div",19),n.DNE(2,ut,1,0,"input",20),n.k0s()()),2&C){const b=n.XpG();n.R7$(2),n.Y8G("ngIf",!b.changingAvatar)}}function _(C,H){if(1&C){const b=n.RV6();n.j41(0,"button",16),n.bIt("click",function(){n.eBV(b);const S=n.XpG(2);return n.Njj(S.appFilePicker())}),n.EFF(1),n.nI1(2,"transloco"),n.k0s()}2&C&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Choose File")," "))}function u(C,H){if(1&C){const b=n.RV6();n.j41(0,"button",25),n.bIt("click",function(){n.eBV(b);const S=n.XpG(2);return n.Njj(S.deleteAvatarConfirm())}),n.EFF(1),n.nI1(2,"transloco"),n.k0s()}2&C&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Delete profile picture")," "))}function E(C,H){if(1&C&&(n.j41(0,"div",1)(1,"div",22),n.DNE(2,_,3,3,"button",23)(3,u,3,3,"button",24),n.k0s()()),2&C){const b=n.XpG();n.R7$(2),n.Y8G("ngIf",b.isApp),n.R7$(),n.Y8G("ngIf",b.avatarUrl.indexOf("/img/default-user-avatar.png")<0)}}let w=(()=>{class C{apiService;loader;state;ngZone;t;cd;snackbar;componentService;capacitorFilePicker;isApp=O.c.isApp;avatarUrl="";croppedImageBase64="";changingAvatar=!1;imageChangedEvent="";imageBase64="";isRtl=!1;subs=[];ALLOWED_IMAGE_TYPE=["image/jpeg","image/png"];constructor(b,A,S,tt,ot,mt,xt,St,Tt){this.apiService=b,this.loader=A,this.state=S,this.ngZone=tt,this.t=ot,this.cd=mt,this.snackbar=xt,this.componentService=St,this.capacitorFilePicker=Tt,this.isRtl="rtl"===document.body.parentElement.getAttribute("dir")}deleteAvatarConfirm(){return this.subs.push(this.componentService.confirm({title:"Remove picture?",message:"Are you sure you want to remove the picture?",okText:"Remove",closeText:"Cancel"}).subscribe({next:A=>{Number(A)===this.componentService.ALERT_OK&&this.deleteAvatar()}})),!1}deleteAvatar(){this.loader.showLoader(),this.apiService.deleteAvatar().subscribe(b=>{this.avatarUrl=b.data.newAvatarUrl.startsWith("http")?b.data.newAvatarUrl:O.c.apiUrl+b.data.newAvatarUrl,this.state.updateAvatar.emit(this.avatarUrl),this.loader.hideLoader(),this.snackbar.clear(),this.snackbar.add({msg:this.t.translate("Profile picture has been deleted!"),action:{text:this.t.translate("Ok")}})})}updateAvatar(){if(this.croppedImageBase64){const b=new FormData,A=this.capacitorFilePicker.dataURLtoFile(this.croppedImageBase64,"avatar.png");b.append("avatar",A,"avatar.png"),this.loader.showLoader(),this.apiService.updateAvatar(b).subscribe(S=>{this.loader.hideLoader(),this.avatarUrl=S.data.newAvatarUrl.startsWith("http")?S.data.newAvatarUrl:O.c.apiUrl+S.data.newAvatarUrl+"?"+(new Date).getUTCSeconds(),this.state.delUserData(),this.state.updateAvatar.emit(this.avatarUrl),this.changingAvatar=!1,this.snackbar.clear(),this.snackbar.add({msg:this.t.translate("Your profile picture has been updated!"),action:{text:this.t.translate("Ok")}})})}return!1}fileChangeEvent(b){if(typeof b.target<"u"){const S=b.target?.files[0]?.type;!0===this.ALLOWED_IMAGE_TYPE.includes(S)?(this.changingAvatar=!0,this.imageChangedEvent=b):this.subs.push(this.componentService.confirm({title:"File has not been uploaded",message:"Please, check the file type. File type should be *.png, *.jpg, *.jpeg",okText:"",closeText:"Close"}).subscribe({next:()=>{}}))}}cancelEditAvatar(){return this.changingAvatar=!1,this.cd.detectChanges(),!1}appFilePicker(){this.capacitorFilePicker.RunAsync(!1,320,320).then(b=>{b.length>0&&this.ngZone.run(()=>{this.changingAvatar=!0,this.imageBase64="data:image/jpeg;base64,"+b[0].data})})}imageCropped(b){this.croppedImageBase64=b.base64}static \u0275fac=function(A){return new(A||C)(n.rXU(d.G),n.rXU(e.Z),n.rXU(v.d),n.rXU(n.SKi),n.rXU(T.JO),n.rXU(n.gRc),n.rXU(m.z),n.rXU(g.b),n.rXU(V.s))};static \u0275cmp=n.VBU({type:C,selectors:[["foh-user-profile-avatar"]],inputs:{avatarUrl:"avatarUrl"},decls:14,vars:9,consts:[["enctype","multipart/form-data","id","user-profile-image-form",1,"form-horizontal"],[1,"form-group"],[1,"col-sm-3","control-label"],[1,"col-sm-9"],["class","current-img",4,"ngIf"],["iconColor","white","iconBackgroundColor","var(--foh-color-secondary)","icon","fa-light fa-circle-info",4,"ngIf"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageBase64","output","imageCropped",4,"ngIf"],["class","row",4,"ngIf"],["class","form-group",4,"ngIf"],["id","Users_avatar_em_",1,"error-message",2,"display","none"],[1,"current-img"],["alt","User Avatar",1,"img-thumbnail",3,"src"],["iconColor","white","iconBackgroundColor","var(--foh-color-secondary)","icon","fa-light fa-circle-info"],["format","png",3,"imageCropped","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageBase64","output"],[1,"row"],[1,"col-xs-6"],[1,"btn","btn-large","btn-primary",3,"click"],[1,"col-xs-6","text-right"],[1,"btn","btn-large","btn-default",3,"click"],[1,"col-sm-12"],["class","form-control","style","height:auto","accept","image/png, image/jpeg","type","file",3,"change",4,"ngIf"],["accept","image/png, image/jpeg","type","file",1,"form-control",2,"height","auto",3,"change"],[1,"foh-avatar-buttons"],["class","btn btn-large btn-primary",3,"click",4,"ngIf"],["type","submit","class","btn btn-danger",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(A,S){1&A&&(n.j41(0,"foh-card")(1,"form",0)(2,"div",1)(3,"label",2),n.EFF(4),n.nI1(5,"transloco"),n.k0s(),n.j41(6,"div",3),n.DNE(7,rt,2,1,"div",4)(8,at,6,6,"foh-icon-card",5)(9,vt,1,6,"image-cropper",6)(10,Pt,9,6,"div",7)(11,$,3,1,"div",8)(12,E,4,2,"div",8),n.nrm(13,"div",9),n.k0s()()()()),2&A&&(n.R7$(4),n.SpI(" ",n.bMT(5,7,"Profile picture")," "),n.R7$(3),n.Y8G("ngIf",!S.changingAvatar),n.R7$(),n.Y8G("ngIf",S.changingAvatar),n.R7$(),n.Y8G("ngIf",S.changingAvatar),n.R7$(),n.Y8G("ngIf",S.changingAvatar),n.R7$(),n.Y8G("ngIf",!S.isApp),n.R7$(),n.Y8G("ngIf",!S.changingAvatar))},dependencies:[i.bT,x.B,Z.y,et._D,q.qT,q.cb,q.cV,T.Kj],styles:[".foh-avatar-buttons[_ngcontent-%COMP%]{display:flex;margin:0 15px;justify-content:space-between;flex-wrap:wrap}\n\n/*# sourceMappingURL=avatar.component.ts-angular-inline--15.css.map*/"]})}return C})();const L=C=>({"text-align":C});function z(C,H){if(1&C&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&C){const b=H.$implicit;n.R7$(),n.JRh(b)}}function st(C,H){if(1&C&&(n.j41(0,"div",35),n.DNE(1,z,2,1,"div",36),n.k0s()),2&C){const b=n.XpG();n.R7$(),n.Y8G("ngForOf",b.pwdErrors.old_password)}}function nt(C,H){if(1&C&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&C){const b=H.$implicit;n.R7$(),n.JRh(b)}}function Q(C,H){if(1&C&&(n.j41(0,"div",37),n.DNE(1,nt,2,1,"div",36),n.k0s()),2&C){const b=n.XpG();n.R7$(),n.Y8G("ngForOf",b.pwdErrors.new_password)}}function it(C,H){1&C&&(n.j41(0,"div",38),n.EFF(1),n.nI1(2,"transloco"),n.k0s()),2&C&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"Passwords should match")," "))}function lt(C,H){if(1&C&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&C){const b=H.$implicit;n.R7$(),n.JRh(b)}}function ct(C,H){if(1&C&&(n.j41(0,"div",39),n.DNE(1,lt,2,1,"div",36),n.k0s()),2&C){const b=n.XpG();n.R7$(),n.Y8G("ngForOf",b.pwdErrors.confirm_password)}}function gt(C,H){if(1&C&&(n.j41(0,"div",4)(1,"label",5),n.EFF(2),n.nI1(3,"transloco"),n.k0s(),n.j41(4,"div",18),n.nrm(5,"img",40),n.k0s()()),2&C){const b=n.XpG();n.R7$(2),n.JRh(n.bMT(3,4,"Signature")),n.R7$(3),n.FCK("src","",b.signPicture,"?t=",b.timestamp,"",n.B4B)}}function pt(C,H){if(1&C){const b=n.RV6();n.j41(0,"div",4)(1,"div",29)(2,"div",41),n.bIt("click",function(){n.eBV(b);const S=n.XpG();return n.Njj(S.clickChangeSignature())}),n.EFF(3),n.nI1(4,"transloco"),n.k0s()()()}2&C&&(n.R7$(3),n.SpI(" ",n.bMT(4,1,"Change Signature"),""))}function ht(C,H){if(1&C&&(n.j41(0,"span",59),n.EFF(1),n.k0s()),2&C){const b=H.$implicit;n.R7$(),n.SpI(" ",b.position_name," ")}}function dt(C,H){if(1&C&&(n.j41(0,"div",4)(1,"label",43),n.EFF(2),n.nI1(3,"transloco"),n.k0s(),n.j41(4,"div",57),n.DNE(5,ht,2,1,"span",58),n.k0s()()),2&C){const b=n.XpG(2);n.R7$(2),n.SpI(" ",n.bMT(3,2,"Additional Position")," "),n.R7$(3),n.Y8G("ngForOf",b.user.additional_positions)}}function Mt(C,H){if(1&C&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&C){const b=H.$implicit;n.R7$(),n.JRh(b)}}function jt(C,H){if(1&C&&(n.j41(0,"div",60),n.DNE(1,Mt,2,1,"div",36),n.k0s()),2&C){const b=n.XpG(2);n.R7$(),n.Y8G("ngForOf",b.userUpdEmlPhone.email)}}function At(C,H){if(1&C&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&C){const b=H.$implicit;n.R7$(),n.JRh(b)}}function Bt(C,H){if(1&C&&(n.j41(0,"div",61),n.DNE(1,At,2,1,"div",36),n.k0s()),2&C){const b=n.XpG(2);n.R7$(),n.Y8G("ngForOf",b.userUpdEmlPhone.phone)}}function Gt(C,H){if(1&C){const b=n.RV6();n.j41(0,"form",42)(1,"div",4)(2,"label",43),n.EFF(3),n.nI1(4,"transloco"),n.k0s(),n.j41(5,"div",44)(6,"p",45),n.EFF(7),n.k0s(),n.nrm(8,"div",46),n.k0s()(),n.j41(9,"div",4)(10,"label",43),n.EFF(11),n.nI1(12,"transloco"),n.k0s(),n.j41(13,"div",44)(14,"p",45),n.EFF(15),n.k0s(),n.nrm(16,"div",47),n.k0s()(),n.j41(17,"div",4)(18,"label",43),n.EFF(19),n.nI1(20,"transloco"),n.k0s(),n.j41(21,"div",44)(22,"h4")(23,"span",48),n.EFF(24),n.k0s()(),n.nrm(25,"div",49),n.k0s()(),n.DNE(26,dt,6,4,"div",32),n.j41(27,"div",4)(28,"label",50),n.EFF(29),n.nI1(30,"transloco"),n.j41(31,"span",17),n.EFF(32,"*"),n.k0s()(),n.j41(33,"div",44)(34,"input",51),n.mxI("ngModelChange",function(S){n.eBV(b);const tt=n.XpG();return n.DH7(tt.user.email,S)||(tt.user.email=S),n.Njj(S)}),n.k0s(),n.DNE(35,jt,2,1,"div",52),n.k0s()(),n.j41(36,"div",4)(37,"label",53),n.EFF(38),n.nI1(39,"transloco"),n.j41(40,"span",17),n.EFF(41,"*"),n.k0s()(),n.j41(42,"div",44)(43,"bdo")(44,"input",54),n.mxI("ngModelChange",function(S){n.eBV(b);const tt=n.XpG();return n.DH7(tt.user.phone,S)||(tt.user.phone=S),n.Njj(S)}),n.k0s()(),n.DNE(45,Bt,2,1,"div",55),n.k0s()(),n.j41(46,"div",4)(47,"div",29)(48,"button",56),n.bIt("click",function(){n.eBV(b);const S=n.XpG();return n.Njj(S.clickUpdateEmailAndPhone())}),n.EFF(49),n.nI1(50,"transloco"),n.k0s()()()()}if(2&C){const b=n.XpG();n.R7$(3),n.JRh(n.bMT(4,16,"First Name")),n.R7$(4),n.JRh(b.user.first_name),n.R7$(4),n.JRh(n.bMT(12,18,"Last Name")),n.R7$(4),n.JRh(b.user.last_name),n.R7$(4),n.SpI(" ",n.bMT(20,20,"Employee Main Position")," "),n.R7$(5),n.JRh(b.user.user_position_name),n.R7$(2),n.Y8G("ngIf",b.user.additional_positions.length>0),n.R7$(3),n.SpI(" ",n.bMT(30,22,"Email")," "),n.R7$(5),n.R50("ngModel",b.user.email),n.R7$(),n.Y8G("ngIf",b.userUpdEmlPhone.email),n.R7$(3),n.SpI(" ",n.bMT(39,24,"Phone")," "),n.R7$(6),n.Y8G("dir","ltr")("ngStyle",n.eq3(28,L,b.isRtl?"right":"left")),n.R50("ngModel",b.user.phone),n.R7$(),n.Y8G("ngIf",b.userUpdEmlPhone.phone),n.R7$(4),n.SpI(" ",n.bMT(50,26,"Update")," ")}}let Nt=(()=>{class C{apiService;state;loader;ls;t;language;layout;cd;snackbar;componentService;isApp=O.c.isApp;signPicture="";timestamp=(new Date).getUTCMilliseconds();allowChangeSignature=!1;user;avatarUrl="";oldPassword="";newPassword="";confirmPassword="";pwdErrors={old_password:[],new_password:[],confirm_password:[]};userUpdEmlPhone={email:[],phone:[]};showSignatureDialog=!1;currentLanguage="";isRtl=!1;subs=[];constructor(b,A,S,tt,ot,mt,xt,St,Tt,Wt){this.apiService=b,this.state=A,this.loader=S,this.ls=tt,this.t=ot,this.language=mt,this.layout=xt,this.cd=St,this.snackbar=Tt,this.componentService=Wt,this.currentLanguage=this.ls.getLanguage(),this.isRtl="rtl"===document.body.parentElement.getAttribute("dir")}ngOnInit(){this.reloadUser()}clickUpdateEmailAndPhone(){return this.loader.showLoader(),this.subs.push(this.apiService.userUpdateEmailAndPhone(this.user.email,this.user.phone).subscribe(b=>{if(this.loader.hideLoader(),!1===b.status){const A=b.errors;this.userUpdEmlPhone.email=A.email?A.email.slice(0,1):[],this.userUpdEmlPhone.phone=A.phone?A.phone.slice(0,1):[]}else this.snackbar.clear(),this.snackbar.add({msg:this.t.translate("Your profile was updated!"),action:{text:this.t.translate("Ok")}});this.cd.detectChanges()})),!1}chlang(b){this.currentLanguage=b.target.value}clickChangeSignature(){this.showSignatureDialog=!0,this.componentService.showSignDialogPopup()}closeSignatureDialog(){this.showSignatureDialog=!1,this.componentService.hideSignDialogPopup(),this.timestamp=(new Date).getUTCMilliseconds()}signatureSubmitted(){this.allowChangeSignature=!1}reloadUser(){this.loader.showLoader(),this.subs.push(this.apiService.getUser().subscribe(b=>{this.loader.hideLoader(),this.avatarUrl=b.avatar_url?b.avatar_url.startsWith("http")?b.avatar_url:O.c.apiUrl+b.avatar_url:"",this.signPicture=b.sign_picture?O.c.apiUrl+b.sign_picture:"",this.allowChangeSignature=1===parseInt(b.allow_change_signature,10),this.user=b,this.cd.detectChanges()}))}sendChangePassword(){return this.loader.showLoader(),this.subs.push(this.apiService.updatePassword(this.oldPassword,this.newPassword.trim(),this.confirmPassword.trim()).subscribe(b=>{this.loader.hideLoader(),!0!==b.status?this.pwdErrors=b.errors:(this.pwdErrors={old_password:[],new_password:[],confirm_password:[]},this.snackbar.clear(),this.snackbar.add({msg:this.t.translate("Your password was successfully changed!"),action:{text:this.t.translate("Ok")}}),this.oldPassword="",this.newPassword="",this.confirmPassword="")})),!1}setlang(){this.ls.setLanguage(this.currentLanguage);const b=this.language.getLocaleFromLanguage(this.currentLanguage);this.subs.push(this.apiService.userUpdateLocale(b).subscribe(()=>{this.snackbar.clear(),this.snackbar.add({msg:this.t.translate("Language has been changed"),action:{text:this.t.translate("Ok")}})})),localStorage.setItem("user-selected-language",this.currentLanguage)}ngOnDestroy(){this.subs.forEach(b=>b.unsubscribe())}static \u0275fac=function(A){return new(A||C)(n.rXU(d.G),n.rXU(v.d),n.rXU(e.Z),n.rXU(k.g),n.rXU(T.JO),n.rXU(k.g),n.rXU(M.Y),n.rXU(n.gRc),n.rXU(m.z),n.rXU(g.b))};static \u0275cmp=n.VBU({type:C,selectors:[["app-profile"]],decls:78,vars:46,consts:[["backLink","/dashboard",3,"pageTitle"],["id","user-profile-view"],[3,"avatarUrl"],[1,"form-horizontal"],[1,"form-group"],[1,"col-sm-3","control-label"],[1,"col-sm-9",2,"display","flex"],[1,"form-control",2,"min-width","150px",3,"change","value"],["value","en"],["value","he"],["value","ro"],["value","ru"],["value","fr"],["value","es"],[1,"btn","btn-primary",3,"click"],["id","user-change-password-form",1,"form-horizontal"],["for","Users_old_password",1,"col-sm-3","control-label","required"],[1,"required"],[1,"col-sm-9"],["autocomplete","new-password","id","Users_old_password","type","password",1,"form-control",3,"keyup","placeholder","value"],["class","errorMessage","id","Users_old_password_em_",4,"ngIf"],["for","Users_new_password",1,"col-sm-3","control-label","required"],["autocomplete","off","id","Users_new_password","type","password",1,"form-control",3,"keyup","placeholder","value"],["class","errorMessage","id","Users_new_password_em_",4,"ngIf"],["for","Users_confirm_password",1,"col-sm-3","control-label","required"],["autocomplete","off","id","Users_confirm_password","type","password",1,"form-control",3,"keyup","placeholder","value"],["class","errorMessage",4,"ngIf"],["class","errorMessage","id","Users_confirm_password_em_",4,"ngIf"],[3,"password"],[1,"col-sm-offset-2","col-sm-10","text-right"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["id","user-change-signature",1,"form-horizontal"],["class","form-group",4,"ngIf"],[3,"signatureSubmitted","dialogClose","isShowing","transparency"],["class","form-horizontal","id","user-profile-form",4,"ngIf"],["id","Users_old_password_em_",1,"errorMessage"],[4,"ngFor","ngForOf"],["id","Users_new_password_em_",1,"errorMessage"],[1,"errorMessage"],["id","Users_confirm_password_em_",1,"errorMessage"],["alt","Signature",2,"max-width","100%",3,"src"],["id","user-sign",1,"btn","btn-primary",3,"click"],["id","user-profile-form",1,"form-horizontal"],[1,"col-sm-2","control-label"],[1,"col-sm-10"],[1,"form-control-static"],["id","Users_first_name_em_",1,"errorMessage",2,"display","none"],["id","Users_last_name_em_",1,"errorMessage",2,"display","none"],[1,"label","label-success"],["id","Positions_name_em_",1,"errorMessage",2,"display","none"],["for","Users_email",1,"col-sm-2","control-label","required"],["placeholder","Email","name","Users[email]","id","Users_email","type","email",1,"form-control",3,"ngModelChange","ngModel"],["class","errorMessage","id","Users_email_em_",4,"ngIf"],["for","Users_phone",1,"col-sm-2","control-label"],["placeholder","Phone","name","Users[phone]","id","Users_phone","type","text",1,"form-control",3,"ngModelChange","dir","ngStyle","ngModel"],["class","errorMessage","id","Users_phone_em_",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"click"],["id","user-profile-additional-positions",1,"col-sm-10"],["class","label label-primary",4,"ngFor","ngForOf"],[1,"label","label-primary"],["id","Users_email_em_",1,"errorMessage"],["id","Users_phone_em_",1,"errorMessage"]],template:function(A,S){1&A&&(n.j41(0,"foh-container",0),n.nI1(1,"transloco"),n.j41(2,"foh-content")(3,"div",1),n.nrm(4,"foh-user-profile-avatar",2),n.j41(5,"foh-card")(6,"div",3)(7,"div",4)(8,"label",5),n.EFF(9),n.nI1(10,"transloco"),n.k0s(),n.j41(11,"div",6)(12,"select",7),n.bIt("change",function(ot){return S.chlang(ot)}),n.j41(13,"option",8),n.EFF(14,"English"),n.k0s(),n.j41(15,"option",9),n.EFF(16,"\u05e2\u05d1\u05e8\u05d9\u05ea"),n.k0s(),n.j41(17,"option",10),n.EFF(18,"Rom\xe2n\u0103"),n.k0s(),n.j41(19,"option",11),n.EFF(20,"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),n.k0s(),n.j41(21,"option",12),n.EFF(22,"Fran\xe7aise"),n.k0s(),n.j41(23,"option",13),n.EFF(24,"Espa\xf1ol"),n.k0s()(),n.EFF(25," \xa0 "),n.j41(26,"button",14),n.bIt("click",function(){return S.setlang()}),n.EFF(27),n.nI1(28,"transloco"),n.k0s()()()()(),n.j41(29,"foh-card")(30,"form",15)(31,"div",4)(32,"label",16),n.EFF(33),n.nI1(34,"transloco"),n.j41(35,"span",17),n.EFF(36,"*"),n.k0s()(),n.j41(37,"div",18)(38,"input",19),n.nI1(39,"transloco"),n.bIt("keyup",function(ot){return S.oldPassword=ot.target.value}),n.k0s(),n.DNE(40,st,2,1,"div",20),n.k0s()(),n.j41(41,"div",4)(42,"label",21),n.EFF(43),n.nI1(44,"transloco"),n.j41(45,"span",17),n.EFF(46,"*"),n.k0s()(),n.j41(47,"div",18)(48,"input",22),n.nI1(49,"transloco"),n.bIt("keyup",function(ot){return S.newPassword=ot.target.value}),n.k0s(),n.DNE(50,Q,2,1,"div",23),n.k0s()(),n.j41(51,"div",4)(52,"label",24),n.EFF(53),n.nI1(54,"transloco"),n.j41(55,"span",17),n.EFF(56,"*"),n.k0s()(),n.j41(57,"div",18)(58,"input",25),n.nI1(59,"transloco"),n.bIt("keyup",function(ot){return S.confirmPassword=ot.target.value}),n.k0s(),n.DNE(60,it,3,3,"div",26)(61,ct,2,1,"div",27),n.k0s()(),n.j41(62,"div",4),n.nrm(63,"label",5),n.j41(64,"div",18),n.nrm(65,"foh-password-meter",28),n.k0s()(),n.j41(66,"div",4)(67,"div",29)(68,"button",30),n.bIt("click",function(){return S.sendChangePassword()}),n.EFF(69),n.nI1(70,"transloco"),n.k0s()()()()(),n.j41(71,"foh-card")(72,"form",31),n.DNE(73,gt,6,6,"div",32)(74,pt,5,3,"div",32),n.k0s()(),n.j41(75,"app-sign-pad-v4",33),n.bIt("signatureSubmitted",function(){return S.signatureSubmitted()})("dialogClose",function(){return S.closeSignatureDialog()}),n.k0s(),n.j41(76,"foh-card"),n.DNE(77,Gt,51,30,"form",34),n.k0s()()()()),2&A&&(n.FS9("pageTitle",n.bMT(1,26,"User Profile")),n.R7$(4),n.Y8G("avatarUrl",S.avatarUrl),n.R7$(5),n.SpI(" ",n.bMT(10,28,"Interface Language")," "),n.R7$(3),n.Y8G("value",S.currentLanguage),n.R7$(15),n.JRh(n.bMT(28,30,"Update")),n.R7$(6),n.SpI(" ",n.bMT(34,32,"Old Password")," "),n.R7$(5),n.FS9("placeholder",n.bMT(39,34,"Type current password")),n.Y8G("value",S.oldPassword),n.R7$(2),n.Y8G("ngIf",S.pwdErrors.old_password),n.R7$(3),n.SpI(" ",n.bMT(44,36,"New Password")," "),n.R7$(5),n.FS9("placeholder",n.bMT(49,38,"Type new password")),n.Y8G("value",S.newPassword),n.R7$(2),n.Y8G("ngIf",S.pwdErrors.new_password),n.R7$(3),n.SpI(" ",n.bMT(54,40,"Confirm Password")," "),n.R7$(5),n.FS9("placeholder",n.bMT(59,42,"Type new password again")),n.Y8G("value",S.confirmPassword),n.R7$(2),n.Y8G("ngIf",""!=S.newPassword&&""!=S.confirmPassword&&S.newPassword!=S.confirmPassword),n.R7$(),n.Y8G("ngIf",S.pwdErrors.confirm_password),n.R7$(4),n.Y8G("password",S.newPassword),n.R7$(3),n.Y8G("disabled",""==S.oldPassword||""==S.newPassword||""==S.confirmPassword||S.newPassword!==S.confirmPassword),n.R7$(),n.SpI(" ",n.bMT(70,44,"Change Password")," "),n.R7$(4),n.Y8G("ngIf",S.signPicture),n.R7$(),n.Y8G("ngIf",S.allowChangeSignature),n.R7$(),n.Y8G("isShowing",S.showSignatureDialog)("transparency",0),n.R7$(2),n.Y8G("ngIf",S.user))},dependencies:[i.Sq,i.bT,i.B3,I.a,x.B,W.G,j.e,Y.d,q.qT,q.xH,q.y7,q.me,q.BC,q.cb,q.vS,q.cV,w,T.Kj],styles:["[_ngcontent-%COMP%]:root{--foh-color-main: #ff5132;--foh-color-additional: #808ba3;--foh-color-primary: #4a90e2;--foh-color-secondary: #808ba3;--foh-color-success: #19b971;--foh-color-danger: #ff5132;--foh-color-warning: #faad13;--foh-color-info: #17a2b8;--foh-body-bg-color: #F9F9F9;--foh-body-color: #333;--foh-body-font-family: system-ui, sans-serif;--foh-card-bg-color: white;--foh-header-bg-color: white;--foh-header-color: #333;--foh-login-bg-image: url(https://d1mcyggarp14he.cloudfront.net/themes/foh_theme/img/login-bg-2.jpg);--foh-dashboard-bg-image: url(https://d1mcyggarp14he.cloudfront.net/themes/foh_theme/img/dashboard-restaurant-2.jpg);--foh-swiper-default-item-top-color: rgba(255, 81, 50, .6);--foh-swiper-default-item-bottom-color: var(--foh-card-bg-color);--progress-less-25: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/1-25-b.gif);--progress-from-25-to-50: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/25_50.gif);--progress-from-50-to-75: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/50_75.gif);--progress-from-75-to-100: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/75_100.gif);--progress-100: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/lc/index/progress/gif/100.gif);--foh-btn-primary-color: white;--foh-btn-primary-background-color: var(--foh-color-primary);--foh-btn-primary-border-color: var(--foh-color-primary);--foh-btn-secondary-color: white;--foh-btn-secondary-background-color: var(--foh-color-secondary);--foh-btn-secondary-border-color: var(--foh-color-secondary);--foh-btn-success-color: white;--foh-btn-success-background-color: var(--foh-color-success);--foh-btn-success-border-color: var(--foh-color-success);--foh-btn-danger-color: white;--foh-btn-danger-background-color: var(--foh-color-danger);--foh-btn-danger-border-color: var(--foh-color-danger);--foh-btn-warning-color: white;--foh-btn-warning-background-color: var(--foh-color-warning);--foh-btn-warning-border-color: var(--foh-color-warning);--side-menu-bg: url(https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2//assets/img/side-menu/side_menu.png);--sat: env(safe-area-inset-top)}#user-profile-view[_ngcontent-%COMP%]   div.error-message[_ngcontent-%COMP%]{color:var(--foh-color-danger)}#user-profile-view[_ngcontent-%COMP%]   .jcrop-holder[_ngcontent-%COMP%]{display:inline-block}#user-profile-view[_ngcontent-%COMP%]   .current-img[_ngcontent-%COMP%], #user-profile-view[_ngcontent-%COMP%]   .preview-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-bottom:10px}#user-profile-view[_ngcontent-%COMP%]   span.required[_ngcontent-%COMP%], #user-profile-view[_ngcontent-%COMP%]   div.errorMessage[_ngcontent-%COMP%]{color:var(--foh-color-danger)}#user-profile-view[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{margin-right:4px}#user-profile-view[_ngcontent-%COMP%]   #user-profile-additional-positions[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}#user-profile-view[_ngcontent-%COMP%]   #user-profile-additional-positions[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px}"]})}return C})();var $t=s(1994),It=s(3072);const kt=[{path:"profile",component:Nt,canActivate:[It.r]},{path:"index",component:$t.O,canActivate:[It.r]},{path:"resetPassword",component:(()=>{class C{api;router;route;state;constructor(b,A,S,tt){this.api=b,this.router=A,this.route=S,this.state=tt;let ot=this.route.snapshot.queryParamMap.get("code");ot=ot??"",null!==this.state.getApiToken()||""!==this.state.getApiToken()?this.api.isAuthenticated().subscribe({next:xt=>{xt?this.router.navigateByUrl("/user/profile",{replaceUrl:!0}).then():this.router.navigateByUrl("/user/login/reset-password?code="+ot,{replaceUrl:!0}).then()}}):""==ot.trim()?this.router.navigateByUrl("/user/login",{replaceUrl:!0}).then():this.router.navigateByUrl("/user/login/reset-password?code="+ot,{replaceUrl:!0}).then()}static \u0275fac=function(A){return new(A||C)(n.rXU(d.G),n.rXU(t.Ix),n.rXU(t.nX),n.rXU(v.d))};static \u0275cmp=n.VBU({type:C,selectors:[["foh-user-reset-password"]],decls:0,vars:0,template:function(A,S){},encapsulation:2})}return C})()}];let Rt=(()=>{class C{static \u0275fac=function(A){return new(A||C)};static \u0275mod=n.$C({type:C});static \u0275inj=n.G2t({imports:[t.iI.forChild(kt),t.iI,f.UserLoginModule]})}return C})();var Ut=s(5553),Xt=s(1683);let Yt=(()=>{class C{static \u0275fac=function(A){return new(A||C)};static \u0275mod=n.$C({type:C});static \u0275inj=n.G2t({imports:[i.MD,Rt,Ut.h,et.xv,q.YN,T.Q8,Xt.Y]})}return C})()},1683:(X,R,s)=>{s.d(R,{Y:()=>t});var i=s(8559);let t=(()=>{class f{static \u0275fac=function(d){return new(d||f)};static \u0275mod=i.$C({type:f});static \u0275inj=i.G2t({})}return f})()},8637:(X,R,s)=>{s.d(R,{m:()=>f});var i=s(8559),t=s(436);let f=(()=>{class O{sanitizer;constructor(d){this.sanitizer=d}transform(d,v){switch(v){case"html":return this.sanitizer.bypassSecurityTrustHtml(d);case"style":return this.sanitizer.bypassSecurityTrustStyle(d);case"script":return this.sanitizer.bypassSecurityTrustScript(d);case"url":return this.sanitizer.bypassSecurityTrustUrl(d);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(d);default:throw new Error(`Invalid safe type specified: ${v}`)}}static \u0275fac=function(v){return new(v||O)(i.rXU(t.up,16))};static \u0275pipe=i.EJ8({name:"safe",type:O,pure:!0})}return O})()},3366:(X,R,s)=>{s.d(R,{G:()=>e});var i=s(9204),t=s(5312),f=s(3942),O=s(8559),n=s(2083),d=s(7980),v=s(6443);let e=(()=>{class k{state;cookie;http;constructor(M,m,g){this.state=M,this.cookie=m,this.http=g}newResetPasswordCheck(M){return this.http.put(`${t.c.apiUrl}/api/user/resetPasswordFohV3`,{code:M})}newResetPassword(M,m){return this.http.post(`${t.c.apiUrl}/api/user/resetPasswordFohV3`,{code:M,password:m})}verifyLoginCode(M){return this.http.post(`${t.c.apiUrl}/api/user/verifyLoginCode?token=${this.state.getApiToken()}`,{code:M})}requestLoginCode(M){return this.http.post(`${t.c.apiUrl}/api/user/sendLoginCode?token=${this.state.getApiToken()}`,{type:M})}login(M,m){return this.http.post(t.c.apiUrl+"/api/user/login",{username:M,password:m,client_app:"NG-FOH",client_version:this.state.version,platform:this.state.platform+(t.c.isApp?" app":"")})}removeFbToken(){return new f.c(M=>{const m=localStorage.getItem("ng-foh-app-firebase-token");if(null!==m){const g={fb_token:m,platform:"Fbase/MNG"};this.http.post(`${t.c.apiUrl}/api/user/removeFBToken?token=${this.state.getApiToken()}`,g).subscribe(()=>{localStorage.removeItem("ng-foh-app-firebase-token"),M.next()},I=>{console.log("Failed to execute removeFBToken with error: "+JSON.stringify(I)),M.next()})}else M.next()})}logout(){return new f.c(M=>{this.http.post(`${t.c.apiUrl}/api/user/logout?token=${this.state.getApiToken()}`,{}).subscribe(()=>{this.state.clear(),t.c.domainMode?window.location.href="/logout":M.next()})})}setBranch(M,m){const g={branch_id:M,chain_id:m,get_login_link:!0};return void 0!==typeof m&&Number(m)>0&&(g.chain_id=Number(m)),new f.c(I=>{this.http.post(t.c.apiUrl+"/api/user/setBranch?token="+this.state.getApiToken(),g).subscribe(x=>{I.next(x)})})}setChain(M){return this.http.post(t.c.apiUrl+"/api/user/setChainAndGetQuickLink?token="+this.state.getApiToken(),{chain_id:M})}getChains(M){return this.http.get(t.c.apiUrl+"/api/user/getAllChains",{})}forgotPassword(M,m){return this.http.post(t.c.apiUrl+"/api/user/forgotPassword",{email:M,currentChainId:m})}deleteAvatar(){return this.http.delete(t.c.apiUrl+"/api/user/avatar?token="+this.state.getApiToken())}updateAvatar(M){return this.http.post(t.c.apiUrl+"/api/user/avatar?token="+this.state.getApiToken(),M)}updatePassword(M,m,g){return this.http.post(t.c.apiUrl+"/api/user/changePassword?token="+this.state.getApiToken(),{old_password:M,new_password:m,confirm_password:g})}getUserCached(M=!1){var m=this;return(0,i.A)(function*(){let g=m.state.getUserData();return(null===g||M)&&(g=yield m.getUser().toPromise(),m.state.setUserData(g)),g})()}getUser(){return this.http.get(t.c.apiUrl+"/api/user?token="+this.state.getApiToken())}getUserMenuCached(M=!1,m=null){var g=this;return(0,i.A)(function*(){let I=g.state.getUserMenu();return(null===I||M)&&(I=yield g.getUserMenu().toPromise(),g.state.setUserMenu(I),m&&m(I.data)),I})()}getUserMenu(){return this.http.get(`${t.c.apiUrl}/api/user/menu?fe=true&counters=false&token=${this.state.getApiToken()}`)}setSign(M){return this.http.post(t.c.apiUrl+"/api/user/setSign?v=3&token="+this.state.getApiToken(),{SignPadV3:{image:M,svg:!1}})}userUpdateEmailAndPhone(M,m){return this.http.post(t.c.apiUrl+"/api/user/updateEmailAndPhone?token="+this.state.getApiToken(),{email:M,phone:m})}userUpdateLocale(M){return this.http.post(t.c.apiUrl+"/api/user/updateLocale?token="+this.state.getApiToken(),{default_locale:M})}switchBranch(M){const m={branchId:M.branch_id,chainId:M.chain_id};return new f.c(g=>{this.http.post(t.c.apiUrl+"/api/switch?token="+this.state.getApiToken(),m).subscribe(()=>{t.c.domainMode?this.http.post("/api/switch",m).subscribe(()=>{g.next()}):g.next()})})}isAuthenticated(){return this.http.get(t.c.apiUrl+"/api/auth?token="+this.state.getApiToken())}getChainCached(M=!1){return new f.c(m=>{const g=this.state.getChain();!g||M?this.getChain().subscribe(I=>{!0===I.status&&(this.state.setChain(I.data),m.next(I.data))}):m.next(g)})}getChain(){return this.http.get(`${t.c.apiUrl}/api/chain?token=${this.state.getApiToken()}`)}setPushId(M,m){return this.http.post(`${t.c.apiUrl}/api/user/setPushId?token=${this.state.getApiToken()}`,{push_id:M,platform:m})}getNextToSign(){const M=t.c.apiUrl+"/api/signDocs/nextToSign?token="+this.state.getApiToken();return this.http.get(M)}getPendingFormsCount(){const M=t.c.apiUrl+"/api/forms/getPendingCount?token="+this.state.getApiToken();return this.http.get(M)}static \u0275fac=function(m){return new(m||k)(O.KVO(n.d),O.KVO(d.O),O.KVO(v.Qq))};static \u0275prov=O.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},3072:(X,R,s)=>{s.d(R,{r:()=>n});var i=s(8559),t=s(3366),f=s(6710),O=s(2083);let n=(()=>{class d{api;router;state;constructor(e,k,T){this.api=e,this.router=k,this.state=T}canActivate(e,k){return null===this.state.getApiToken()||""===this.state.getApiToken()?(this.router.navigate(["/user/login"]).then(),!1):new Promise(T=>{this.state.connected?this.api.isAuthenticated().subscribe(M=>{this.api.getUserCached().then(m=>{M?"/user/index"===k.url||m.sign_picture?T(!0):(this.router.navigate(["/user/index"]),T(!1)):(this.router.navigate(["/user/login"]),T(!1))})},()=>{T(!0)}):T(!0)})}static \u0275fac=function(k){return new(k||d)(i.KVO(t.G),i.KVO(f.Ix),i.KVO(O.d))};static \u0275prov=i.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},7980:(X,R,s)=>{s.d(R,{O:()=>f});var i=s(8559),t=s(316);let f=(()=>{class O{document;platformId;documentIsAccessible;constructor(d,v){this.document=d,this.platformId=v,this.documentIsAccessible=(0,t.UE)(this.platformId)}check(d){return!!this.documentIsAccessible&&(d=encodeURIComponent(d),this.getCookieRegExp(d).test(this.document.cookie))}get(d){if(this.documentIsAccessible&&this.check(d)){d=encodeURIComponent(d);const e=this.getCookieRegExp(d).exec(this.document.cookie);return this.safeDecodeURIComponent(e[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const d={},v=this.document;return v.cookie&&""!==v.cookie&&v.cookie.split(";").forEach(e=>{const[k,T]=e.split("=");d[this.safeDecodeURIComponent(k.replace(/^ /,""))]=this.safeDecodeURIComponent(T)}),d}set(d,v,e,k,T,M,m="Lax"){if(!this.documentIsAccessible)return;let g=encodeURIComponent(d)+"="+encodeURIComponent(v)+";";e&&(g+="number"==typeof e?"expires="+new Date((new Date).getTime()+1e3*e*60*60*24).toUTCString()+";":"expires="+e.toUTCString()+";"),k&&(g+="path="+k+";"),T&&(g+="domain="+T+";"),!1===M&&"None"===m&&(M=!0,console.warn(`[ngx-cookie-service] Cookie ${d} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),M&&(g+="secure;"),g+="sameSite="+m+";",this.document.cookie=g}delete(d,v,e,k,T="Lax"){this.documentIsAccessible&&this.set(d,"",new Date("Thu, 01 Jan 1970 00:00:01 GMT"),v,e,k,T)}deleteAll(d,v,e,k="Lax"){if(!this.documentIsAccessible)return;const T=this.getAll();for(const M in T)T.hasOwnProperty(M)&&this.delete(M,d,v,e,k)}getCookieRegExp(d){const v=d.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+v+"|;\\s*"+v+")=(.*?)(?:;|$)","g")}safeDecodeURIComponent(d){try{return decodeURIComponent(d)}catch{return d}}static \u0275fac=function(v){return new(v||O)(i.KVO(t.qQ),i.KVO(i.Agw))};static \u0275prov=i.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},2796:(X,R,s)=>{s.d(R,{j:()=>n});var i=s(1297);const t="DCC6bop8itJ515CSVJb0rjV0sTPKKzkP";var f=s(8559),O=s(112);let n=(()=>{class d{t;constructor(e){this.t=e}encrypt(e){return i.A.AES.encrypt(JSON.stringify(e),t).toString()}decrypt(e){try{const T=i.A.AES.decrypt(e,t).toString(i.A.enc.Utf8);return JSON.parse(T)}catch{alert(this.t.translate("Invalid data, make sure you scan the correct tag."))}}static \u0275fac=function(k){return new(k||d)(f.KVO(O.JO))};static \u0275prov=f.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},8064:(X,R,s)=>{s.d(R,{u:()=>t});var i=s(8559);let t=(()=>{class f{formDataCache=[];formData=[];goToForm=new i.bkB;constructor(){}push(n){this.formData.push(n)}getIDs(){let n=[];return Array.isArray(this.formData)&&this.formData.length>0&&this.formData.map(d=>{Array.isArray(d)?d.map(v=>{n.push(Number(v.fid))}):"fid"in d&&n.push(d.fid)}),n}pull(){return this.formData.pop()}pullById(n){let d=null;return this.formData.forEach(v=>{Array.isArray(v)?v.forEach(e=>{e.fid===n&&(d=e,this.formData=[])}):v.fid==n&&(d=v,this.formData=[])}),d}hasNFCDataById(n){let d=!1;return Array.isArray(this.formData)&&this.formData.forEach(v=>{Array.isArray(v)?v.forEach(e=>{"fid"in e&&e.fid==n&&"NFC"==e.type&&(d=!0)}):"fid"in v&&v.fid==n&&"NFC"==v.type&&(d=!0)}),d}hasData(){return this.formData.length>0}empty(){this.formData=[]}static \u0275fac=function(d){return new(d||f)};static \u0275prov=i.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},8756:(X,R,s)=>{s.d(R,{g:()=>j});var i=s(8559),t=s(9645),m=(s(8214),s(598),s(6344),s(5642),s(3066)),I=s(1),W=s(112);t.extend(m),t.extend(I);let j=(()=>{class Y{t;map={en:"en_us",he:"he_il",ru:"ru_ru",ro:"ro_ro",fr:"fr_fr",es:"es_es"};languageChanged=new i.bkB;constructor(V){this.t=V}setupLanguageFromSettings(V,Z,et){let rt=localStorage.getItem("user-selected-language");if((null==rt||""===rt)&&(rt=localStorage.getItem("selected-language")),!rt)if(et&&et.default_locale){if(et.default_locale&&et.default_locale.length>=2){const at=et.default_locale.substr(0,2);this.setLanguage(at)}}else if(Z&&Z.default_locale&&Z.default_locale.length>0){const at=Z.default_locale.substr(0,2);this.setLanguage(at)}else if(V&&V.default_locale&&V.default_locale.length>0){const at=V.default_locale.substr(0,2);this.setLanguage(at)}else this.setLanguage("en")}setLanguage(V){window.localStorage.setItem("selected-language",V),this.t.setActiveLang(V),document.body.parentElement.setAttribute("lang",V),document.body.parentElement.setAttribute("dir","he"===V.toLowerCase()?"rtl":"ltr"),t.locale(V),this.languageChanged.emit(V)}getLanguage(){return this.t.getActiveLang()}getLocaleFromLanguage(V){return this.map[V]}static \u0275fac=function(Z){return new(Z||Y)(i.KVO(W.JO))};static \u0275prov=i.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},7749:(X,R,s)=>{s.d(R,{Z:()=>t});var i=s(8559);let t=(()=>{class f{onDisplayLoaderChange=new i.bkB;onLineLoaderChange=new i.bkB;constructor(){}showLoader(){this.onDisplayLoaderChange.emit(!0)}hideLoader(){this.onDisplayLoaderChange.emit(!1)}start(){this.onLineLoaderChange.emit(!0)}stop(){this.onLineLoaderChange.emit(!1)}static \u0275fac=function(d){return new(d||f)};static \u0275prov=i.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},5606:(X,R,s)=>{s.d(R,{T:()=>k});var i=s(9204),t=s(5312),f=s(2132),O=s(8559),n=s(3366),d=s(2083),v=s(112),e=s(6710);let k=(()=>{class T{api;state;t;router;constructor(m,g,I,x){this.api=m,this.state=g,this.t=I,this.router=x}init(){t.c.isApp&&(f.h.addListener("registration",m=>{localStorage.setItem("ng-foh-app-firebase-token",m.value),this.api.setPushId(m.value,"Fbase/MNG").subscribe(()=>{})}),f.h.addListener("pushNotificationReceived",()=>{confirm(this.t.translate("You have a new message. Click OK to open"))&&(this.state.updateNotificationsCounter.emit(),this.state.updateNotificationsList.emit(),this.router.navigateByUrl("/notification").then(()=>{document.getElementsByTagName("body")[0].className=""}))}),f.h.addListener("pushNotificationActionPerformed",()=>{confirm(this.t.translate("You have a new message. Click OK to open"))&&(this.state.updateNotificationsCounter.emit(),this.state.updateNotificationsList.emit(),this.router.navigateByUrl("/notification").then(()=>{document.getElementsByTagName("body")[0].className=""}))}))}register(){return(0,i.A)(function*(){if(t.c.isApp){let m=yield f.h.checkPermissions();if("prompt"===m.receive&&(m=yield f.h.requestPermissions()),"granted"!==m.receive)throw new Error("User denied permissions!");yield f.h.register()}})()}static \u0275fac=function(g){return new(g||T)(O.KVO(n.G),O.KVO(d.d),O.KVO(v.JO),O.KVO(e.Ix))};static \u0275prov=O.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},9305:(X,R,s)=>{s.d(R,{t:()=>k});var i=s(9204),t=s(8559),f=s(5312),O=s(3106),n=s(316),d=s(8064),v=s(2796),e=s(112);let k=(()=>{class T{ngZone;location;form;crypto;t;started=new t.bkB;completed=new t.bkB;cancelled=new t.bkB;flash=new t.bkB;swap=new t.bkB;statePushed=!1;appMain;constructor(m,g,I,x,W){this.ngZone=m,this.location=g,this.form=I,this.crypto=x,this.t=W,this.location.onPopState(()=>{this.ngZone.run(()=>{this.statePushed&&(this.statePushed=!1,this.cancelled.emit())})}),this.completed.subscribe(j=>{this.ngZone.run(()=>{if(Array.isArray(j)){const Y=j.map(q=>(q.type="QR",q));this.form.push(Y)}else j.type="QR",this.form.push(j);this.destroy().then(()=>console.log("QR Scan Closed"))})}),this.cancelled.subscribe(()=>{this.ngZone.run(()=>{this.destroy().then(()=>console.log("QR Scan Closed"))})})}destroy(){var m=this;return(0,i.A)(function*(){yield O.vi.showBackground(),yield O.vi.stopScan(),m.hide()})()}startScan(){var m=this;return(0,i.A)(function*(){m.appMain=document.getElementsByTagName("app-main")[0],m.appMain&&(O.vi.checkPermission({force:!0}).then(g=>{g.granted?O.vi.hideBackground().then(()=>{m.started.emit(),m.ngZone.run(()=>{m.show()}),O.vi.startScan().then(I=>{if(I.hasContent){const x=m.crypto.decrypt(I.content);"object"==typeof x?m.completed.emit(x):m.cancelled.emit()}else alert("QR Has no content")}).catch(()=>alert("QR Scan execution failure"))}):alert(m.t.translate("Access to the camera has been prohibited; please enable it in the Settings app to continue"))}).catch(()=>{alert(m.t.translate("Access to the camera has been prohibited; please enable it in the Settings app to continue"))}),f.c.isLocalhost&&!f.c.isApp&&(m.started.emit(),m.show()))})()}show(){this.statePushed=!0,this.location.pushState("QRSCAN","QRSCAN","QRSCAN"),this.appMain.style.display="none",document.body.style.backgroundColor="transparent",document.documentElement.style.backgroundColor="transparent"}hide(){this.appMain.style.display="",document.body.style.backgroundColor="var(--foh-body-bg-color)",document.documentElement.style.backgroundColor="var(--foh-body-bg-color)"}static \u0275fac=function(g){return new(g||T)(t.KVO(t.SKi),t.KVO(n.Vw),t.KVO(d.u),t.KVO(v.j),t.KVO(e.JO))};static \u0275prov=t.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},963:(X,R,s)=>{s.d(R,{d:()=>t});var i=s(8559);let t=(()=>{class f{constructor(){}onChangeStatus=new i.bkB;onChangeHeaderVisibility=new i.bkB;static \u0275fac=function(d){return new(d||f)};static \u0275prov=i.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2083:(X,R,s)=>{s.d(R,{d:()=>n});var i=s(8559),t=s(5312),f=s(3653),O=s(3712);let n=(()=>{class d{LASTLOADEDSUBMITTEDFORMS="lastLoadedSubmittedForms";branchChanged=new i.bkB;countersChanged=new i.bkB;updateUser=new i.bkB;updateTimeZone=new i.bkB;updateAvatar=new i.bkB;updateNotificationsCounter=new i.bkB;updateNotificationsList=new i.bkB;networkStateChanged=new i.bkB;notificationsCount=0;connected=!0;platform="";version=f.r+"."+O.q;previousUrl="";currentUser=null;constructor(){}getApiToken(){return localStorage.getItem("apiToken")}setApiToken(e){localStorage.setItem("apiToken",e)}getTimeZone(){return localStorage.getItem("timeZone")}setTimeZone(e){localStorage.setItem("timeZone",e)}getTimeZoneId(){return localStorage.getItem("timeZoneId")}setTimeZoneId(e){localStorage.setItem("timeZoneId",e)}getScheduleSettings(){const e=localStorage.getItem("scheduleSettings");return JSON.parse(e)}setScheduleSettings(e){localStorage.setItem("scheduleSettings",JSON.stringify(e))}getScheduleAvailabilityTab(){const e=localStorage.getItem("scheduleAvailabilityTab");return parseInt(e,10)}setScheduleAvailabilityTab(e){localStorage.setItem("scheduleAvailabilityTab",e)}getUserMenu(){const e=localStorage.getItem("userMenu");return JSON.parse(e)}setUserMenu(e){localStorage.setItem("userMenu",JSON.stringify(e))}delUserMenu(){localStorage.removeItem("userMenu")}getUserData(){const e=localStorage.getItem("userData");return JSON.parse(e)}setUserData(e){localStorage.setItem("userData",JSON.stringify(e)),this.setCurrentBranch()}setCurrentBranch(){this.currentUser=localStorage.getItem("userData"),this.currentUser=typeof this.currentUser<"u"&&this.currentUser?JSON.parse(this.currentUser):void 0,typeof this.currentUser<"u"&&this.currentUser&&typeof this.currentUser.branches<"u"&&this.currentUser.branches&&this.currentUser.branches.length>0&&this.currentUser.branches.forEach(e=>{Number(e.branch_id)===Number(this.currentUser.current_branch_id)&&localStorage.setItem("currentBranch",JSON.stringify(e))})}delUserData(){localStorage.removeItem("userData")}getChain(){const e=localStorage.getItem("chain");return JSON.parse(e)}setChain(e){localStorage.setItem("chain",JSON.stringify(e)),localStorage.setItem("chainLogo",e.logo)}setCss(e){if(!t.c.domainMode){const k=t.c.staticUrl+e+"?"+(new Date).getTime();localStorage.setItem("chainCSS",k),this.applyCss()}}applyCss(){if(!t.c.domainMode){const e=localStorage.getItem("chainCSS");if("string"==typeof e&&e.length>0){const k=document.createElement("link");k.rel="stylesheet",k.href=e,document.head.append(k)}}}setLastLoadedSubmittedForms(e){localStorage.setItem(this.LASTLOADEDSUBMITTEDFORMS,JSON.stringify(e))}getLastLoadedSubmittedForms(){return localStorage.getItem(this.LASTLOADEDSUBMITTEDFORMS)}delLastLoadedSubmittedForms(){return localStorage.removeItem(this.LASTLOADEDSUBMITTEDFORMS)}clear(){localStorage.removeItem("apiToken"),localStorage.removeItem("timeZone"),localStorage.removeItem("timeZoneId"),localStorage.removeItem("scheduleSettings"),localStorage.removeItem("scheduleAvailabilityTab"),localStorage.removeItem("userMenu"),localStorage.removeItem("userData"),localStorage.removeItem("chain"),localStorage.removeItem("branches"),localStorage.removeItem("currentBranch"),localStorage.removeItem(this.LASTLOADEDSUBMITTEDFORMS)}static \u0275fac=function(k){return new(k||d)};static \u0275prov=i.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},3712:(X,R,s)=>{s.d(R,{q:()=>i});const i=88},5312:(X,R,s)=>{s.d(R,{c:()=>i});const i={isApp:!1,deployUrl:"https://d1mcyggarp14he.cloudfront.net/ng-foh-assets-v3.2",isLocalhost:!1,production:!0,domainMode:!0,apiUrl:"https://api.betterchains.com",staticUrl:"https://d1mcyggarp14he.cloudfront.net",websocket:"ws://ws.betterchains.com/ws",PDFjsExpressUrl:"/ng-foh-assets-v3.2/assets/pdfjs-express",PDFjsExpressKey:"PUg7I8mmtXZonIvSURWL"}},3653:(X,R,s)=>{s.d(R,{r:()=>i});const i="3.3.44"},1095:(X,R,s)=>{var i=s(436),t=s(8559),f=s(6710),O=s(9204),n=s(5312),d=s(3366),v=s(2083),e=s(8756),k=s(963),T=s(680),M=s(6443),m=s(112),g=s(316);const I=["searchInputRef"],x=r=>({"full-width":r}),W=r=>({width:r}),j=r=>({display:r});function Y(r,F){1&r&&(t.j41(0,"div",12)(1,"button"),t.nrm(2,"i",13),t.k0s()())}function q(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const c=t.XpG(2);return t.Njj(c.openMenu())}),t.nrm(1,"i",15),t.k0s()}}function V(r,F){if(1&r&&(t.qex(0),t.DNE(1,q,2,0,"button",5),t.bVm()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",o.showBurger&&!o.showBack&&!o.showClose&&!o.backLink&&!o.closeLink)}}function Z(r,F){1&r&&t.nrm(0,"i",18)}function et(r,F){1&r&&t.nrm(0,"i",19)}function rt(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.clickBack())}),t.DNE(1,Z,1,0,"i",16)(2,et,1,0,"i",17),t.k0s()}if(2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.isRtl),t.R7$(),t.Y8G("ngIf",o.isRtl)}}function at(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.clickClose())}),t.nrm(1,"i",20),t.k0s()}}function vt(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const c=t.XpG(2);return t.Njj(c.openMenu())}),t.nrm(1,"i",21),t.k0s()}}function Pt(r,F){if(1&r&&(t.qex(0),t.DNE(1,vt,2,0,"button",5),t.bVm()),2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.showBurger)}}function ut(r,F){1&r&&t.nrm(0,"i",23)}function $(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(c){t.eBV(o);const y=t.XpG();return t.Njj(y.showSearchInput(c))}),t.DNE(1,ut,1,0,"i",22),t.k0s()}if(2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.showSearchTextbox)}}function _(r,F){if(1&r&&(t.j41(0,"span")(1,"bdo",24),t.EFF(2),t.k0s()()),2&r){const o=t.XpG();t.R7$(2),t.JRh(o.notificationsCount<100?o.notificationsCount:"99+")}}function u(r,F){1&r&&(t.j41(0,"button"),t.nrm(1,"i",25),t.k0s())}function E(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.closeSearch())}),t.nrm(1,"i",26),t.k0s()}}let w=(()=>{class r{ls;lang;router;cd;ngZone;location;isRtl="rtl"===document.body.parentElement.getAttribute("dir");title="";searchText="";showSearchTextbox=!1;showSearchFilters=!1;showBurger=!0;showSearch=!1;searchPlaceholder="";showBack=!1;backLink="";showClose=!1;closeLink="";notificationsCount=0;deployUrl=n.c.deployUrl;loading=!1;dontShowMenuAtAll=!1;fullWidth=!1;rightWidth="41px";leftWidth="41px";isMobile=!1;NOTIFICATION_BUTTON_ID="foh-header-notifications-button";TEXT_INPUT_ID="foh-headerv3-search-textbox";searchInputRef;subs=[];constructor(o,a,c,y,G,N){this.ls=o,this.lang=a,this.router=c,this.cd=y,this.ngZone=G,this.location=N,this.subs.push(this.ls.searchLoading.subscribe(D=>{this.loading=D,this.cd.detectChanges()})),this.subs.push(this.lang.languageChanged.subscribe(()=>{this.isRtl="rtl"===document.body.parentElement.getAttribute("dir"),this.cd.detectChanges()})),this.subs.push(this.ls.pagetitle.subscribe(D=>{this.title=D,document.title="Better Chains - "+D,this.cd.detectChanges()})),this.subs.push(this.ls.showSearch.subscribe(D=>{this.setShowSearch(D),!1===D&&(this.setShowSearchTextBox(!1),this.searchInputRef.nativeElement.value="",this.searchInputRef.nativeElement.blur()),this.rightWidth=D?"82px":"41px",this.cd.detectChanges()})),this.subs.push(this.ls.searchPlaceholder.subscribe(D=>{this.searchPlaceholder=D})),this.subs.push(this.ls.showSearchFilters.subscribe(D=>{this.showSearchFilters=D})),this.subs.push(this.ls.closeSearch.subscribe(()=>{this.closeSearch()})),this.subs.push(this.ls.showBurger.subscribe(D=>{this.showBurger=D,D&&(this.showBack=!1,this.showClose=!1,this.backLink="",this.closeLink=""),this.resizeLeftWidth(),this.cd.detectChanges()})),this.subs.push(this.ls.showBack.subscribe(D=>{this.showBack=D,D&&(this.showBurger=!1,this.showClose=!1,this.closeLink=""),this.resizeLeftWidth(),this.cd.detectChanges()})),this.subs.push(this.ls.showClose.subscribe(D=>{this.showClose=D,D&&(this.showBack=!1,this.showBurger=!1,this.backLink=""),this.resizeLeftWidth(),this.cd.detectChanges()})),this.subs.push(this.ls.backLink.subscribe(D=>{this.backLink=D,""!==D.trim()&&(this.showBurger=!1,this.showClose=!1,this.closeLink=""),this.resizeLeftWidth(),this.cd.detectChanges()})),this.subs.push(this.ls.closeLink.subscribe(D=>{this.closeLink=D,""!==D.trim()&&(this.showBurger=!1,this.showBack=!1,this.backLink=""),this.resizeLeftWidth(),this.cd.detectChanges()})),this.subs.push(this.ls.notificationsCount.subscribe(D=>{this.notificationsCount=D,this.cd.detectChanges()})),this.subs.push(this.ls.notificationsCount.subscribe(D=>{this.notificationsCount=D,this.cd.detectChanges()})),this.subs.push(this.ls.dontShowMenuAtAll.subscribe(D=>{this.dontShowMenuAtAll=D,this.cd.detectChanges()})),this.fullWidth=this.ls.headerFullWidth,this.subs.push(this.ls.fullWidth.subscribe(D=>{this.fullWidth=D,this.cd.detectChanges()}))}ngOnInit(){this.subscribeOnSelectedSearchItem()}subscribeOnSelectedSearchItem(){console.log("subscribeOnSelectedSearchItem"),this.subs.push(this.ls.selectedItem.subscribe(o=>{console.log("Selected val",o),this.setSearchText(o),this.setInputValue(o),this.cd.detectChanges()}))}resizeLeftWidth(){this.leftWidth=this.showBurger?"41px":"82px"}openMenu(){this.ls.menustate.emit(!0),this.cd.detectChanges()}clickBack(){""===this.backLink.trim()?(this.cd.detectChanges(),this.location.back()):(this.cd.detectChanges(),this.router.navigateByUrl(this.backLink).then(o=>o))}clickClose(){""===this.closeLink.trim()?(this.cd.detectChanges(),this.location.getState()||this.location.back(),this.location.back()):(this.cd.detectChanges(),this.router.navigateByUrl(this.closeLink).then(o=>o))}searchKeyUp(o){const a=o.target;27===o.keyCode&&this.clearSearchText(),this.setSearchText(a.value),this.ls.searchTextChange.emit({text:this.searchText,key:o.keyCode})}setSearchText(o){this.searchText=o}setInputValue(o){let a=document.getElementById(this.TEXT_INPUT_ID);a&&(a.value=o)}showSearchInput(o){o.preventDefault(),this.setShowSearchTextBox(!0),this.emitSearchOpen(),this.setSearchStyles(),setTimeout(()=>this.ngZone.run(()=>this.searchInputRef.nativeElement.focus()),0)}emitSearchOpen(){this.ls.searchOpened.emit()}clearSearchText(){this.setSearchText(""),this.searchInputRef.nativeElement.value="",this.ls.searchTextChange.emit({text:"",key:0}),this.searchInputRef.nativeElement.focus(),this.cd.detectChanges()}setShowSearchTextBox(o){this.showSearchTextbox=o,this.emitShowSearchStatusChanging()}setShowSearch(o){this.showSearch=o,this.emitShowSearchStatusChanging()}emitShowSearchStatusChanging(){this.ls.showSearchStatusChanging.emit(this.showSearch&&this.showSearchTextbox)}closeSearch(){this.searchInputRef.nativeElement.value="",this.setSearchText(""),this.setShowSearchTextBox(!1),this.ls.searchTextChange.emit({text:"",key:0}),this.ls.searchClosed.emit(),this.resetSearchStyles(),this.cd.detectChanges()}setHeaderStyles(o){let a=document.getElementsByTagName("foh-header")[0];if(a)switch(a.style.display=o,o){case"flex":break;case"grid":a.style.gridTemplateColumns="100%"}}resetSearchStyles(){this.setHeaderStyles("flex")}setSearchStyles(){this.setHeaderStyles("grid")}ngOnDestroy(){this.resetSearchStyles(),this.subs.forEach(o=>{o.unsubscribe()})}static \u0275fac=function(a){return new(a||r)(t.rXU(T.Y),t.rXU(e.g),t.rXU(f.Ix),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(g.aZ))};static \u0275cmp=t.VBU({type:r,selectors:[["foh-header"]],viewQuery:function(a,c){if(1&a&&t.GBs(I,7),2&a){let y;t.mGM(y=t.lsd())&&(c.searchInputRef=y.first)}},decls:21,vars:27,consts:[["searchInputRef",""],[3,"ngClass"],["style","width: 41px",4,"ngIf"],[3,"ngStyle"],[4,"ngIf"],[3,"click",4,"ngIf"],[1,"title-container"],["id","foh-header-notifications-button","routerLink","/notification"],[1,"fa-light","fa-bell"],[1,"search-wrapper",3,"ngStyle"],[1,"searchbox",3,"ngStyle"],["type","text","tabindex","0","autocomplete","off","id","foh-headerv3-search-textbox",3,"keyup","maxLength","placeholder"],[2,"width","41px"],[1,"fa-light","fa-filter-list"],[3,"click"],[1,"fa-light","fa-bars"],["class","fa-light fa-arrow-left",4,"ngIf"],["class","fa-light fa-arrow-right",4,"ngIf"],[1,"fa-light","fa-arrow-left"],[1,"fa-light","fa-arrow-right"],[1,"fa-light","fa-xmark"],[1,"fa-light","fa-ellipsis-vertical"],["class","fa-light fa-magnifying-glass",4,"ngIf"],[1,"fa-light","fa-magnifying-glass"],["dir","ltr"],[1,"fa-light","fa-sync","fa-spin"],[1,"fa-light","fa-circle-xmark"]],template:function(a,c){if(1&a){const y=t.RV6();t.j41(0,"section",1),t.DNE(1,Y,3,0,"div",2),t.j41(2,"div",3),t.DNE(3,V,2,1,"ng-container",4)(4,rt,3,2,"button",5)(5,at,2,0,"button",5)(6,Pt,2,1,"ng-container",4),t.k0s(),t.j41(7,"span",6),t.EFF(8),t.k0s(),t.j41(9,"div",3),t.DNE(10,$,2,1,"button",5),t.j41(11,"button",7),t.nrm(12,"i",8),t.DNE(13,_,3,1,"span",4),t.k0s()()(),t.j41(14,"section",9)(15,"div",10)(16,"input",11,0),t.bIt("keyup",function(N){return t.eBV(y),t.Njj(c.searchKeyUp(N))}),t.k0s(),t.DNE(18,u,2,0,"button",4),t.k0s(),t.j41(19,"div",12),t.DNE(20,E,2,0,"button",5),t.k0s()()}2&a&&(t.Y8G("ngClass",t.eq3(17,x,c.fullWidth)),t.R7$(),t.Y8G("ngIf",c.showSearch&&c.showSearchTextbox&&c.showSearchFilters),t.R7$(),t.Y8G("ngStyle",t.eq3(19,W,c.leftWidth)),t.R7$(),t.Y8G("ngIf",!c.dontShowMenuAtAll),t.R7$(),t.Y8G("ngIf",c.showBack||c.backLink),t.R7$(),t.Y8G("ngIf",c.showClose||c.closeLink),t.R7$(),t.Y8G("ngIf",!c.dontShowMenuAtAll),t.R7$(2),t.JRh(c.title),t.R7$(),t.Y8G("ngStyle",t.eq3(21,W,c.rightWidth)),t.R7$(),t.Y8G("ngIf",c.showSearch),t.R7$(3),t.Y8G("ngIf",c.notificationsCount>0),t.R7$(),t.Y8G("ngStyle",t.eq3(23,j,c.showSearchTextbox&&c.showSearch?"flex":"none")),t.R7$(),t.Y8G("ngStyle",t.eq3(25,j,c.showSearchTextbox&&c.showSearch?"flex":"none")),t.R7$(),t.Y8G("maxLength",128)("placeholder",c.searchPlaceholder),t.R7$(2),t.Y8G("ngIf",c.searchText.length>0&&c.loading),t.R7$(2),t.Y8G("ngIf",c.showSearch))},dependencies:[g.YU,g.bT,g.B3,f.Wk],styles:["[_nghost-%COMP%]{position:fixed;top:env(safe-area-inset-top,0);right:0;left:0;z-index:50;background-color:var(--foh-header-bg-color);color:var(--foh-header-color);display:flex;height:41px;justify-content:center;font-size:18px}[_nghost-%COMP%]   .search-wrapper[_ngcontent-%COMP%]{background-color:var(--foh-header-bg-color)}[_nghost-%COMP%] > section[_ngcontent-%COMP%]{justify-self:center;display:flex;position:relative;height:41px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:41px;flex-shrink:0}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent;width:41px;padding:0;margin:0;font-size:24px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{line-height:41px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button#foh-header-notifications-button[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button#foh-header-notifications-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;top:1px;left:auto;right:1px;width:20px;height:20px;border-radius:10px;color:#fff;font-size:10px;border:none;display:flex;align-items:center;justify-content:center;background-color:var(--foh-color-main)}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{line-height:41px;flex-grow:1;text-align:center;font-weight:400;overflow:hidden}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div.searchbox[_ngcontent-%COMP%]{position:relative;flex-grow:1;padding:4px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div.searchbox[_ngcontent-%COMP%] > input[type=text][_ngcontent-%COMP%]{line-height:41px;font-weight:400;flex-grow:1;width:inherit;border:none;outline:none;border-radius:10px;background-color:#eee;padding:0 8px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div.searchbox[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;right:0;top:0;left:auto}[_nghost-%COMP%] > section[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media screen and (max-width: 959px){[_nghost-%COMP%] > section[_ngcontent-%COMP%]{width:100%;justify-self:center;display:flex}}@media screen and (min-width: 960px){[_nghost-%COMP%] > section[_ngcontent-%COMP%]{width:960px}}[_nghost-%COMP%] > section.full-width[_ngcontent-%COMP%]{width:100%}html[dir=rtl]   [_nghost-%COMP%] > section[_ngcontent-%COMP%] > div.searchbox[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{right:auto;left:0}html[dir=rtl]   [_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button#foh-header-notifications-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{left:1px;right:auto}"],changeDetection:0})}return r})();var L=s(3653),z=s(3712),st=s(6515),nt=s(7749),Q=s(3973),it=s(7980);let lt=(()=>{class r{state;cookie;http;constructor(o,a,c){this.state=o,this.cookie=a,this.http=c}checkAccess(o,a){return this.http.post(n.c.apiUrl+"/api/acl/checkAccess?user_id="+o+"&action="+a+"&token="+this.state.getApiToken(),{user_id:o,action:a})}getUrl(o){return this.http.post(n.c.apiUrl+"/api/user/getLoginByCodeLink?token="+this.state.getApiToken(),{url:o})}static \u0275fac=function(a){return new(a||r)(t.KVO(v.d),t.KVO(it.O),t.KVO(M.Qq))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const ct=r=>({display:r});function gt(r,F){if(1&r&&t.nrm(0,"img",14),2&r){const o=t.XpG();t.Y8G("src",o.branch.logo?o.branch.logo:o.chain.logo,t.B4B)}}function pt(r,F){1&r&&(t.j41(0,"option",19),t.EFF(1),t.nI1(2,"transloco"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"All Branches")," "))}function ht(r,F){if(1&r&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&r){const o=F.$implicit,a=t.XpG(2);t.Y8G("value",o.branch_id)("selected",a.user.current_branch_id==o.branch_id),t.R7$(),t.JRh(o.name)}}function dt(r,F){if(1&r){const o=t.RV6();t.j41(0,"div",15)(1,"select",16),t.bIt("change",function(c){t.eBV(o);const y=t.XpG();return t.Njj(y.changeBranch(c))}),t.DNE(2,pt,3,3,"option",17)(3,ht,2,3,"option",18),t.k0s()()}if(2&r){const o=t.XpG();t.R7$(2),t.Y8G("ngIf",o.user.canSwitchToChainLevel),t.R7$(),t.Y8G("ngForOf",o.user.branches)}}function Mt(r,F){if(1&r&&(t.j41(0,"div",21),t.nrm(1,"img",22),t.nI1(2,"transloco"),t.j41(3,"span"),t.EFF(4),t.k0s()()),2&r){const o=t.XpG();t.R7$(),t.Y8G("alt",t.bMT(2,4,"Profile Picture"))("ngSrc",o.avatarUrl),t.R7$(3),t.Lme("",o.user.first_name," ",o.user.last_name,"")}}function jt(r,F){if(1&r&&(t.j41(0,"li")(1,"a",7)(2,"span"),t.EFF(3),t.nI1(4,"transloco"),t.k0s()()()),2&r){const o=F.$implicit;t.R7$(),t.Y8G("routerLink",o.route),t.R7$(2),t.JRh(t.bMT(4,2,o.label))}}function At(r,F){1&r&&(t.j41(0,"li"),t.nrm(1,"hr"),t.k0s())}function Bt(r,F){if(1&r){const o=t.RV6();t.j41(0,"li")(1,"span",23),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.getLoginAdminUrl(c.user.backendUrl))}),t.EFF(2),t.nI1(3,"transloco"),t.k0s()()}2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"Admin Panel")))}function Gt(r,F){if(1&r&&(t.j41(0,"span",24)(1,"strong"),t.EFF(2),t.k0s()()),2&r){const o=t.XpG();t.R7$(2),t.SpI("[ ",o.testEnv," ]")}}let Nt=(()=>{class r{location;apiService;loader;snackbar;router;api;state;t;ls;pagesApi;menu=[];chain;branch;user;avatarUrl="";showBackendMenu=!1;isApp=!1;show=!1;backendUrl="";subs=[];version="";isTestDomain=!1;testEnv="";isProd=n.c.production;constructor(o,a,c,y,G,N,D,_t,Lt,Ct){this.location=o,this.apiService=a,this.loader=c,this.snackbar=y,this.router=G,this.api=N,this.state=D,this.t=_t,this.ls=Lt,this.pagesApi=Ct,this.version=L.r,n.c.production||(this.version+="."+z.q),this.isApp=n.c.isApp,this.subs.push(this.ls.menustate.subscribe(J=>{J&&history.pushState(null,"foh-menu-opened"),this.show=J})),this.showBackendMenu=!0,this.showBackendMenu&&this.subs.push(this.api.getChainCached().subscribe(J=>{this.backendUrl=n.c.apiUrl.replace("api.",J.subdomain+".")}))}getLoginAdminUrl(o){this.subs.push(this.pagesApi.getUrl(o).subscribe(a=>{console.log("data1",a),this.openBackend(a.data)},a=>{}))}ngOnInit(){this.location.onPopState(()=>this.show=!1);const o=localStorage.getItem("test-env");o&&(this.testEnv=o,this.isTestDomain=!0)}logout(){return this.loader.showLoader(),n.c.isApp?this.subs.push(this.api.removeFbToken().subscribe(()=>{this.doLogout()})):this.doLogout(),!1}doLogout(){this.subs.push(this.apiService.logout().subscribe(()=>{this.router.navigateByUrl("/user/login").then(()=>{this.loader.hideLoader()})}))}changeBranch(o){let c=null;if(""!==o.target.value){const y=Number(o.target.value);this.user.branches.forEach(G=>{Number(G.branch_id)===y&&(c=G)})}else c={branch_id:0,chain_id:this.user.chain_id};return localStorage.setItem("currentBranch",JSON.stringify(c)),this.loader.showLoader(),this.subs.push(this.api.switchBranch(c).subscribe(()=>{this.loader.hideLoader(),this.user.current_branch_id=c.branch_id,this.snackbar.clear(),this.snackbar.add({msg:this.t.translate("Branch has been switched"),action:{text:this.t.translate("Ok")}}),this.api.getUserCached(!0).then(()=>{this.state.delUserMenu(),this.state.branchChanged.emit(),this.ls.menustate.emit(!1)})})),!1}goHome(){this.ls.menustate.emit(!1),this.router.navigateByUrl("/dashboard").then(o=>o)}openBackend(o){const a=new URL(o);this.user&&a.searchParams.set("branchId",this.user.current_branch_id.toString()),st.P.open({url:a.toString()}).then(()=>console.log("Browser opened with url: "+this.backendUrl+o))}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}static \u0275fac=function(a){return new(a||r)(t.rXU(g.Vw),t.rXU(d.G),t.rXU(nt.Z),t.rXU(Q.z),t.rXU(f.Ix),t.rXU(d.G),t.rXU(v.d),t.rXU(m.JO),t.rXU(T.Y),t.rXU(lt))};static \u0275cmp=t.VBU({type:r,selectors:[["foh-menu"]],inputs:{menu:"menu",chain:"chain",branch:"branch",user:"user",avatarUrl:"avatarUrl"},decls:26,vars:23,consts:[[1,"backdrop",3,"click"],[1,"menu"],["routerLink","/dashboard",1,"logoblock"],["alt","Home",3,"src",4,"ngIf"],["class","branchpicker",4,"ngIf"],["class","userblock","routerLink","/user/profile",4,"ngIf"],[1,"menublock"],[3,"routerLink"],[4,"ngFor","ngForOf"],[4,"ngIf"],["href","#",3,"click"],[1,"text"],[1,"versionblock"],["style","color:red",4,"ngIf"],["alt","Home",3,"src"],[1,"branchpicker"],[3,"change"],["value","",4,"ngIf"],[3,"value","selected",4,"ngFor","ngForOf"],["value",""],[3,"value","selected"],["routerLink","/user/profile",1,"userblock"],["width","50","height","50",3,"alt","ngSrc"],[1,"text",2,"cursor","pointer",3,"click"],[2,"color","red"]],template:function(a,c){1&a&&(t.j41(0,"div",0),t.bIt("click",function(){return c.ls.menustate.emit(!1)}),t.k0s(),t.j41(1,"div",1)(2,"div",2),t.DNE(3,gt,1,1,"img",3),t.k0s(),t.DNE(4,dt,4,2,"div",4)(5,Mt,5,6,"div",5),t.j41(6,"div",6)(7,"ul")(8,"li")(9,"a",7)(10,"span"),t.EFF(11),t.nI1(12,"transloco"),t.k0s()()(),t.DNE(13,jt,5,4,"li",8)(14,At,2,0,"li",9)(15,Bt,4,3,"li",9),t.j41(16,"li"),t.nrm(17,"hr"),t.k0s(),t.j41(18,"li")(19,"a",10),t.bIt("click",function(){return c.logout()}),t.j41(20,"span",11),t.EFF(21),t.nI1(22,"transloco"),t.k0s()()()()(),t.j41(23,"div",12),t.EFF(24),t.DNE(25,Gt,3,1,"span",13),t.k0s()()),2&a&&(t.Aen(t.eq3(19,ct,c.show?"block":"none")),t.R7$(),t.Aen(t.eq3(21,ct,c.show?"flex":"none")),t.R7$(2),t.Y8G("ngIf",c.chain&&c.branch&&(c.branch.logo||c.chain.logo)),t.R7$(),t.Y8G("ngIf",c.user&&(c.user.branches&&c.user.branches.length>1||c.user.canSwitchToChainLevel)),t.R7$(),t.Y8G("ngIf",c.user),t.R7$(4),t.Y8G("routerLink","/dashboard"),t.R7$(2),t.JRh(t.bMT(12,15,"Home")),t.R7$(2),t.Y8G("ngForOf",c.menu),t.R7$(),t.Y8G("ngIf",c.showBackendMenu&&c.user&&c.user.backendUrl),t.R7$(),t.Y8G("ngIf",c.showBackendMenu&&c.user&&c.user.backendUrl),t.R7$(6),t.JRh(t.bMT(22,17,"Log Out")),t.R7$(3),t.SpI(" v",c.version," "),t.R7$(),t.Y8G("ngIf",c.isTestDomain))},dependencies:[g.Sq,g.bT,f.Wk,g.kt,m.Kj],styles:["[_nghost-%COMP%]{z-index:100;font-weight:500;font-size:18px}[_nghost-%COMP%] > div.backdrop[_ngcontent-%COMP%]{opacity:.5;background-color:#000;position:fixed;inset:0;z-index:101}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%]{position:fixed;bottom:0;top:0;width:250px;background-color:#fff;opacity:1;z-index:102;box-shadow:0 18px 14px #00000080;display:flex;flex-direction:column}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.logoblock[_ngcontent-%COMP%]{background:var(--side-menu-bg) center center;height:125px;display:flex;justify-content:center;align-items:center;cursor:pointer;background-size:cover}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.logoblock[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-height:70px}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.branchpicker[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{outline:none;border:none;width:100%;line-height:48px;height:48px;cursor:pointer}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.branchpicker[_ngcontent-%COMP%] > select[_ngcontent-%COMP%] > option[_ngcontent-%COMP%]{outline:none}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.userblock[_ngcontent-%COMP%]{cursor:pointer;background-color:var(--foh-color-main);height:76px;display:flex;align-items:center;justify-content:space-between;padding:0 13px;color:#fff}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.userblock[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:25px;width:50px;height:50px}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%]   .home-button[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style:none;padding:13px}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{line-height:40px}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#292929;background-color:transparent}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#f8f8f8}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.menublock[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li.divider[_ngcontent-%COMP%]{border-top:black}[_nghost-%COMP%] > div.menu[_ngcontent-%COMP%] > div.versionblock[_ngcontent-%COMP%]{padding:0 13px;font-size:10px;font-weight:400}"]})}return r})();function $t(r,F){1&r&&(t.qex(0),t.nrm(1,"foh-header"),t.bVm())}let It=(()=>{class r{apiService;state;router;route;language;shared;layout;http;ngZone;t;mobileMenuOpened=!1;avatarUrl="";menu=[];user;flashes=[];chain;branch;isRtl=!1;containerClass="container";containerBGColor="white-bg-color";showBackendMenu=!1;hiddenMainMenuByParam=!1;subs=[];menuHidden=!1;constructor(o,a,c,y,G,N,D,_t,Lt,Ct){this.apiService=o,this.state=a,this.router=c,this.route=y,this.language=G,this.shared=N,this.layout=D,this.http=_t,this.ngZone=Lt,this.t=Ct,this.showBackendMenu=n.c.domainMode,this.subs.push(this.state.updateAvatar.subscribe(J=>{this.avatarUrl=J+"?"+(new Date).getUTCSeconds()})),this.subs.push(this.state.branchChanged.subscribe(()=>{this.load(!0,!0)})),this.subs.push(this.state.countersChanged.subscribe(()=>{this.load(!1,!0)})),this.subs.push(this.state.updateUser.subscribe(()=>{this.load(!0,!1)})),this.subscription(),this.subscription2(),this.load(!0,!0),this.changeMenuDisplayingByParam(),setTimeout(()=>this.ngZone.run(()=>this.state.updateNotificationsCounter.emit()),10),this.subs.push(this.state.updateNotificationsCounter.subscribe(()=>{const J=this.state.getApiToken();this.state.connected&&null!==J&&this.http.get(n.c.apiUrl+"/api/communication/notViewedCount?token="+J).subscribe(bt=>{this.layout.notificationsCount.emit(Number(bt.data)),this.state.notificationsCount=Number(bt.data)})}))}changeMenuDisplayingByParam(){"true"===this.route.snapshot.queryParamMap.get("hideMainMenu")&&(this.hiddenMainMenuByParam=!0,this.layout.hideMainMenu=!0,setTimeout(()=>this.ngZone.run(()=>this.layout.headerstate.emit(!1)),0))}subscription(){this.subs.push(this.shared.onChangeStatus.subscribe(o=>{this.changeClass(o)}))}subscription2(){this.subs.push(this.shared.onChangeHeaderVisibility.subscribe(o=>{this.hiddenMainMenuByParam=o}))}changeClass(o){this.containerClass=o?"container":"container-old",this.containerBGColor=o?"auto":"rgb(255,255,255)"}ngOnInit(){return(0,O.A)(function*(){})()}load(o=!1,a=!1){var c=this;return(0,O.A)(function*(){const y=yield c.apiService.getUserMenuCached(a,G=>{G&&G.forEach(N=>{switch(N.label){case"Schedule":N.label=c.t.translate("My Schedule");break;case"Notifications":N.label=c.t.translate("Messages");break;case"BOSS":N.label=c.t.translate("Daily Tasks");break;case"Read & Sign Docs":N.label=c.t.translate("Onboarding");break;case"Learning Center":N.label=c.t.translate("Training & Tutorials")}})});"code"in y||c.subs.push(c.apiService.getChainCached(!0).subscribe(G=>{c.chain=G,c.apiService.getUserCached(o).then(N=>{c.avatarUrl=N.avatar_url.startsWith("http")?N.avatar_url:n.c.apiUrl+N.avatar_url,c.state.setTimeZone(N.timeZone),c.state.setTimeZoneId(N.timeZoneId),c.state.setScheduleSettings(N.scheduleSettings),c.state.updateTimeZone.emit(),c.user=N,c.toAddStaffToMenu(y),c.user.branches.forEach(D=>{Number(D.branch_id)===Number(c.user.current_branch_id)&&(c.branch=D,c.language.setupLanguageFromSettings(G,D,N))}),null===c.user.sign_picture&&c.router.navigateByUrl("/user/index")})}))})()}toReplaceRoute(o){this.menu=o.data.map(a=>(a.route="/"+a.route.replace(/\./g,"/"),a)),this.layout.menuLoaded.emit(this.menu)}toAddStaffToMenu(o){var a=this;return(0,O.A)(function*(){a.toReplaceRoute(o)})()}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}static \u0275fac=function(a){return new(a||r)(t.rXU(d.G),t.rXU(v.d),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(e.g),t.rXU(k.d),t.rXU(T.Y),t.rXU(M.Qq),t.rXU(t.SKi),t.rXU(m.JO))};static \u0275cmp=t.VBU({type:r,selectors:[["app-main"]],decls:3,vars:6,consts:[[3,"avatarUrl","chain","branch","menu","user"],[4,"ngIf"]],template:function(a,c){1&a&&(t.nrm(0,"foh-menu",0),t.DNE(1,$t,2,0,"ng-container",1),t.nrm(2,"router-outlet")),2&a&&(t.Y8G("avatarUrl",c.avatarUrl)("chain",c.chain)("branch",c.branch)("menu",c.menu)("user",c.user),t.R7$(),t.Y8G("ngIf",!c.hiddenMainMenuByParam))},dependencies:[g.bT,f.n3,w,Nt],encapsulation:2})}return r})(),Vt=(()=>{class r{router;route;api;state;subs=[];user=null;STORAGE_ACTIONS_ACL=[{url:"storage.",acl:"storage.file"},{url:"storage.imageUpload",acl:"storage.imageUpload"}];redirectUrl=null;ACTION_SEPARATOR="#";QUESTION_SIGN="?";constructor(o,a,c,y){this.router=o,this.route=a,this.api=c,this.state=y}initStatus(){var o=this;this.getUserInfo(),this.subs.push(this.route.params.subscribe((0,O.A)(function*(){o.prepareAclActionToCheck(o.router.url)})))}prepareAclActionToCheck(o){let a=o.substring(1);a=a.replace(new RegExp("/","g"),".");let c=a;for(const y of this.STORAGE_ACTIONS_ACL)a.includes(y.url)&&(c=y.acl);c.includes(this.ACTION_SEPARATOR)&&(c=c.split(this.ACTION_SEPARATOR)[0],c=c.replace(/\.\d+./g,"")),c.includes(this.QUESTION_SIGN)&&(c=c.split(this.QUESTION_SIGN)[0]),this.checkAccess(c)}checkAccess(o){this.subs.push(this.api.checkAccess(this.user.id,o).subscribe(a=>{!0===a?.data&&this.getUrl()},()=>{}))}getUrl(){this.subs.push(this.api.getUrl(this.router.url).subscribe(o=>{o.data&&(this.redirectUrl=o.data)},()=>{}))}redirectAction(){this.redirectUrl&&(n.c.isApp?st.P.open({url:this.redirectUrl}):window.open(this.redirectUrl,"_blank"))}getUserInfo(){this.user=this.state.getUserData()}unsubscribeSubs(){this.subs.forEach(o=>o.unsubscribe())}static \u0275fac=function(a){return new(a||r)(t.KVO(f.Ix),t.KVO(f.nX),t.KVO(lt),t.KVO(v.d))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var kt=s(6458),Rt=s(9035),Ut=s(1841);function Xt(r,F){if(1&r){const o=t.RV6();t.qex(0),t.j41(1,"a",4),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.redirect())}),t.j41(2,"h5"),t.EFF(3),t.nI1(4,"transloco"),t.k0s()(),t.bVm()}2&r&&(t.R7$(3),t.JRh(t.bMT(4,1,"Click here to access the external resource")))}let Yt=(()=>{class r{location;layout;pageNotFoundHandler;constructor(o,a,c){this.location=o,this.layout=a,this.pageNotFoundHandler=c,this.pageNotFoundHandler.initStatus()}back(){this.location.back()}redirect(){this.pageNotFoundHandler.redirectAction()}ngOnInit(){this.layout.headerstate.emit(!1)}ngOnDestroy(){this.pageNotFoundHandler.unsubscribeSubs()}static \u0275fac=function(a){return new(a||r)(t.rXU(g.aZ),t.rXU(T.Y),t.rXU(Vt))};static \u0275cmp=t.VBU({type:r,selectors:[["app-page-not-found"]],decls:14,vars:10,consts:[[1,"page-404"],[4,"ngIf"],[1,"text-center"],[1,"btn","btn-large","btn-primary",3,"click"],["href","#",1,"text-center","external-resource",3,"click"]],template:function(a,c){1&a&&(t.j41(0,"foh-container")(1,"foh-content")(2,"foh-card",0)(3,"h5"),t.EFF(4),t.nI1(5,"transloco"),t.k0s(),t.j41(6,"h5"),t.EFF(7),t.nI1(8,"transloco"),t.k0s(),t.DNE(9,Xt,5,3,"ng-container",1),t.j41(10,"div",2)(11,"a",3),t.bIt("click",function(){return c.back()}),t.EFF(12),t.nI1(13,"transloco"),t.k0s()()()()()),2&a&&(t.R7$(4),t.JRh(t.bMT(5,4,"Code 404")),t.R7$(3),t.JRh(t.bMT(8,6,"The requested resource is not found in the app")),t.R7$(2),t.Y8G("ngIf",c.pageNotFoundHandler.redirectUrl),t.R7$(3),t.JRh(t.bMT(13,8,"Go Back")))},dependencies:[g.bT,kt.B,Rt.G,Ut.e,m.Kj],styles:[".page-404[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:inherit}.page-404[_ngcontent-%COMP%]   .external-resource[_ngcontent-%COMP%]{margin-top:10%;margin-bottom:20%;cursor:pointer}.page-404[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}"]})}return r})();var C=s(3072),H=s(1994);const b=["container"],A="wc-script-loader",S="bc-wc-layout-render";let tt=(()=>{class r{cd;lsvc;ngZone;route;state;layoutName="";container;subs=[];constructor(o,a,c,y,G){this.cd=o,this.lsvc=a,this.ngZone=c,this.route=y,this.state=G}inject(){if(this.container&&this.container.nativeElement){let o=!1;for(let a=0;a<document.head.children.length;a++){const c=document.head.children[a];"script"===c.tagName.toLowerCase()&&c.id===A&&(o=!0)}if(o){const a=document.getElementById(S);this.layoutName&&a&&a.setAttribute("layout-name",this.layoutName)}else{const a=document.createElement("script");a.id=A,a.src=n.c.staticUrl+"/js/wc/layout-render/render.js?"+Date.now(),a.type="module",a.onload=()=>{const c=document.createElement("wc-layout-render");c.id=S,this.layoutName&&c.setAttribute("layout-name",this.layoutName),c.setAttribute("api-url",n.c.apiUrl),c.setAttribute("cdn-url",n.c.staticUrl),c.addEventListener("pageconfig",y=>{"data"in y&&this.applyPageSettings(y.data)}),this.container.nativeElement.appendChild(c)},document.head.appendChild(a)}}}applyPageSettings(o){"title"in o&&this.lsvc.pagetitle.emit(o.title),"showBack"in o&&o.showBack&&(this.lsvc.showBack.emit(!0),"backUrl"in o&&""!==o.backUrl.trim()&&this.lsvc.backLink.emit(o.backUrl)),"showClose"in o&&o.showClose&&(this.lsvc.showClose.emit(!0),"closeUrl"in o&&""!==o.closeUrl.trim()&&this.lsvc.closeLink.emit(o.closeUrl)),this.cd.detectChanges()}ngOnInit(){this.init(),this.branchChanger()}branchChanger(){console.log("branchChanger"),this.subs.push(this.state.branchChanged.subscribe(()=>{console.log("branch Changed - call INJECT"),window.location.reload()}))}init(){console.log("init"),this.route.paramMap.subscribe(o=>{this.layoutName=o?.get("name"),this.inject()})}onmessage(o){setTimeout(()=>{this.ngZone.run(()=>{if("sentFromLayoutBuilder"in o.data){const a=document.getElementById(S);a&&"applyData"in a&&o&&o.data&&o.data.data?(a.setData(o.data.data),a.loadLayoutSpec(),"pageConfig"in o.data.data&&this.applyPageSettings(o.data.data.pageConfig),this.cd.detectChanges()):console.log("layout render element not found")}})},100)}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}static \u0275fac=function(a){return new(a||r)(t.rXU(t.gRc),t.rXU(T.Y),t.rXU(t.SKi),t.rXU(f.nX),t.rXU(v.d))};static \u0275cmp=t.VBU({type:r,selectors:[["app-layout-preview"]],viewQuery:function(a,c){if(1&a&&t.GBs(b,7),2&a){let y;t.mGM(y=t.lsd())&&(c.container=y.first)}},hostBindings:function(a,c){1&a&&t.bIt("message",function(G){return c.onmessage(G)},!1,t.tSv)},decls:4,vars:0,consts:[["container",""]],template:function(a,c){1&a&&(t.j41(0,"foh-container")(1,"foh-content"),t.nrm(2,"div",null,0),t.k0s()())},dependencies:[Rt.G,Ut.e],styles:["[_nghost-%COMP%] > foh-container[_ngcontent-%COMP%] > foh-content[_ngcontent-%COMP%] > div#today-image[_ngcontent-%COMP%]{background-position:center center!important;background-size:cover!important;background:var(--foh-dashboard-bg-image);display:flex;flex-direction:column;padding:15px;flex-wrap:nowrap;overflow:hidden auto}"],changeDetection:0})}return r})();var ot=s(5553),mt=s(5685);const xt=r=>({backgroundColor:r});function St(r,F){if(1&r&&(t.j41(0,"div"),t.nrm(1,"span",1),t.EFF(2," \xa0 "),t.j41(3,"span"),t.EFF(4),t.k0s(),t.EFF(5," \xa0 "),t.j41(6,"span"),t.EFF(7),t.k0s()()),2&r){const o=F.$implicit;t.R7$(),t.Aen(t.eq3(4,xt,o.v)),t.R7$(3),t.JRh(o.n),t.R7$(3),t.SpI("(",o.v,")")}}function Tt(r,F){if(1&r&&(t.j41(0,"div")(1,"p"),t.EFF(2),t.k0s(),t.DNE(3,St,8,6,"div",0),t.k0s()),2&r){const o=F.$implicit;t.R7$(2),t.JRh(o.title),t.R7$(),t.Y8G("ngForOf",o.colors)}}let Wt=(()=>{class r{data=[{title:"MAIN COLORS",colors:[{n:"--foh-color-main",v:"#ff5132"},{n:"--foh-color-additional",v:"#808ba3"}]},{title:"MAIN COLORS",colors:[{n:"--foh-color-primary",v:"#4a90e2"},{n:"--foh-color-secondary",v:"#808ba3"},{n:"--foh-color-success",v:"#19b971"},{n:"--foh-color-danger",v:"#ff5132"},{n:"--foh-color-warning",v:"#faad13"},{n:"--foh-color-info",v:"#17a2b8"}]},{title:"BODY COLORS",colors:[{n:"--foh-body-bg-color",v:"#F9F9F9"},{n:"--foh-body-color",v:"#333333"}]},{title:"CARD COLORS",colors:[{n:"--foh-card-bg-color",v:"white"}]},{title:"HEADER COLORS",colors:[{n:"--foh-header-bg-color",v:"white"},{n:"--foh-header-color",v:"#333"}]}];static \u0275fac=function(a){return new(a||r)};static \u0275cmp=t.VBU({type:r,selectors:[["wc-foh-sandbox-variables"]],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"colorbox"]],template:function(a,c){1&a&&t.DNE(0,Tt,4,2,"div",0),2&a&&t.Y8G("ngForOf",c.data)},dependencies:[g.Sq],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:16px;border:solid 1px #ddd;border-top:0;background-color:#fff;gap:16px}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{font-family:monospace;display:flex;flex-direction:column;gap:4px}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span.colorbox[_ngcontent-%COMP%]{display:block;width:24px;border:solid 1px #888888}"]})}return r})();var h=s(1683),B=s(1022),l=s(3721),P=s(9315),p=s(5717),U=s(6196),K=s(7867);let wt=(()=>{class r{gql;constructor(o){this.gql=o}GetShort(){return new Promise((o,a)=>{(0,U._)(this.gql.query('\n          {\n            hr {\n              positions(limit: 0, sort: "name asc") {\n                id, name\n              }\n            }\n          }\n        ')).then(c=>o(c.body.data.hr.positions)).catch(c=>a(c))})}static \u0275fac=function(a){return new(a||r)(t.KVO(K.jR))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ot=(()=>{class r{gql;constructor(o){this.gql=o}GetShort(){return new Promise((o,a)=>{(0,U._)(this.gql.query('\n          {\n            system {\n              branches(limit: 0, sort: "name asc") {\n                branch_id, name\n              }\n            }\n          }\n        ')).then(c=>o(c.body.data.system.branches)).catch(c=>a(c))})}static \u0275fac=function(a){return new(a||r)(t.KVO(K.jR))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ft=(()=>{class r{gql;constructor(o){this.gql=o}GetShort(){return new Promise((o,a)=>{(0,U._)(this.gql.query('\n          {\n            hr {\n              employees(limit: 0, sort: "first_name asc") {\n                id, first_name, last_name\n              }\n            }\n          }\n        ')).then(c=>{o(c.body.data.hr.employees.map(y=>({id:Number(y.id),name:y.first_name+" "+y.last_name})))}).catch(c=>a(c))})}static \u0275fac=function(a){return new(a||r)(t.KVO(K.jR))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Dt=s(1899);function Ht(r,F){if(1&r){const o=t.RV6();t.j41(0,"input",13),t.bIt("change",function(c){t.eBV(o);const y=t.XpG().$implicit,G=t.XpG(2);return t.Njj(G.attrValueChanged(c,y))}),t.k0s()}if(2&r){const o=t.XpG().$implicit,a=t.XpG().$implicit;t.FCK("id","",a.tag,"-",o.a,""),t.Y8G("value",o.v)("tooltip",o.c?o.c:null)}}function zt(r,F){if(1&r&&(t.j41(0,"option",16),t.EFF(1),t.k0s()),2&r){const o=F.$implicit,a=t.XpG(2).$implicit;t.Y8G("selected",o===a.v)("value",o),t.R7$(),t.JRh(o)}}function Zt(r,F){if(1&r){const o=t.RV6();t.j41(0,"select",14),t.bIt("change",function(c){t.eBV(o);const y=t.XpG().$implicit,G=t.XpG(2);return t.Njj(G.attrValueChanged(c,y))}),t.DNE(1,zt,2,3,"option",15),t.k0s()}if(2&r){const o=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",o.o)}}function Qt(r,F){if(1&r){const o=t.RV6();t.j41(0,"ng-select",17),t.bIt("change",function(c){t.eBV(o);const y=t.XpG().$implicit,G=t.XpG(2);return t.Njj(G.attrValueChanged(c,y))}),t.k0s()}if(2&r){const o=t.XpG(3);t.Y8G("items",o.branches)}}function ce(r,F){if(1&r){const o=t.RV6();t.j41(0,"ng-select",18),t.bIt("change",function(c){t.eBV(o);const y=t.XpG().$implicit,G=t.XpG(2);return t.Njj(G.attrValueChanged(c,y))}),t.k0s()}if(2&r){const o=t.XpG(3);t.Y8G("items",o.positions)}}function le(r,F){if(1&r){const o=t.RV6();t.j41(0,"ng-select",18),t.bIt("change",function(c){t.eBV(o);const y=t.XpG().$implicit,G=t.XpG(2);return t.Njj(G.attrValueChanged(c,y))}),t.k0s()}if(2&r){const o=t.XpG(3);t.Y8G("items",o.roles)}}function he(r,F){if(1&r){const o=t.RV6();t.j41(0,"ng-select",18),t.bIt("change",function(c){t.eBV(o);const y=t.XpG().$implicit,G=t.XpG(2);return t.Njj(G.attrValueChanged(c,y))}),t.k0s()}if(2&r){const o=t.XpG(3);t.Y8G("items",o.users)}}function de(r,F){if(1&r&&(t.j41(0,"div",7)(1,"label",8),t.EFF(2),t.k0s(),t.DNE(3,Ht,1,5,"input",9)(4,Zt,2,1,"select",10)(5,Qt,1,1,"ng-select",11)(6,ce,1,1,"ng-select",12)(7,le,1,1,"ng-select",12)(8,he,1,1,"ng-select",12),t.k0s()),2&r){const o=F.$implicit,a=t.XpG().$implicit;t.R7$(),t.FCK("for","",a.tag,"-",o.a,""),t.R7$(),t.SpI("",o.a,":"),t.R7$(),t.Y8G("ngIf",!o.o&&!o.n),t.R7$(),t.Y8G("ngIf",o.o&&!o.n),t.R7$(),t.Y8G("ngIf",o.n&&"branches"==o.n),t.R7$(),t.Y8G("ngIf",o.n&&"positions"==o.n),t.R7$(),t.Y8G("ngIf",o.n&&"roles"==o.n),t.R7$(),t.Y8G("ngIf",o.n&&"users"==o.n)}}function ge(r,F){if(1&r&&(t.j41(0,"section",1)(1,"h3",2),t.EFF(2),t.k0s(),t.j41(3,"div")(4,"aside"),t.DNE(5,de,9,10,"div",3),t.k0s(),t.nrm(6,"aside",4),t.j41(7,"aside",5)(8,"pre"),t.nrm(9,"code",6),t.k0s()()()()),2&r){const o=F.$implicit,a=t.XpG();t.R7$(2),t.JRh(o.tag),t.R7$(3),t.Y8G("ngForOf",o.attributes),t.R7$(),t.Y8G("superhtml",a.mkHtml(o)),t.R7$(3),t.Y8G("superhtml",a.mkHighlight(o))}}let pe=(()=>{class r{positions=[];branches=[];roles=[{id:1,name:"Simple User"},{id:3,name:"Chain manager"},{id:4,name:"Branch manager"},{id:5,name:"Candidate"},{id:6,name:"Trainee"},{id:7,name:"Elevated Branch Manager"}];users=[];components=[{tag:"wc-foh-icon-button",html:"",attributes:[{a:"icon",v:"fa-light fa-image"},{a:"icon-color",v:"var(--foh-body-color)"},{a:"icon-background",v:"white"},{a:"title",v:"Title Here"},{a:"title-color",v:"white"},{a:"title-background",v:"var(--foh-color-main)"},{a:"border-color",v:"var(--foh-color-main)"},{a:"round",v:"false",o:["","true","false"]},{a:"shadow",v:"",c:"Falls back to default if empty. Use 'none' to disable"},{a:"counter",v:"7"},{a:"navigate-to",v:"https://google.com"},{a:"navigate-target",v:"_self",o:["","_self","_blank"]},{a:"show-for-positions",v:"",c:"show-for-positions has precedence over Hide",n:"positions"},{a:"hide-for-positions",v:"",c:"If show-for-positions is not empty - hide-for-positions is ignored",n:"positions"},{a:"show-for-branches",v:"",c:"show-for-branches has precedence over Hide",n:"branches"},{a:"hide-for-branches",v:"",c:"If show-for-branches is not empty - hide-for-branches is ignored",n:"branches"},{a:"show-for-roles",v:"",c:"show-for-roles has precedence over Hide",n:"roles"},{a:"hide-for-roles",v:"",c:"If show-for-roles is not empty - hide-for-roles is ignored",n:"roles"},{a:"show-for-users",v:"",c:"show-for-users has precedence over Hide",n:"users"},{a:"hide-for-users",v:"",c:"If show-for-users is not empty - hide-for-users is ignored",n:"users"}]},{tag:"wc-foh-card",html:"\n      <p>Sample paragraph in card</p>\n      <p>Sample paragraph in card</p>\n      <p>Sample paragraph in card</p>\n      ",attributes:[{a:"background",v:""},{a:"color",v:""},{a:"direction",v:"column",o:["column","row"]},{a:"shadow",v:"0 7px 12px 0 rgba(0, 0, 0, 0.08)"}]},{tag:"wc-foh-icon-card",attributes:[{a:"href",v:""},{a:"counter",v:""},{a:"loading",v:"",o:["","true","false"]},{a:"icon",v:"fa-light fa-file"},{a:"icon-color",v:""},{a:"icon-background-color",v:""},{a:"arrow-color",v:""}]}];constructor(o,a,c){a.GetShort().then(y=>this.branches=y),o.GetShort().then(y=>this.positions=y),c.GetShort().then(y=>this.users=y)}mkHtml(o){let a=`<${o.tag}`;return o.attributes.forEach(c=>{""!=c.v.trim()&&(a+=`\n\t${c.a}="${c.v}"`)}),a+=">",o.html&&""!=o.html.trim()&&(a+=o.html),a+=`</${o.tag}>`,a}mkHighlight(o){return hljs.highlight(this.mkHtml(o),{language:"xml"}).value}attrValueChanged(o,a,c=null){if(Array.isArray(o))switch(a.n){case"branches":a.v=o.map(y=>y.branch_id).join(",");break;case"positions":case"roles":case"users":a.v=o.map(y=>y.id).join(",")}else a.v=o.target.value}static \u0275fac=function(a){return new(a||r)(t.rXU(wt),t.rXU(Ot),t.rXU(Ft))};static \u0275cmp=t.VBU({type:r,selectors:[["wc-foh-sandbox-components"]],standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","component",4,"ngFor","ngForOf"],[1,"component"],[1,"font-monospace"],["class","attr-row",4,"ngFor","ngForOf"],[1,"center",3,"superhtml"],[1,"flex-grow-1",2,"width","33%"],[3,"superhtml"],[1,"attr-row"],[3,"for"],["class","form-control","type","text",3,"id","value","tooltip","change",4,"ngIf"],["class","form-control",3,"change",4,"ngIf"],["bindValue","branch_id","bindLabel","name","hideSelected","true","multiple","true",3,"items","change",4,"ngIf"],["bindValue","id","bindLabel","name","hideSelected","true","multiple","true",3,"items","change",4,"ngIf"],["type","text",1,"form-control",3,"change","id","value","tooltip"],[1,"form-control",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],["bindValue","branch_id","bindLabel","name","hideSelected","true","multiple","true",3,"change","items"],["bindValue","id","bindLabel","name","hideSelected","true","multiple","true",3,"change","items"]],template:function(a,c){1&a&&t.DNE(0,ge,10,4,"section",0),2&a&&t.Y8G("ngForOf",c.components)},dependencies:[g.Sq,h.Y,g.bT,B.h6,l.h,Dt.Q,P.Ss,P.dg,p.MQ,p.vr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:16px;border:solid 1px #ddd;border-top:0;background-color:#fff;gap:16px}[_nghost-%COMP%] > section[_ngcontent-%COMP%]{display:block;padding-bottom:16px;border-bottom:solid 1px #ddd}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{font-weight:100;font-family:monospace}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%]{width:40%;flex-grow:1;display:flex;flex-direction:column;gap:8px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%] > div.attr-row[_ngcontent-%COMP%]{display:flex;gap:8px;width:100%}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%] > div.attr-row[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:33%;text-align:right}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%] > div.attr-row[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], [_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%] > div.attr-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], [_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%] > div.attr-row[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]{width:67%}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > aside.center[_ngcontent-%COMP%]{width:20%;justify-content:start;align-items:center}"]})}return r})();function te(r,F,o,a){let c=document.getElementById(r);null===c&&(c=document.createElement("script"),c.src=F,c.crossOrigin="anonymous",c.referrerPolicy="no-referrer",o&&(c.type="module"),c.onload=()=>{a()},document.head.append(c))}function Jt(r,F){let o=0,a=0;return new Promise(c=>{r.forEach(y=>{!function ue(r,F,o){let a=document.getElementById(r);null===a&&(a=document.createElement("link"),a.href=F,a.crossOrigin="anonymous",a.referrerPolicy="no-referrer",a.rel="stylesheet",a.onload=()=>o(),document.head.append(a))}(y.id,y.url,()=>{o++,o==r.length&&a==F.length&&c()})}),F.forEach(y=>{te(y.id,y.url,y.module,()=>{a++,o==r.length&&a==F.length&&c()})})})}let me=(()=>{class r{cd;highlight1=null;code1='<wc-foh-card>\n  <h3 style="margin:16px 0">Differen styles</h3>\n  <div style="display:flex;gap:16px">\n    <wc-foh-icon-button title="Default"></wc-foh-icon-button>\n    <wc-foh-icon-button round="true" title="Round"></wc-foh-icon-button>\n    <wc-foh-icon-button border-color="none" title="No border"></wc-foh-icon-button>\n    <wc-foh-icon-button border-color="none" round="true" title="No border"></wc-foh-icon-button>\n    <wc-foh-icon-button shadow="none" title="No shadow"></wc-foh-icon-button>\n    <wc-foh-icon-button shadow="none" round="true" title="No shadow"></wc-foh-icon-button>\n  </div>\n</wc-foh-card>\n<h3>Flex fit width <small>Use flex-grow:1 so items take space evenly</small></h3>\n<div style="display: flex;gap:16px">\n  <wc-foh-icon-button style="flex-grow: 1"\n      title-background="var(--foh-color-main)" title-color="white" title="foh-color-main"></wc-foh-icon-button>\n  <wc-foh-icon-button style="flex-grow: 1" icon="fa-light fa-user" title="User icon"></wc-foh-icon-button>\n  <wc-foh-icon-button style="flex-grow: 1"\n      icon-background="var(--foh-color-main)" icon-color="white" title="Reversed"></wc-foh-icon-button>\n  <wc-foh-icon-button style="flex-grow: 1" title="Transparent back" icon="fa-light fa-sun"\n      icon-background="transparent" title-background="transparent"\n     ></wc-foh-icon-button>\n</div>\n<h3>\nCustom size\n<small>Use style\'s width and height to control widget size</small>\n</h3>\n<wc-foh-icon-button style="width: 100%; height: 200px" title="Full width"></wc-foh-icon-button>\n';highlight3=null;code3='\n<div style="display:flex;gap:16px;flex-wrap:wrap;margin-bottom:16px">\n    <wc-foh-icon-button show-for-positions="136" title="Server"></wc-foh-icon-button>\n    <wc-foh-icon-button hide-for-positions="136" title="Not Server"></wc-foh-icon-button>\n    <wc-foh-icon-button show-for-positions="197" title="Chef"></wc-foh-icon-button>\n    <wc-foh-icon-button hide-for-positions="197" title="Not Chef"></wc-foh-icon-button>\n    <wc-foh-icon-button show-for-positions="136,197" title="Chef & Server"></wc-foh-icon-button>\n</div>\n  ';highlight4=null;code4='\n<div style="display:flex;gap:16px;flex-wrap:wrap">\n    <wc-foh-icon-button show-for-branches="41" title="Branch 41"></wc-foh-icon-button>\n    <wc-foh-icon-button hide-for-branches="41" title="Not Branch 41"></wc-foh-icon-button>\n    <wc-foh-icon-button show-for-branches="94" title="Branch 94"></wc-foh-icon-button>\n    <wc-foh-icon-button hide-for-branches="94" title="Not Branch 94"></wc-foh-icon-button>\n    <wc-foh-icon-button show-for-branches="41,42" title="B 41 & 94"></wc-foh-icon-button>\n</div>\n  ';constructor(o){this.cd=o}ngOnInit(){}ngAfterViewInit(){this.highlight1=hljs.highlight(this.code1,{language:"xml"}).value,this.highlight3=hljs.highlight(this.code3,{language:"xml"}).value,this.highlight4=hljs.highlight(this.code4,{language:"xml"}).value,this.cd.detectChanges()}static \u0275fac=function(a){return new(a||r)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:r,selectors:[["wc-foh-sandbox-examples-icon-button"]],standalone:!0,features:[t.aNF],decls:17,vars:6,consts:[[3,"superhtml"],[2,"border-top","dotted 1px black"]],template:function(a,c){1&a&&(t.j41(0,"section")(1,"article")(2,"pre"),t.nrm(3,"code",0),t.k0s()(),t.nrm(4,"aside",0),t.k0s(),t.nrm(5,"div",1),t.j41(6,"section")(7,"article")(8,"pre"),t.nrm(9,"code",0),t.k0s()(),t.nrm(10,"aside",0),t.k0s(),t.nrm(11,"div",1),t.j41(12,"section")(13,"article")(14,"pre"),t.nrm(15,"code",0),t.k0s()(),t.nrm(16,"aside",0),t.k0s()),2&a&&(t.R7$(3),t.Y8G("superhtml",c.highlight1),t.R7$(),t.Y8G("superhtml",c.code1),t.R7$(5),t.Y8G("superhtml",c.highlight3),t.R7$(),t.Y8G("superhtml",c.code3),t.R7$(5),t.Y8G("superhtml",c.highlight4),t.R7$(),t.Y8G("superhtml",c.code4))},dependencies:[l.h,Dt.Q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:16px;border:solid 1px #ddd;border-top:0;gap:16px;background:linear-gradient(90deg,#fff,#b9b9ff)}[_nghost-%COMP%] > section[_ngcontent-%COMP%]{display:flex;gap:16px}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > article[_ngcontent-%COMP%]{width:50%;flex-grow:1}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > article[_ngcontent-%COMP%] > pre[_ngcontent-%COMP%]{margin:0;background-color:#fff}[_nghost-%COMP%] > section[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%]{width:50%;flex-grow:1}"],changeDetection:0})}return r})();function fe(r,F){1&r&&(t.j41(0,"tabset")(1,"tab",2),t.nrm(2,"wc-foh-sandbox-components"),t.k0s(),t.j41(3,"tab",3),t.nrm(4,"wc-foh-sandbox-variables"),t.k0s(),t.j41(5,"tab",4),t.nrm(6,"wc-foh-sandbox-examples-icon-button"),t.k0s()())}let _e=(()=>{class r{hljsReady=!1;constructor(){Jt([],[{id:"wc-foh-library-loader",url:n.c.staticUrl+"/js/wc-foh/dist/wc-foh/wc-foh.esm.js",module:!0},{id:"highlight-js-main-js",url:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js",module:!1}]).then(()=>{Jt([{id:"highlight-js-style-github-css",url:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"}],[{id:"highlight-js-xml",url:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/xml.min.js",module:!1}]).then(()=>this.hljsReady=!0)})}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=t.VBU({type:r,selectors:[["wc-foh-sandbox"]],standalone:!0,features:[t.aNF],decls:7,vars:2,consts:[[1,"btn","btn-primary",3,"routerLink"],[4,"ngIf"],["heading","Components"],["heading","Variables"],["heading","Examples"]],template:function(a,c){1&a&&(t.j41(0,"header")(1,"h1"),t.EFF(2,"WC-FOH sandbox"),t.k0s(),t.j41(3,"aside")(4,"a",0),t.EFF(5,"LAUNCH WIDGET DEBUGGER"),t.k0s()()(),t.DNE(6,fe,7,0,"tabset",1)),2&a&&(t.R7$(4),t.Y8G("routerLink","/wc-foh-sandbox-debugger"),t.R7$(2),t.Y8G("ngIf",c.hljsReady))},dependencies:[ot.h,mt.jr,mt.V6,mt.fw,Wt,pe,f.$T,me,g.bT],styles:["[_nghost-%COMP%]{display:block;margin:57px 16px 0;direction:ltr}[_nghost-%COMP%] > header[_ngcontent-%COMP%]{width:100%;display:flex}[_nghost-%COMP%] > header[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{width:50%;flex-grow:1;margin:0 0 16px}[_nghost-%COMP%] > header[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%]{width:50%;flex-grow:1;display:flex;justify-content:flex-end}[_nghost-%COMP%] > header[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return r})();var qt=s(5787);const Ce=["editor"],be=["iframe"];let ve=(()=>{class r{state;original_widget_content="";widget_content="";codeMirror;iframeLoaded=!1;previewLoaded=!1;editorRef;iframeRef;constructor(o){this.state=o;const a="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7";Jt([{id:"code-mirror-style-loader",url:a+"/codemirror.min.css"},{id:"code-mirror-style-foldgutter",url:a+"/addon/fold/foldgutter.min.css"}],[{id:"code-mirror-script-loader-main",url:a+"/codemirror.min.js",module:!0}]).then(()=>{Jt([],[{id:"code-mirror-script-loader-foldcode",url:a+"/addon/fold/foldcode.min.js",module:!0},{id:"code-mirror-script-loader-foldgutter",url:a+"/addon/fold/foldgutter.min.js",module:!0},{id:"code-mirror-script-loader-xml-fold",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/fold/xml-fold.min.js",module:!0},{id:"code-mirror-script-loader-xml",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/xml/xml.min.js",module:!0},{id:"code-mirror-script-loader-js",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.min.js",module:!0},{id:"code-mirror-script-loader-css",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/css/css.min.js",module:!0},{id:"code-mirror-script-loader-html",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/htmlmixed/htmlmixed.min.js",module:!0},{id:"code-mirror-script-loader-closetags",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/edit/closetag.min.js",module:!0},{id:"code-mirror-script-loader-closebrackets",url:"https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/edit/closebrackets.min.js",module:!0}]).then(()=>this.init())}),window.addEventListener("message",c=>{window.origin===c.origin&&c&&c.data&&c.data.type&&"wc-foh-sandbox-debugger-preview-loaded"==c.data.type&&(this.previewLoaded=!0,this.reloadWidget())},!1)}init(){const o=this.state.getChain();this.original_widget_content=o.widget_content;const a="wc-foh-sandbox-widget-data-chain-"+o.chain_id,c=localStorage.getItem(a);null==c?localStorage.setItem(a,o.widget_content):this.widget_content=c,this.codeMirror=CodeMirror(this.editorRef.nativeElement,{tabSize:2,value:this.widget_content,mode:"text/html",autoCloseTags:!0,autoCloseBrackets:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"]}),this.codeMirror.setSize("100%","100%"),this.codeMirror.on("change",y=>{localStorage.setItem(a,this.codeMirror.getValue()),this.reloadWidget()})}reloadWidget(){if(!this.iframeLoaded||!this.previewLoaded)return!1;const o={type:"wc-foh-sandbox-debugger-update-widget",widget_content:this.codeMirror.getValue()},a=this.iframeRef.nativeElement;return a&&a.contentWindow&&a.contentWindow.postMessage(o,{targetOrigin:a.src}),!1}ngAfterViewInit(){this.iframeRef.nativeElement.onload=()=>{this.iframeLoaded=!0}}resetToChainDefault(){if(confirm("Sure you want to reset?")){this.original_widget_content="",this.widget_content="";const o=this.state.getChain(),a="wc-foh-sandbox-widget-data-chain-"+o.chain_id;this.codeMirror.setValue(o.widget_content),localStorage.removeItem(a),this.init()}}static \u0275fac=function(a){return new(a||r)(t.rXU(v.d))};static \u0275cmp=t.VBU({type:r,selectors:[["wc-foh-sandbox-debugger"]],viewQuery:function(a,c){if(1&a&&(t.GBs(Ce,5),t.GBs(be,5)),2&a){let y;t.mGM(y=t.lsd())&&(c.editorRef=y.first),t.mGM(y=t.lsd())&&(c.iframeRef=y.first)}},standalone:!0,features:[t.Jv_([v.d]),t.aNF],decls:17,vars:6,consts:[["editor",""],["iframe",""],[3,"routerLink"],[1,"fa-light","fa-arrow-left"],["href","",3,"routerLink"],[1,"fa-light","fa-xmark-large"],["direction","horizontal","gutterSize","8","unit","percent"],[3,"size","minSize"],["src",t.wXG`/dashboard`,"name","wc-foh-sandbox-preview-frame"],[1,"btn","btn-small","btn-primary",3,"click"]],template:function(a,c){if(1&a){const y=t.RV6();t.j41(0,"h1")(1,"a",2),t.nrm(2,"i",3),t.k0s(),t.EFF(3," Dashboard Widget Designer "),t.j41(4,"a",4),t.nrm(5,"i",5),t.k0s()(),t.j41(6,"main")(7,"as-split",6)(8,"as-split-area",7),t.nrm(9,"section",null,0),t.k0s(),t.j41(11,"as-split-area",7),t.nrm(12,"iframe",8,1),t.k0s()()(),t.j41(14,"footer")(15,"button",9),t.bIt("click",function(){return t.eBV(y),t.Njj(c.resetToChainDefault())}),t.EFF(16,"Reset to chain default"),t.k0s()()}2&a&&(t.R7$(),t.Y8G("routerLink","/wc-foh-sandbox"),t.R7$(3),t.Y8G("routerLink","/wc-foh-sandbox"),t.R7$(4),t.Y8G("size",50)("minSize",25),t.R7$(3),t.Y8G("size",50)("minSize",25))},dependencies:[f.$T,qt.ju,qt.qN,qt.FN],styles:["[_nghost-%COMP%]{direction:ltr;display:flex;flex-direction:column;margin:0;position:absolute;inset:0;z-index:100}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{text-align:center;margin:0;line-height:41px;font-weight:lighter;font-size:30px;background-color:#fff;display:flex;justify-content:space-between}[_nghost-%COMP%] > h1[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:41px;color:var(--foh-body-color)}[_nghost-%COMP%] > main[_ngcontent-%COMP%]{display:flex;height:calc(100% - 41px)}[_nghost-%COMP%] > main[_ngcontent-%COMP%] > as-split[_ngcontent-%COMP%] > as-split-area[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%] > main[_ngcontent-%COMP%] > as-split[_ngcontent-%COMP%] > as-split-area[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{height:100%;border:solid 1px #dddddd}[_nghost-%COMP%] > main[_ngcontent-%COMP%] > as-split[_ngcontent-%COMP%] > as-split-area[_ngcontent-%COMP%] > iframe[_ngcontent-%COMP%]{border:solid 1px #dddddd;display:block;width:100%;height:100%;box-sizing:border-box;margin:0}[_nghost-%COMP%] > footer[_ngcontent-%COMP%]{flex-grow:0;height:40px;display:flex;gap:8px;padding:4px}"]})}return r})();var ee=s(9305);let Pe=(()=>{class r{qrService;constructor(o){this.qrService=o}scanQR(){var o=this;return(0,O.A)(function*(){o.qrService.startScan()})()}static \u0275fac=function(a){return new(a||r)(t.rXU(ee.t))};static \u0275cmp=t.VBU({type:r,selectors:[["test-capacitor"]],standalone:!0,features:[t.aNF],decls:4,vars:0,consts:[[2,"padding","32px"],[1,"btn","btn-lg","btn-primary",3,"click"]],template:function(a,c){1&a&&(t.j41(0,"div",0)(1,"foh-card")(2,"button",1),t.bIt("click",function(){return c.scanQR()}),t.EFF(3,"SCAN QR"),t.k0s()()())},dependencies:[ot.h,kt.B],encapsulation:2})}return r})();const Me=[{path:"user/login",loadChildren:()=>Promise.resolve().then(s.bind(s,1391)).then(r=>r.UserLoginModule)},{path:"user/loginByPreparedToken",component:(()=>{class r{sub;constructor(o,a,c,y){const G=c.snapshot.queryParamMap.get("preparedToken");G&&""!=G.trim()?(y.setApiToken(G),this.sub=o.isAuthenticated().subscribe({next:N=>{if(N){const D=c.snapshot.queryParamMap.get("destination");D&&""!=D.trim()?a.navigateByUrl(D).then():a.navigateByUrl("/dashboard").then()}else y.clear(),a.navigateByUrl("/user/login").then()}})):a.navigateByUrl("/user/login").then()}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(a){return new(a||r)(t.rXU(d.G),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(v.d))};static \u0275cmp=t.VBU({type:r,selectors:[["foh-login-by-prepared-token"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(a,c){},encapsulation:2})}return r})()},{path:"user/index",component:H.O,canActivate:[C.r]},{path:"",component:It,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"test-capacitor",component:Pe},{path:"layout",component:tt,canActivate:[C.r]},{path:"wc-foh-sandbox",component:_e,canActivate:[C.r]},{path:"wc-foh-sandbox-debugger",component:ve,canActivate:[C.r]},{path:"layout/:name",component:tt,canActivate:[C.r]},{path:"boss",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(76),s.e(918)]).then(s.bind(s,1918)).then(r=>r.BossModule),canActivate:[C.r]},{path:"browseDocs",loadChildren:()=>Promise.all([s.e(403),s.e(349)]).then(s.bind(s,1349)).then(r=>r.BrowseDocsModule),canActivate:[C.r]},{path:"dashboard",loadChildren:()=>Promise.all([s.e(76),s.e(171)]).then(s.bind(s,5171)).then(r=>r.DashboardModule),canActivate:[C.r]},{path:"managerPortal",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(260),s.e(15),s.e(329),s.e(914),s.e(409),s.e(318),s.e(76),s.e(356)]).then(s.bind(s,4356)).then(r=>r.ManagerPortalModule),canActivate:[C.r]},{path:"learningCenter",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(76),s.e(333)]).then(s.bind(s,4333)).then(r=>r.LearningCenterModule),canActivate:[C.r]},{path:"testing",loadChildren:()=>s.e(680).then(s.bind(s,8680)).then(r=>r.TestingModule),canActivate:[C.r]},{path:"notification",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(76),s.e(89)]).then(s.bind(s,89)).then(r=>r.NotificationModule),canActivate:[C.r]},{path:"schedule",loadChildren:()=>Promise.all([s.e(76),s.e(65)]).then(s.bind(s,2065)).then(r=>r.ScheduleModule),canActivate:[C.r]},{path:"signDocs",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(260)]).then(s.bind(s,2260)).then(r=>r.SignDocsModule),canActivate:[C.r]},{path:"user",loadChildren:()=>Promise.resolve().then(s.bind(s,8836)).then(r=>r.UserModule)},{path:"emergency",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(260),s.e(318)]).then(s.bind(s,9318)).then(r=>r.EmergencyModule),canActivate:[C.r]},{path:"formI9",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(260),s.e(15),s.e(914)]).then(s.bind(s,2914)).then(r=>r.FormI9Module),canActivate:[C.r]},{path:"w4",loadChildren:()=>Promise.all([s.e(403),s.e(378),s.e(260),s.e(15),s.e(329)]).then(s.bind(s,8329)).then(r=>r.W4Module),canActivate:[C.r]},{path:"menu-planner",loadChildren:()=>Promise.all([s.e(403),s.e(76),s.e(188)]).then(s.bind(s,3188)).then(r=>r.MenuPlannerModule),canActivate:[C.r]},{path:"applicant",loadChildren:()=>Promise.all([s.e(409),s.e(479)]).then(s.bind(s,1479)).then(r=>r.ApplicantModule),canActivate:[C.r]}]},{path:"**",component:Yt}];let we=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({imports:[f.iI.forRoot(Me,{scrollPositionRestoration:"top",anchorScrolling:"enabled",scrollOffset:[0,64]}),f.iI]})}return r})();var Oe=s(279),ne=s(5764),ye=s(3734),Kt=s(9326),oe=s(5477),xe=s(8439),Ee=s(4070),ke=s(5606);function Se(r,F){1&r&&(t.j41(0,"div",1)(1,"div"),t.nrm(2,"span"),t.k0s()())}let Te=(()=>{class r{loaderService;loading=!1;constructor(o,a){this.loaderService=o,this.loaderService.onDisplayLoaderChange.subscribe(c=>{this.loading=c,a.detectChanges()})}static \u0275fac=function(a){return new(a||r)(t.rXU(nt.Z),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:r,selectors:[["app-full-page-loader"]],decls:1,vars:1,consts:[["id","foh-full-page-loader",4,"ngIf"],["id","foh-full-page-loader"]],template:function(a,c){1&a&&t.DNE(0,Se,3,0,"div",0),2&a&&t.Y8G("ngIf",c.loading)},dependencies:[g.bT],styles:["div#foh-full-page-loader[_ngcontent-%COMP%]{direction:ltr;background-color:#80808080;z-index:10000;position:fixed;top:0;left:0;width:100%;height:100%}div#foh-full-page-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;z-index:10010;width:100px;height:100px;text-align:center;position:absolute;margin-top:-25px;margin-left:-25px;top:50%;left:50%}div#foh-full-page-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;border:8px solid #9e9e9e;border-top:8px solid #FF5722;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_foh-full-page-loader-adjust-hue .5s linear infinite}@keyframes _ngcontent-%COMP%_foh-full-page-loader-adjust-hue{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0})}return r})();function Ie(r,F){if(1&r&&(t.j41(0,"div",3),t.EFF(1),t.nI1(2,"json"),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.Lme(" [ ",o.progress,", ",t.bMT(2,2,o.show)," ]\n")}}let Re=(()=>{class r{service;elmRef;ngZone;cdRef;isTransition="none";pProgress=0;set progress(o){this.isTransition=o>=this.pProgress?"all 0.5s ease-in-out":"none",this.pProgress=o,this.cdRef.detectChanges()}get progress(){return this.pProgress}color="firebrick";height="3px";show=!1;intervalCounterId;interval=100;constructor(o,a,c,y){this.service=o,this.elmRef=a,this.ngZone=c,this.cdRef=y,this.elmRef.nativeElement.visible=!1}ngOnInit(){}start(){this.elmRef.nativeElement.visible=!0,this.show=!0,this.intervalCounterId=setInterval(()=>{this.ngZone.run(()=>{this.progress+=2,this.cdRef.detectChanges(),100===this.progress&&this.stop()})},this.interval)}stop(){this.elmRef.nativeElement.visible=!1,this.progress=0,this.show=!1,clearInterval(this.intervalCounterId),this.intervalCounterId=null,this.cdRef.detectChanges()}ngAfterViewInit(){this.stop(),this.service.onLineLoaderChange.subscribe(o=>{!1===o?this.stop():this.start()})}static \u0275fac=function(a){return new(a||r)(t.rXU(nt.Z),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:r,selectors:[["app-line-loader"]],inputs:{progress:"progress",color:"color",height:"height",show:"show"},decls:3,vars:13,consts:[[1,"slim-loading-bar"],[1,"slim-loading-bar-progress"],["style","position: fixed;bottom: 24px;left:0;padding: 8px; background-color: black; color: white",4,"ngIf"],[2,"position","fixed","bottom","24px","left","0","padding","8px","background-color","black","color","white"]],template:function(a,c){1&a&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s(),t.DNE(2,Ie,3,4,"div",2)),2&a&&(t.R7$(),t.xc7("width",c.progress+"%")("background-color",c.color)("color",c.color)("height",c.height)("opacity",c.show?"1":"0")("transition",c.isTransition),t.R7$(),t.Y8G("ngIf",!1))},dependencies:[g.bT,g.TG],styles:["[_nghost-%COMP%]   .slim-loading-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:2000}"],changeDetection:0})}return r})();var se=s(7488);function Ue(r,F){if(1&r){const o=t.RV6();t.j41(0,"button",3),t.bIt("click",function(){t.eBV(o);const c=t.XpG(2);return t.Njj(c.debug())}),t.EFF(1,"DEBUG"),t.k0s()}}function Fe(r,F){if(1&r){const o=t.RV6();t.j41(0,"div"),t.DNE(1,Ue,2,0,"button",1),t.j41(2,"div",2)(3,"button",3),t.bIt("click",function(){t.eBV(o);const c=t.XpG();return t.Njj(c.cancel())}),t.EFF(4,"\xd7"),t.k0s()(),t.nrm(5,"div",4),t.k0s()}if(2&r){const o=t.XpG();t.R7$(),t.Y8G("ngIf",o.isLocalhost)}}let De=(()=>{class r{qr;subs=[];show=!1;isLocalhost=n.c.isLocalhost;constructor(o){this.qr=o,this.subs.push(this.qr.started.subscribe(()=>{n.c.isApp&&se.eA.hide().then(a=>a),this.show=!0})),this.subs.push(this.qr.completed.subscribe(()=>{this.show=!1})),this.subs.push(this.qr.cancelled.subscribe(()=>{this.show=!1}))}ngOnInit(){}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}flash(){this.qr.flash.emit()}cancel(){n.c.isApp&&se.eA.show().then(o=>o),this.show=!1,this.qr.cancelled.emit()}swap(){this.qr.swap.emit()}debug(){this.qr.completed.emit([{fid:6810,fields:{0:"TEST TEXT FROM QR",1:10}},{fid:32,fields:{0:111222333,1:"some@email.com"}}])}static \u0275fac=function(a){return new(a||r)(t.rXU(ee.t))};static \u0275cmp=t.VBU({type:r,selectors:[["app-qr-scan-overlay"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click",4,"ngIf"],["id","qrscancancel"],[3,"click"],["id","qrscannerbottom"]],template:function(a,c){1&a&&t.DNE(0,Fe,6,1,"div",0),2&a&&t.Y8G("ngIf",c.show)},dependencies:[g.bT],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{display:block;position:fixed;inset:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{text-align:center;margin:10px;font-size:24px}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > div#qrscancancel[_ngcontent-%COMP%]{position:fixed;top:0;right:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > div#qrscancancel[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{outline:none;background-color:#00000080;color:#fff;font-size:48px;text-align:center;line-height:48px;border-radius:24px;border:none;width:48px;height:48px;padding:0}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > div#qrscannerbottom[_ngcontent-%COMP%]{display:flex;position:fixed;bottom:0;width:100%;justify-content:center;padding:10px}[_nghost-%COMP%] > div[_ngcontent-%COMP%] > div#qrscannerbottom[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{outline:none;border-radius:24px;border:none;width:48px;height:48px;background-color:#00000080;padding:10px;margin:0 10px}"]})}return r})();const Le=["*"],je=(r,F)=>({background:r,color:F});let Ae=(()=>{class r{background;color;customClass;static \u0275fac=function(a){return new(a||r)};static \u0275cmp=t.VBU({type:r,selectors:[["ngx-snack"]],inputs:{background:"background",color:"color",customClass:"customClass"},ngContentSelectors:Le,decls:2,vars:5,consts:[[1,"snack",3,"ngStyle","ngClass"]],template:function(a,c){1&a&&(t.NAR(),t.j41(0,"div",0),t.SdG(1),t.k0s()),2&a&&t.Y8G("ngStyle",t.l_i(2,je,c.background,c.color))("ngClass",c.customClass)},dependencies:[g.YU,g.B3],encapsulation:2})}return r})();var Be=s(8637);const Ge=r=>({color:r});function Ne(r,F){if(1&r){const o=t.RV6();t.j41(0,"div",5),t.bIt("click",function(){t.eBV(o);const c=t.XpG().$implicit;return t.Njj(c.action.onClick())}),t.EFF(1),t.k0s()}if(2&r){const o=t.XpG().$implicit,a=t.XpG();t.Y8G("ngStyle",t.eq3(2,Ge,o.action.color||a.accent)),t.R7$(),t.SpI(" ",o.action.text," ")}}function $e(r,F){if(1&r&&(t.j41(0,"ngx-snack",2),t.nrm(1,"div",3),t.nI1(2,"safe"),t.DNE(3,Ne,2,4,"div",4),t.k0s()),2&r){const o=F.$implicit,a=t.XpG();t.Y8G("background",o.background||a.background)("customClass",o.customClass||a.customClass)("color",o.color||a.color||a.calcTextColor(o.background||a.background)),t.R7$(),t.Y8G("innerHtml",t.i5U(2,5,o.msg,"html"),t.npT),t.R7$(2),t.Y8G("ngIf",o.action.text)}}let Ve=(()=>{class r{snackbarService;position;max;background;accent;color;customClass;timeout;onAdd=new t.bkB;onRemove=new t.bkB;onClear=new t.bkB;snacks=[];constructor(o){this.snackbarService=o,this.snackbarService.get().subscribe(a=>{"add"===a.action?this.add(a.data):"remove"===a.action?this.remove(a.id):"clear"===a.action&&this.clear()})}add(o){let a;const c=this.uuid();this.max&&this.max>0&&this.snacks.length===this.max&&this.remove(this.snacks[0].id),(o.timeout||this.timeout)&&(a=setTimeout(()=>{this.remove(c)},o.timeout||this.timeout));const y=Object.assign({id:c,timeoutObj:a},o);if(o.action){const G=this,N=o.action.onClick;o.action.onClick=()=>{N&&"function"==typeof N&&N(y),G.remove(c)}}o.onAdd&&o.onAdd(y),this.onAdd&&this.onAdd.emit(y),this.snacks.push(y)}remove(o){const a=this.snacks.find(c=>c.id===o);a&&(a.onRemove&&a.onRemove(a),this.onRemove&&this.onRemove.emit(a),a.timeoutObj&&clearTimeout(a.timeoutObj)),this.snacks=this.snacks.filter(c=>c.id!==o)}clear(){this.snacks=[],this.onClear&&this.onClear.emit(!0)}uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const a=16*Math.random()|0;return("x"===o?a:3&a|8).toString(16)})}calcTextColor(o){if(!o)return null;const c=function a(N){N=N.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(Lt,Ct,J,bt)=>Ct+Ct+J+J+bt+bt);const _t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(N);return _t?{r:parseInt(_t[1],16),g:parseInt(_t[2],16),b:parseInt(_t[3],16)}:null}(o);if(!c)return null;const y=[c.r/255,c.g/255,c.b/255];for(let N=0;N<y.length;++N)y[N]=y[N]<=.03928?y[N]/12.92:Math.pow((y[N]+.055)/1.055,2.4);return.2126*y[0]+.7152*y[1]+.0722*y[2]>.179?"#000":"#fff"}static \u0275fac=function(a){return new(a||r)(t.rXU(Q.z))};static \u0275cmp=t.VBU({type:r,selectors:[["ngx-snackbar"]],inputs:{position:"position",max:"max",background:"background",accent:"accent",color:"color",customClass:"customClass",timeout:"timeout"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onClear:"onClear"},decls:2,vars:2,consts:[[1,"snackbars",3,"ngClass"],[3,"background","customClass","color",4,"ngFor","ngForOf"],[3,"background","customClass","color"],[1,"snack-text",3,"innerHtml"],["class","snack-action",3,"ngStyle","click",4,"ngIf"],[1,"snack-action",3,"click","ngStyle"]],template:function(a,c){1&a&&(t.j41(0,"div",0),t.DNE(1,$e,4,8,"ngx-snack",1),t.k0s()),2&a&&(t.Y8G("ngClass",c.position||"bottom-right"),t.R7$(),t.Y8G("ngForOf",c.snacks))},dependencies:[g.YU,g.Sq,g.bT,g.B3,Ae,Be.m],encapsulation:2})}return r})();function Xe(r,F){1&r&&(t.j41(0,"div",3)(1,"div",4),t.EFF(2),t.k0s()()),2&r&&(t.R7$(2),t.JRh("You are offline"))}function Ye(r,F){1&r&&t.nrm(0,"app-qr-scan-overlay")}const ie=localStorage.getItem("test-apiUrl"),re=localStorage.getItem("test-staticUrl");ie&&re&&(n.c.apiUrl=ie,n.c.staticUrl=re);let We=(()=>{class r{state;loader;layout;ngZone;router;location;t;snack;injector;title="NG-FOH";currentUrl="";backClickedOnce=!1;isApp=n.c.isApp;isLocalhost=n.c.isLocalhost;constructor(o,a,c,y,G,N,D,_t,Lt,Ct){this.state=o,this.loader=a,this.layout=c,this.ngZone=y,this.router=G,this.location=N,this.t=D,this.snack=_t,this.injector=Ct,(0,Oe.Yl)("bs3"),this.state.applyCss(),G.events.subscribe(J=>{this.ngZone.run(()=>{J instanceof f.j5&&this.loader.stop(),J instanceof f.Z&&(this.state.updateNotificationsCounter.emit(),this.layout.menustate.emit(!1),this.layout.showSearch.emit(!1),this.loader.start()),J instanceof f.wF&&(J.url.startsWith("/menu-planner")&&!J.url.startsWith("/menu-planner/cook-view")||J.url.startsWith("/wc-foh-sandbox")?this.layout.fullWidth.emit(!0):this.layout.fullWidth.emit(!1),n.c.production&&(this.currentUrl=J.urlAfterRedirects,ga("set","page",this.currentUrl),ga("send","pageview")),this.loader.stop())})}),window.hasOwnProperty("customElements")&&(customElements.define("wc-foh-icon-card",(0,ne.gw)(ye.y,{injector:Ct})),customElements.define("wc-foh-card",(0,ne.gw)(kt.B,{injector:Ct}))),Lt.init(),oe.l.addListener("networkStatusChange",J=>{this.ngZone.run(()=>{J.connected&&!this.state.connected?this.ngZone.run(()=>{this.state.connected=!0,this.state.networkStateChanged.emit(this.state.connected)}):!J.connected&&this.state.connected&&this.ngZone.run(()=>{this.state.connected=!1,this.state.networkStateChanged.emit(this.state.connected)})})}),oe.l.getStatus().then(J=>{this.ngZone.run(()=>{this.state.connected=J.connected,this.state.networkStateChanged.emit(this.state.connected)})}).catch(J=>console.log(J)),n.c.isApp?(Kt.q.addListener("appUrlOpen",J=>{this.ngZone.run(()=>{const bt=document.createElement("a");bt.href=J.url,this.router.navigateByUrl(bt.pathname+bt.search+bt.hash)})}),Kt.q.addListener("backButton",()=>{this.ngZone.run(()=>{"/dashboard"===this.currentUrl.toLowerCase()?this.backClickedOnce?Kt.q.exitApp():(this.snack.clear(),this.snack.add({msg:this.t.translate("Click again to exit app"),timeout:2e3,action:{text:this.t.translate("OK"),onClick:()=>{Kt.q.exitApp()}}}),this.backClickedOnce=!0,setTimeout(()=>{this.ngZone.run(()=>{this.backClickedOnce=!1})},2e3)):this.location.back()})}),xe.s3.setAccessoryBarVisible({isVisible:!0}).then(()=>{}).catch(()=>{}),n.c.production&&(ga("set","hostname","ng-foh-app"),ga("set","appName","NG-FOH APP"),ga("set","appVersion",L.r+"."+z.q))):n.c.production&&(ga("set","appName","NG-FOH WEB"),ga("set","appVersion",L.r+"."+z.q)),n.c.isApp?Kt.q.getInfo().then(J=>{this.state.platform=Ee.Ii.getPlatform(),n.c.isApp&&(this.state.version=J.version)}):(this.state.version=L.r,this.state.platform="web"),te("wc-foh-loader",n.c.staticUrl+"/js/wc-foh/dist/wc-foh/wc-foh.esm.js",!0,()=>{console.log("wc-foh loaded")})}static \u0275fac=function(a){return new(a||r)(t.rXU(v.d),t.rXU(nt.Z),t.rXU(T.Y),t.rXU(t.SKi),t.rXU(f.Ix),t.rXU(g.aZ),t.rXU(m.JO),t.rXU(Q.z),t.rXU(ke.T),t.rXU(t.zZn))};static \u0275cmp=t.VBU({type:r,selectors:[["app-root"]],decls:6,vars:5,consts:[[3,"position","timeout","max"],["id","foh-offline-banner",4,"ngIf"],[4,"ngIf"],["id","foh-offline-banner"],["id","foh-offline-message"]],template:function(a,c){1&a&&(t.nrm(0,"app-line-loader")(1,"router-outlet")(2,"app-full-page-loader")(3,"ngx-snackbar",0),t.DNE(4,Xe,3,1,"div",1)(5,Ye,1,0,"app-qr-scan-overlay",2)),2&a&&(t.R7$(3),t.Y8G("position","bottom-center")("timeout",5e3)("max",1),t.R7$(),t.Y8G("ngIf",!c.state.connected),t.R7$(),t.Y8G("ngIf",c.isApp||c.isLocalhost))},dependencies:[g.bT,f.n3,Te,Re,De,Ve],styles:["[_nghost-%COMP%]   div#foh-offline-banner[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;display:flex;justify-content:center}[_nghost-%COMP%]   div#foh-offline-banner[_ngcontent-%COMP%] > div#foh-offline-message[_ngcontent-%COMP%]{text-align:center;padding:10px;background-color:#ff0}@media screen and (max-width: 479px){[_nghost-%COMP%] > div#foh-offline-banner[_ngcontent-%COMP%] > div#foh-offline-message[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 480px) and (max-width: 639px){[_nghost-%COMP%] > div#foh-offline-banner[_ngcontent-%COMP%] > div#foh-offline-message[_ngcontent-%COMP%]{width:100%;max-width:640px}}@media screen and (min-width: 640px) and (max-width: 959px){[_nghost-%COMP%] > div#foh-offline-banner[_ngcontent-%COMP%] > div#foh-offline-message[_ngcontent-%COMP%]{width:100%;max-width:959px}}@media screen and (min-width: 960px){[_nghost-%COMP%] > div#foh-offline-banner[_ngcontent-%COMP%] > div#foh-offline-message[_ngcontent-%COMP%]{width:100%;max-width:960px}}"]})}return r})();var ae=s(9862);let He=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({imports:[g.MD,f.iI,ae.E,ot.h,m.Q8]})}return r})();var Ke=s(8165),ze=s(1391),Je=s(6721),Ze=s(9733),Qe=s(7159),qe=s(2577),tn=s(2552);let en=(()=>{class r{static forRoot(){return{ngModule:r,providers:[Q.z]}}static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({providers:[Q.z],imports:[g.MD,h.Y]})}return r})();var nn=s(9645);s(8214),s(598),s(5642),s(6344),s(2121);let on=(()=>{class r{http;constructor(o){this.http=o}getTranslation(o){return this.http.get(n.c.deployUrl+`/assets/i18n/${o}.json?v=${L.r+"."+z.q}`)}static \u0275fac=function(a){return new(a||r)(t.KVO(M.Qq))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Et=localStorage.getItem("user-selected-language");(null==Et||""===Et)&&(Et=localStorage.getItem("selected-language"));let yt="en";if(null==Et||""===Et){if(n.c.isLocalhost||n.c.isApp){yt=window.navigator.language.slice(0,2);const r=window.localStorage.getItem("chain");if((0,m.Kg)(r)){const F=JSON.parse(r);F.default_locale&&(yt=F.default_locale.slice(0,2))}}else if(n.c.domainMode&&window.hasOwnProperty("NGFOHChainLocate")&&""!==NGFOHChainLocate.trim()){const r=navigator.language.slice(0,2);switch(r){case"en":case"he":case"ro":case"ru":case"fr":case"es":yt=r;break;default:yt="en"}}}else yt=Et;let sn=(()=>{class r{constructor(){document.body.parentElement.setAttribute("dir","he"===yt?"rtl":"ltr"),document.body.parentElement.setAttribute("lang",yt),nn.locale(yt)}static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r});static \u0275inj=t.G2t({providers:[{provide:m.Ll,useValue:(0,m.wz)({availableLangs:["en","he","ru","ro","fr","es"],defaultLang:yt,fallbackLang:"en",reRenderOnLangChange:!0,prodMode:n.c.production,missingHandler:{allowEmpty:!1,logMissingKey:!1}})},{provide:m.oH,useClass:on}],imports:[m.Q8]})}return r})();var rn=s(655),ft=s(4289),an=s(8836);let cn=(()=>{class r extends t.zcH{http;state;constructor(o,a){super(),this.http=o,this.state=a}handleError(o){if(super.handleError(o),!this.state.connected)return;const a=o.constructor.name,c=o.message,y=o.stack?o.stack.toString():"",G=new Date,N={dateString:G.toString(),timestamp:G.getTime(),name:a,message:c,trace:y,isApp:n.c.isApp,production:n.c.production,version:L.r+"."+z.q,userAgent:navigator.userAgent};this.send(N)}send(o){this.http.post(n.c.apiUrl+"/api/log/ngFoh",o).subscribe(()=>{},a=>{console.log("Was unable to send log to server: "+JSON.stringify(a))})}static \u0275fac=function(a){return new(a||r)(t.KVO(M.Qq),t.KVO(v.d))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ln=(()=>{class r{cookie;constructor(o){this.cookie=o}intercept(o,a){return a.handle(o)}static \u0275fac=function(a){return new(a||r)(t.KVO(it.O))};static \u0275prov=t.jDH({token:r,factory:r.\u0275fac})}return r})();var hn=s(5108),dn=s(2613),gn=s(3757),pn=s(7566),un=s(6972),mn=s(2644),fn=s(5669),_n=s(1565),Cn=s(9663);(0,ft.mO)("he",ft.y4),(0,ft.mO)("ru",ft.sI),(0,ft.mO)("ro",ft.wV),(0,ft.mO)("fr",ft.JH),(0,ft.mO)("es",ft.Rj),(0,g.EO)(un.A),(0,g.EO)(pn.A),(0,g.EO)(mn.A),(0,g.EO)(fn.A),(0,g.EO)(_n.A);let bn=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=t.$C({type:r,bootstrap:[We]});static \u0275inj=t.G2t({providers:[M.Qq,d.G,v.d,e.g,{provide:t.zcH,useClass:cn},{provide:M.a7,useClass:ln,multi:!0},{provide:gn.kC,useValue:{apiKey:"AIzaSyAObbmOETMCJrUPjeBozndTEKHmIOfPaus"}}],imports:[i.Bb,tn.wb,M.q1,we,ot.h,He,ze.UserLoginModule,an.UserModule,ae.E,Ke.Q_.forRoot(),Ze.zE.forRoot(),Je.YN.forRoot(),en.forRoot(),Qe.k0.forRoot(),qe.gS.forRoot(),sn,dn.Qc,hn.JQ,i.Bb,rn.b,Cn.u.forRoot({animation:150}),K.Od.forRoot({isLocalhost:!0,apiUrl:n.c.apiUrl,staticUrl:n.c.staticUrl})]})}return r})();n.c.production&&(0,t.SmG)(),i.sG().bootstrapModule(bn).catch(r=>console.error(r));try{navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(r){for(let F of r)F.unregister().then(()=>{console.log("Worker unregistered")})})}catch(r){console.log("Exception in unregistering service workers:"),console.log(r)}}},X=>{X.O(0,[502],()=>X(X.s=1095)),X.O()}]);
//# sourceMappingURL=main.90802105ab51bb17.js.map